LavaPack.loadBundle([[4743,{"../../shared/constants/transaction":3943,"../../shared/lib/metamask-controller-utils":3946,"../../shared/modules/string-utils":3971,"../ducks/metamask/metamask":4653,"../helpers/constants/common":4659,"../helpers/constants/transactions":4672,"../helpers/utils/common.util":4685,"../helpers/utils/token-util":4701,"../helpers/utils/transactions.util":4702,"../helpers/utils/util":4704,"../selectors/selectors":5213,"../store/actions":5217,"./useCurrencyDisplay":4714,"./useCurrentAsset":4715,"./useI18nContext":4721,"./useSwappedTokenValue":4735,"./useTokenData":4738,"./useTokenDisplayValue":4739,"./useTokenFiatAmount":4740,"./useUserPreferencedCurrency":4745,"@metamask/transaction-controller":1692,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,P,M,S,O,N,j;const I=(0,a.useDispatch)(),A=(0,w.useCurrentAsset)(),D=(0,a.useSelector)(f.getTokens),F=(0,a.useSelector)(f.getNfts),R=(0,a.useSelector)(s.getDetectedTokensInCurrentNetwork)||[],G=(0,a.useSelector)(s.getTokenList),L=(0,v.useI18nContext)(),{initialTransaction:B,primaryTransaction:$}=e,{type:W}=B,{from:q,to:V}=B.txParams||{},U=(0,a.useSelector)((e=>{var t;return(0,s.getKnownMethodData)(e,null==B||null===(t=B.txParams)||void 0===t?void 0:t.data)}))||{},H=(0,i.getStatusKey)($),z=H in p.PENDING_STATUS_HASH,Y=H===o.TransactionStatus.submitted,K=(0,r.useRef)(!0),X=null===(t=$.txParams)||void 0===t?void 0:t.value,J=(0,d.formatDateWithYearContext)(B.time);let Z,Q="-",ee=!1,te=V;const ne=p.TOKEN_CATEGORY_HASH[W];let ae=null;const[re,oe]=(0,r.useState)(null);ne&&(ae=D.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,te)))||R.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,te)))||G[te.toLowerCase()]);(0,r.useEffect)((()=>()=>{K.current=!1}),[]),(0,r.useEffect)((()=>{!async function(){if(ne&&!ae){var e;const t=await(0,u.getAssetDetails)(V,q,null==B||null===(e=B.txParams)||void 0===e?void 0:e.data,F);!0===K.current&&oe(t)}}()}),[ne,ae,te,q,null==B||null===(n=B.txParams)||void 0===n?void 0:n.data,F,V,K]),re&&(ae={address:re.toAddress,symbol:re.symbol,decimals:re.decimals});const se=(0,E.useTokenData)(null==B||null===(P=B.txParams)||void 0===P?void 0:P.data,ne),ie=(0,u.getTokenIdParam)(se)??(0,h.getTokenValueParam)(se),le=ne&&F.find((({address:e,tokenId:t})=>(0,y.isEqualCaseInsensitive)(e,te)&&t===ie)),ce=(0,x.useTokenDisplayValue)(null==$||null===(M=$.txParams)||void 0===M?void 0:M.data,ae,ne),ue=(0,b.useTokenFiatAmount)(null===(S=ae)||void 0===S?void 0:S.address,ce,null===(O=ae)||void 0===O?void 0:O.symbol),de=(0,d.stripHttpSchemes)(B.origin||(null===(N=B.msgParams)||void 0===N?void 0:N.origin)||"");let pe,fe,me=ne?null===(j=ae)||void 0===j?void 0:j.symbol:undefined,ge=ne?ce:undefined,ye=ne?ue:undefined;const{swapTokenValue:he,isNegative:ve,swapTokenFiatAmount:be,isViewingReceivedTokenFromSwap:_e}=(0,k.useSwappedTokenValue)(e,A);if(C.includes(W))pe=m.TransactionGroupCategory.signatureRequest,fe=L("signatureRequest"),Z=de,ee=!0;else if(W===o.TransactionType.swap)pe=m.TransactionGroupCategory.swap,fe=L("swapTokenToToken",[B.sourceTokenSymbol,B.destinationTokenSymbol]),Z=de,ee=!0,me=_e?A.symbol:B.sourceTokenSymbol,ge=he,ye=be,Q=ve?"":_e?"+":"-";else if(W===o.TransactionType.swapApproval)pe=m.TransactionGroupCategory.approval,fe=L("swapApproval",[$.sourceTokenSymbol]),Z=de,ee=!0,me=$.sourceTokenSymbol;else if(W===o.TransactionType.tokenMethodApprove){var Te;pe=m.TransactionGroupCategory.approval,Q="",fe=L("approveSpendingCap",[(null===(Te=ae)||void 0===Te?void 0:Te.symbol)||L("token").toLowerCase()]),Z=de,ee=!0}else if(W===o.TransactionType.tokenMethodSetApprovalForAll){var xe;pe=m.TransactionGroupCategory.approval,Q="",fe=L("setApprovalForAllTitle",[(null===(xe=ae)||void 0===xe?void 0:xe.symbol)||L("token")]),Z=de,ee=!0}else if(W===o.TransactionType.contractInteraction){pe=m.TransactionGroupCategory.interaction;const e=(0,i.getTransactionTypeTitle)(L,W);fe=(null==U?void 0:U.name)&&(0,l.camelCaseToCapitalize)(U.name)||e,Z=de,ee=!0}else if(W===o.TransactionType.deployContract)pe=m.TransactionGroupCategory.interaction,fe=(0,i.getTransactionTypeTitle)(L,W),Z=de,ee=!0;else if(W===o.TransactionType.incoming)pe=m.TransactionGroupCategory.receive,fe=L("receive"),Q="",Z=L("fromAddress",[(0,d.shortenAddress)(q)]);else if(W===o.TransactionType.tokenMethodTransferFrom||W===o.TransactionType.tokenMethodTransfer){var Ee;pe=m.TransactionGroupCategory.send,fe=L("sendSpecifiedTokens",[(null===(Ee=ae)||void 0===Ee?void 0:Ee.symbol)||(null==le?void 0:le.name)||L("token")]),te=(0,u.getTokenAddressParam)(se),Z=L("toAddress",[(0,d.shortenAddress)(te)])}else W===o.TransactionType.tokenMethodSafeTransferFrom?(pe=m.TransactionGroupCategory.send,fe=L("safeTransferFrom"),te=(0,u.getTokenAddressParam)(se),Z=L("toAddress",[(0,d.shortenAddress)(te)])):W===o.TransactionType.simpleSend?(pe=m.TransactionGroupCategory.send,fe=L("send"),Z=L("toAddress",[(0,d.shortenAddress)(te)])):I((0,g.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${W}`));const ke=(0,_.useUserPreferencedCurrency)(c.PRIMARY),we=(0,_.useUserPreferencedCurrency)(c.SECONDARY),[Ce]=(0,T.useCurrencyDisplay)(X,{prefix:Q,displayValue:ge,suffix:me,...ke}),[Pe]=(0,T.useCurrencyDisplay)(X,{prefix:Q,displayValue:ye,hideLabel:ne||Boolean(he),...we});return{title:fe,category:pe,date:J,subtitle:Z,subtitleContainsOrigin:ee,primaryCurrency:W===o.TransactionType.swap&&z?"":Ce,senderAddress:q,recipientAddress:te,secondaryCurrency:ne&&!ue||W===o.TransactionType.swap&&!be?undefined:Pe,displayedStatusKey:H,isPending:z,isSubmitted:Y}};var a=e("react-redux"),r=e("react"),o=e("@metamask/transaction-controller"),s=e("../selectors/selectors"),i=e("../helpers/utils/transactions.util"),l=e("../helpers/utils/common.util"),c=e("../helpers/constants/common"),u=e("../helpers/utils/token-util"),d=e("../helpers/utils/util"),p=e("../helpers/constants/transactions"),f=e("../ducks/metamask/metamask"),m=e("../../shared/constants/transaction"),g=e("../store/actions"),y=e("../../shared/modules/string-utils"),h=e("../../shared/lib/metamask-controller-utils"),v=e("./useI18nContext"),b=e("./useTokenFiatAmount"),_=e("./useUserPreferencedCurrency"),T=e("./useCurrencyDisplay"),x=e("./useTokenDisplayValue"),E=e("./useTokenData"),k=e("./useSwappedTokenValue"),w=e("./useCurrentAsset");const C=[null,undefined,o.TransactionType.sign,o.TransactionType.personalSign,o.TransactionType.signTypedData,o.TransactionType.ethDecrypt,o.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui\\hooks\\useTransactionDisplayData.js"}],[4744,{"../../shared/modules/hexstring-utils":3962,"../components/app/snaps/snap-insight/snap-insight":4158,"../components/ui/tabs":4605,"../components/ui/tabs/snaps/dropdown-tab":4607,"../helpers/utils/util":4704,"../selectors":5210,"./snaps/useTransactionInsightSnaps":4710,"@metamask/snaps-sdk":1642,"@metamask/transaction-controller":1692,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("@metamask/snaps-sdk"),i=e("@metamask/transaction-controller"),l=e("../../shared/modules/hexstring-utils"),c=e("../components/ui/tabs"),u=(a=e("../components/ui/tabs/snaps/dropdown-tab"))&&a.__esModule?a:{default:a},d=e("../components/app/snaps/snap-insight/snap-insight"),p=e("../selectors"),f=e("../helpers/utils/util"),m=e("./snaps/useTransactionInsightSnaps");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=({txData:e})=>{var t;const{txParams:n,chainId:a,origin:g}=e,y=`eip155:${(0,l.stripHexPrefix)(a)}`,h=(0,o.useSelector)(p.getInsightSnaps),v=(0,o.useSelector)(p.getSubjectMetadataDeepEqual),b=(0,o.useSelector)(p.getInsightSnapIds),[_,T]=(0,r.useState)(null===(t=h[0])||void 0===t?void 0:t.id),x={transaction:n,chainId:y,origin:g,insightSnaps:b,insightSnapId:_},{data:E,loading:k}=(0,m.useTransactionInsightSnaps)({...x,eagerFetching:!1});if((0,r.useEffect)((()=>{b.length>0&&!_&&T(b[0])}),[b,_,T]),(w=e.type)!==i.TransactionType.contractInteraction&&w!==i.TransactionType.simpleSend&&w!==i.TransactionType.tokenMethodSafeTransferFrom&&w!==i.TransactionType.tokenMethodTransferFrom&&w!==i.TransactionType.tokenMethodTransfer||!h.length)return null;var w;const C=h.find((({id:e})=>e===_));let P;if(1===h.length)P=r.default.createElement(c.Tab,{className:"confirm-page-container-content__tab",name:(0,f.getSnapName)(null==C?void 0:C.id,v[null==C?void 0:C.id])},r.default.createElement(d.SnapInsight,{snapId:_,loading:k,insightHookParams:x}));else if(h.length>1){const e=null==h?void 0:h.map((({id:e})=>({value:e,name:(0,f.getSnapName)(e,v[e])})));P=r.default.createElement(u.default,{className:"confirm-page-container-content__tab",options:e,selectedOption:_,onChange:e=>T(e)},r.default.createElement(d.SnapInsight,{snapId:_,loading:k,insightHookParams:x}))}return{insightComponent:P,warnings:null==E?void 0:E.reduce(((e,t)=>{var n;if((null===(n=t.response)||void 0===n?void 0:n.severity)===s.SeverityLevel.Critical){const{snapId:n,response:{id:a}}=t;e.push({snapId:n,id:a})}return e}),[])}}}}},{package:"$root$",file:"ui\\hooks\\useTransactionInsights.js"}],[4745,{"../../shared/constants/common":3922,"../ducks/metamask/metamask":4653,"../helpers/constants/common":4659,"../selectors":5210,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={}){const n=(0,a.useSelector)(o.getNativeCurrency),{useNativeCurrencyAsPrimaryCurrency:l}=(0,a.useSelector)(r.getPreferences,a.shallowEqual),c=(0,a.useSelector)(r.getShouldShowFiat),u={currency:(0,a.useSelector)(r.getCurrentCurrency),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},d={currency:n||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||8};if(t.showNativeOverride)return d;if(t.showFiatOverride)return u;if(!c||e===s.PRIMARY&&l||e===s.SECONDARY&&!l)return d;return u};var a=e("react-redux"),r=e("../selectors"),o=e("../ducks/metamask/metamask"),s=e("../helpers/constants/common"),i=e("../../shared/constants/common")}}},{package:"$root$",file:"ui\\hooks\\useUserPreferencedCurrency.js"}],[4746,{"../app/scripts/lib/setupSentry":80,"../app/scripts/lib/util":90,"../shared/constants/alerts":3919,"../shared/constants/app":3920,"../shared/constants/copy":3923,"../shared/lib/error-utils":3944,"../shared/lib/switch-direction":3949,"../shared/modules/object.utils":3966,"./ducks/alerts":4641,"./ducks/metamask/metamask":4653,"./helpers/utils/tx-helper":4703,"./pages":5014,"./selectors":5210,"./store/actions":5217,"./store/background-connection":5218,"./store/store":5219,"copy-to-clipboard":2459,lodash:3292,loglevel:3302,react:3653,"react-dom":3506,"webextension-polyfill":3902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const{backgroundConnection:n}=e;n.getState((function(a,r){a?t(a,{...r},n):async function(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:r}=await(0,y.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,g.default)("rtl");const o={activeTab:n.activeTab,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:a,en:r}};if(M(t),(0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){var l;const{origin:e}=o.activeTab,t=(0,b.getPermittedAccountsForCurrentTab)(o),n=(null===(l=(0,b.getSelectedInternalAccount)(o))||void 0===l?void 0:l.address)??"",a=(0,T.getUnconnectedAccountAlertShown)(o),r=(0,T.getUnconnectedAccountAlertEnabledness)(o);e&&r&&!a[e]&&t.length>0&&!t.includes(n)&&(o[u.AlertTypes.unconnectedAccount]={state:_.ALERT_STATE.OPEN},h.setUnconnectedAccountAlertShown(e))}const d=(0,v.default)(o);P=d;const p=(0,b.getUnapprovedTransactions)(e),m=(0,E.default)(p,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,e.providerConfig.chainId);m.length>0&&d.dispatch(h.showConfTxPage({id:m[0].id}));return global.metamask={updateCurrentLocale:e=>{d.dispatch(h.updateCurrentLocale(e))},setProviderType:e=>{d.dispatch(h.setProviderType(e))},setFeatureFlag:(e,t)=>{d.dispatch(h.setFeatureFlag(e,t))}},(0,i.render)(s.default.createElement(x.default,{store:d}),n.container),d}(r,n,e).then((e=>{!function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,o.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t.completeTxList=await h.getTransactions({filterToCurrentNetwork:!1}),t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,d.maskObject)(t,p.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(e),t(null,e)}))}))},n.updateBackgroundConnection=void 0;var a=C(e("copy-to-clipboard")),r=C(e("loglevel")),o=e("lodash"),s=C(e("react")),i=e("react-dom"),l=C(e("webextension-polyfill")),c=e("../app/scripts/lib/util"),u=e("../shared/constants/alerts"),d=e("../shared/modules/object.utils"),p=e("../app/scripts/lib/setupSentry"),f=e("../shared/constants/app"),m=e("../shared/constants/copy"),g=C(e("../shared/lib/switch-direction")),y=e("../shared/lib/error-utils"),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./store/actions")),v=C(e("./store/store")),b=e("./selectors"),_=e("./ducks/alerts"),T=e("./ducks/metamask/metamask"),x=C(e("./pages")),E=C(e("./helpers/utils/tx-helper")),k=e("./store/background-connection");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}let P;r.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const M=e=>{(0,k.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);P.dispatch(h.updateMetamaskState(e.params[0]))}))};n.updateBackgroundConnection=M,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();l.default.runtime.getPlatformInfo().then((a=>{t.platform=a,t.logs=n;const r=JSON.stringify(t,null,2);e(null,r)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,a.default)(n,m.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui\\index.js"}],[4747,{"../../../shared/modules/string-utils":3971,"../../components/app/nft-details/nft-details":4103,"../../ducks/metamask/metamask":4653,"../../helpers/constants/routes":4666,"./components/native-asset":4751,"./components/token-asset":4752,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/nft-details/nft-details")),l=e("../../ducks/metamask/metamask"),c=e("../../helpers/constants/routes"),u=p(e("./components/native-asset")),d=p(e("./components/token-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(l.getNativeCurrency),t=(0,r.useSelector)(l.getTokens),n=(0,r.useSelector)(l.getNfts),{asset:p,id:f}=(0,o.useParams)(),m=t.find((({address:e})=>(0,s.isEqualCaseInsensitive)(e,p))),g=n.find((({address:e,tokenId:t})=>(0,s.isEqualCaseInsensitive)(e,p)&&f===t.toString()));let y;return(0,a.useEffect)((()=>{document.querySelector(".app").scroll(0,0)}),[]),y=g?a.default.createElement(i.default,{nft:g}):m?a.default.createElement(d.default,{token:m}):p===e?a.default.createElement(u.default,{nativeCurrency:e}):a.default.createElement(o.Redirect,{to:{pathname:c.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},y)}}}},{package:"$root$",file:"ui\\pages\\asset\\asset.js"}],[4748,{"../../../components/component-library":4330,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=e("../../../components/component-library");function s(e){return e&&e.__esModule?e:{default:e}}const i=({accountName:e,assetName:t,onBack:n})=>a.default.createElement("button",{className:"asset-breadcrumb",onClick:n},a.default.createElement(o.Icon,{name:o.IconName.ArrowLeft,"data-testid":"asset__back",marginInlineEnd:3,size:o.IconSize.Xs}),a.default.createElement("span",null,e)," / ",a.default.createElement("span",{className:"asset-breadcrumb__asset"},t));i.propTypes={accountName:r.default.string.isRequired,assetName:r.default.string.isRequired,onBack:r.default.func.isRequired};n.default=i}}},{package:"$root$",file:"ui\\pages\\asset\\components\\asset-breadcrumb.js"}],[4749,{"./asset-breadcrumb":4748,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=s(e("./asset-breadcrumb"));function s(e){return e&&e.__esModule?e:{default:e}}const i=({accountName:e,assetName:t,onBack:n,optionsButton:r})=>a.default.createElement("div",{className:"asset-navigation"},a.default.createElement(o.default,{accountName:e,assetName:t,onBack:n}),r);i.propTypes={accountName:r.default.string.isRequired,assetName:r.default.string.isRequired,onBack:r.default.func.isRequired,optionsButton:r.default.element};n.default=i}}},{package:"$root$",file:"ui\\pages\\asset\\components\\asset-navigation.js"}],[4750,{"../../../components/component-library":4330,"../../../components/ui/menu":4570,"../../../contexts/i18n":4634,"../../../helpers/constants/design-system":4661,"../../../helpers/constants/routes":4666,"../../../selectors":5210,"prop-types":3451,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("react-redux"),l=e("../../../contexts/i18n"),c=e("../../../components/ui/menu"),u=e("../../../selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:a,isNativeAsset:o})=>{const m=(0,r.useContext)(l.I18nContext),[g,y]=(0,r.useState)(!1),h=(0,s.useHistory)(),v=(0,i.useSelector)(u.getBlockExplorerLinkText),b=(0,r.useRef)(!1);return r.default.createElement("div",{ref:b},r.default.createElement(p.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>y(!0),ariaLabel:m("assetOptions"),iconName:p.IconName.MoreVertical,color:f.Color.textDefault,size:p.ButtonIconSize.Sm}),g?r.default.createElement(c.Menu,{anchorElement:b.current,onHide:()=>y(!1)},r.default.createElement(c.MenuItem,{iconName:p.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===v.firstPart?()=>{h.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{y(!1),t()}},m(v.firstPart,""===v.secondPart?null:[m("blockExplorerAssetAction")])),o?null:r.default.createElement(c.MenuItem,{iconName:p.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{y(!1),e()}},m("hideTokenSymbol",[a])),o?null:r.default.createElement(c.MenuItem,{iconName:p.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{y(!1),n()}},m("tokenDetails"))):null)},y=e=>"function"!=typeof e;g.propTypes={isNativeAsset:o.default.bool,onClickBlockExplorer:o.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&y(e.onRemove))throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:e=>{if(!1===e.isNativeAsset&&y(e.onViewTokenDetails))throw new Error("When isNativeAsset is true, onViewTokenDetails is a required prop")},tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui\\pages\\asset\\components\\asset-options.js"}],[4751,{"../../../../shared/constants/metametrics":3930,"../../../components/app/transaction-list":4246,"../../../components/app/wallet-overview":4258,"../../../contexts/metametrics":4635,"../../../helpers/constants/routes":4666,"../../../helpers/utils/util":4704,"../../../selectors/selectors":5213,"./asset-navigation":4749,"./asset-options":4750,"@metamask/etherscan-link":1196,"prop-types":3451,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=h(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),l=h(e("../../../components/app/transaction-list")),c=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/util"),f=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),g=h(e("./asset-navigation")),y=h(e("./asset-options"));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b({nativeCurrency:e}){const{name:t,address:n}=(0,o.useSelector)(u.getSelectedInternalAccount),r=(0,o.useSelector)(u.getCurrentChainId),h=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),v=(0,s.useHistory)(),b=(0,i.getAccountLink)(n,r,h),_=(0,a.useContext)(f.MetaMetricsContext),T=(0,o.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{accountName:t,assetName:e,onBack:()=>v.push(d.DEFAULT_ROUTE),optionsButton:a.default.createElement(y.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{_({event:"Clicked Block Explorer Link",category:m.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,p.getURLHostName)(b)}}),global.platform.openTab({url:b})},isCustomNetwork:T})}),a.default.createElement(c.EthOverview,{className:"asset__overview",showAddress:!1}),a.default.createElement(l.default,{hideTokenTransactions:!0}))}b.propTypes={nativeCurrency:r.default.string.isRequired}}}},{package:"$root$",file:"ui\\pages\\asset\\components\\native-asset.js"}],[4752,{"../../../../shared/constants/metametrics":3930,"../../../components/app/transaction-list":4246,"../../../components/app/wallet-overview":4258,"../../../contexts/metametrics":4635,"../../../helpers/constants/routes":4666,"../../../helpers/utils/util":4704,"../../../selectors/selectors":5213,"../../../store/actions":5217,"./asset-navigation":4749,"./asset-options":4750,"@metamask/etherscan-link":1196,"prop-types":3451,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),l=v(e("../../../components/app/transaction-list")),c=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/util"),f=e("../../../store/actions"),m=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/metametrics"),y=v(e("./asset-navigation")),h=v(e("./asset-options"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function _({token:e}){const t=(0,o.useDispatch)(),n=(0,o.useSelector)(u.getCurrentChainId),r=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),v=(0,o.useSelector)(u.getSelectedInternalAccount),b=v.metadata.name,_=v.address,T=(0,s.useHistory)(),x=(0,i.getTokenTrackerLink)(e.address,n,null,_,r),E=(0,a.useContext)(m.MetaMetricsContext),k=(0,o.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(y.default,{accountName:b,assetName:e.symbol,onBack:()=>T.push(d.DEFAULT_ROUTE),optionsButton:a.default.createElement(h.default,{onRemove:()=>t((0,f.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:T})),isCustomNetwork:k,onClickBlockExplorer:()=>{E({event:"Clicked Block Explorer Link",category:g.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,p.getURLHostName)(x)}}),global.platform.openTab({url:x})},onViewTokenDetails:()=>{T.push(`${d.TOKEN_DETAILS}/${e.address}`)},tokenSymbol:e.symbol})}),a.default.createElement(c.TokenOverview,{className:"asset__overview",token:e}),a.default.createElement(l.default,{tokenAddress:e.address}))}_.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string}).isRequired}}}},{package:"$root$",file:"ui\\pages\\asset\\components\\token-asset.js"}],[4753,{"./asset":4747},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\asset\\index.js"}],[4754,{"../../../shared/constants/metametrics":3930,"../../../shared/constants/network":3931,"../../../shared/constants/transaction":3943,"../../components/app/network-account-balance-header/network-account-balance-header":4098,"../../components/app/nft-default-image/nft-default-image":4101,"../../components/component-library":4330,"../../components/ui/page-container":4581,"../../components/ui/site-origin/site-origin":4602,"../../contexts/i18n":4634,"../../contexts/metametrics":4635,"../../ducks/history/history":4650,"../../helpers/constants/common":4659,"../../helpers/constants/design-system":4661,"../../helpers/utils/util":4704,"../../hooks/useCurrencyDisplay":4714,"../../hooks/useOriginMetadata":4727,"../../hooks/useUserPreferencedCurrency":4745,"../../selectors":5210,"../../store/actions":5217,"@metamask/etherscan-link":1196,classnames:2418,"eth-rpc-errors":2641,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("eth-rpc-errors"),i=e("@metamask/etherscan-link"),l=M(e("classnames")),c=e("../../components/ui/page-container"),u=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),f=e("../../store/actions"),m=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction"),y=e("../../components/component-library"),h=e("../../selectors"),v=M(e("../../components/app/nft-default-image/nft-default-image")),b=e("../../helpers/utils/util"),_=e("../../helpers/constants/design-system"),T=M(e("../../components/app/network-account-balance-header/network-account-balance-header")),x=e("../../../shared/constants/network"),E=M(e("../../components/ui/site-origin/site-origin")),k=e("../../helpers/constants/common"),w=e("../../hooks/useUserPreferencedCurrency"),C=e("../../hooks/useCurrencyDisplay"),P=e("../../hooks/useOriginMetadata");function M(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(u.I18nContext),n=(0,r.useDispatch)(),M=(0,o.useHistory)(),S=(0,r.useSelector)(p.getMostRecentOverviewPage),O=(0,r.useSelector)(h.getSuggestedNfts).sort(((e,t)=>e.requestData.asset.tokenId-t.requestData.asset.tokenId)),N=(0,r.useSelector)(h.getRpcPrefsForCurrentProvider),j=(0,r.useSelector)(h.getCurrentChainId),I=(0,r.useSelector)(h.getIpfsGateway),A=(0,a.useContext)(d.MetaMetricsContext),D=(0,r.useSelector)(h.getNetworkIdentifier),{address:F}=(0,r.useSelector)(h.getSelectedInternalAccount),R=(0,r.useSelector)(h.getSelectedAccountCachedBalance),G=(0,r.useSelector)((e=>(0,h.getAddressBookEntryOrAccountName)(e,F))),L=x.NETWORK_TO_NAME_MAP[j]||D,{currency:B,numberOfDecimals:$}=(0,w.useUserPreferencedCurrency)(k.PRIMARY,{ethNumberOfDecimals:4}),[W]=(0,C.useCurrencyDisplay)(R,{numberOfDecimals:$,currency:B}),q=(0,P.useOriginMetadata)(null===(e=O[0])||void 0===e?void 0:e.origin)||{},V=(0,a.useCallback)((async()=>{await Promise.all(O.map((async({requestData:{asset:e},id:t})=>{await n((0,f.resolvePendingApproval)(t,null)),A({event:m.MetaMetricsEventName.NftAdded,category:m.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_contract_address:e.address,token_symbol:e.symbol,token_id:e.tokenId,token_standard:e.standard,asset_type:g.AssetType.NFT,source:m.MetaMetricsTokenEventSource.Dapp}})}))),M.push(S)}),[n,M,A,S,O]),U=(0,a.useCallback)((async()=>{await Promise.all(O.map((async({id:e})=>n((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))))),M.push(S)}),[n,M,S,O]);let H,z;if((0,a.useEffect)((()=>{O.length||M.push(S)}),[M,S,O]),O.length)try{const e=new URL(O[0].origin);H=e.host,z=e.href}catch{H="dapp"}return a.default.createElement(y.Box,{height:_.BlockSize.Full,width:_.BlockSize.Full,display:_.Display.Flex,flexDirection:_.FlexDirection.Column},a.default.createElement(y.Box,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},a.default.createElement(T.default,{accountName:G,accountBalance:W,accountAddress:F,networkName:L,chainId:j}),a.default.createElement(y.Box,{paddingTop:4,paddingRight:4,paddingLeft:4,display:_.Display.Flex,justifyContent:_.JustifyContent.center},a.default.createElement(E.default,{chip:!0,siteOrigin:q.origin,title:q.origin,iconSrc:q.iconUrl,iconName:q.hostname})),a.default.createElement(y.Text,{variant:_.TextVariant.headingLg,textAlign:_.TextAlign.Center,margin:2},t("addSuggestedNFTs")),a.default.createElement(y.Text,{variant:_.TextVariant.bodyMd,textAlign:_.TextAlign.Center},t("wantsToAddThisAsset",["dapp"===H?a.default.createElement(y.Text,{key:H,variant:_.TextVariant.bodyMd,fontWeight:"bold"},H):a.default.createElement(y.ButtonLink,{key:H,size:y.BUTTON_SIZES.INHERIT,href:z,target:"_blank"},H)]))),a.default.createElement(y.Box,{className:"confirm-add-suggested-nft__content"},a.default.createElement(y.Box,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:_.BorderRadius.MD},a.default.createElement(y.Box,{className:(0,l.default)({"confirm-add-suggested-nft__nft-list":O.length>1})},O.map((({id:e,requestData:{asset:{address:t,tokenId:r,symbol:o,image:l,name:c}}})=>{const u=(0,b.getAssetImageURL)(l,I),d=(0,i.getTokenTrackerLink)(t,j,null,null,{blockExplorerUrl:(null==N?void 0:N.blockExplorerUrl)??null});return 1===O.length?a.default.createElement(y.Box,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${e}`,borderRadius:_.BorderRadius.MD,margin:0,padding:0},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:u,alt:c||r}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId:r,name:c||o||(0,b.shortenAddress)(t)}),a.default.createElement(y.Box,{padding:1,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,alignItems:_.AlignItems.Center},a.default.createElement(y.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,justifyContent:_.JustifyContent.spaceEvenly,flexWrap:_.FlexWrap.NoWrap,width:_.BlockSize.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},N.blockExplorerUrl?a.default.createElement(y.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:d,title:t,target:"_blank",size:y.BUTTON_SIZES.INHERIT},c||o||(0,b.shortenAddress)(t)):a.default.createElement(y.Text,{variant:_.TextVariant.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:t},c||o||(0,b.shortenAddress)(t)),a.default.createElement(y.Text,{variant:_.TextVariant.bodyMd,color:_.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",r)))):a.default.createElement(y.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Row,flexWrap:_.FlexWrap.NoWrap,alignItems:_.AlignItems.Center,justifyContent:_.JustifyContent.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${t}-${r}`},a.default.createElement(y.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Row,flexWrap:_.FlexWrap.NoWrap,alignItems:_.AlignItems.Center,justifyContent:_.JustifyContent.spaceBetween},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:u,alt:c||r}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-image-default"}),a.default.createElement(y.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,justifyContent:_.JustifyContent.spaceEvenly,flexWrap:_.FlexWrap.NoWrap,width:_.BlockSize.Full,className:"confirm-add-suggested-nft__nft-sub-details"},N.blockExplorerUrl?a.default.createElement(y.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:d,title:t,target:"_blank",size:y.BUTTON_SIZES.INHERIT},c||o||(0,b.shortenAddress)(t)):a.default.createElement(y.Text,{variant:_.TextVariant.bodySm,className:"confirm-add-suggested-nft__nft-name",title:t},c||o||(0,b.shortenAddress)(t)),a.default.createElement(y.Text,{variant:_.TextVariant.bodySm,color:_.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",r))),a.default.createElement(y.ButtonIcon,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${e}`,iconName:y.IconName.Close,size:y.ButtonIconSize.Sm,color:_.IconColor.iconMuted,onClick:t=>{t.preventDefault(),t.stopPropagation(),n((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))}}))}))))),a.default.createElement(c.PageContainerFooter,{cancelText:t("cancel"),submitText:1===O.length?t("addNft"):t("addNfts"),onCancel:U,onSubmit:V}))}}}},{package:"$root$",file:"ui\\pages\\confirm-add-suggested-nft\\confirm-add-suggested-nft.js"}],[4755,{"./confirm-add-suggested-nft":4754},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-nft"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirm-add-suggested-nft\\index.js"}],[4756,{"../../../shared/constants/metametrics":3930,"../../../shared/constants/transaction":3943,"../../../shared/modules/string-utils":3971,"../../components/component-library":4330,"../../components/ui/identicon":4553,"../../components/ui/page-container":4581,"../../components/ui/token-balance":4617,"../../contexts/i18n":4634,"../../contexts/metametrics":4635,"../../ducks/history/history":4650,"../../ducks/metamask/metamask":4653,"../../helpers/constants/design-system":4661,"../../helpers/constants/zendesk-url":4673,"../../selectors":5210,"../../store/actions":5217,"eth-rpc-errors":2641,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("eth-rpc-errors"),i=e("../../components/component-library"),l=x(e("../../components/ui/identicon")),c=x(e("../../components/ui/token-balance")),u=e("../../components/ui/page-container"),d=e("../../contexts/i18n"),p=e("../../contexts/metametrics"),f=e("../../ducks/history/history"),m=e("../../ducks/metamask/metamask"),g=x(e("../../helpers/constants/zendesk-url")),y=e("../../../shared/modules/string-utils"),h=e("../../store/actions"),v=e("../../../shared/constants/metametrics"),b=e("../../../shared/constants/transaction"),_=e("../../selectors"),T=e("../../helpers/constants/design-system");function x(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(d.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),x=(0,r.useSelector)(f.getMostRecentOverviewPage),E=(0,r.useSelector)(_.getSuggestedTokens),k=(0,r.useSelector)(m.getTokens),w=(0,a.useContext)(p.MetaMetricsContext),C=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((({address:t})=>(0,y.isEqualCaseInsensitive)(t,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,k)&&a.default.createElement(i.BannerAlert,{severity:T.Severity.Warning,marginTop:4},e("knownTokenWarning",[a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",externalLink:!0,size:i.ButtonLinkSize.Inherit,href:g.default.TOKEN_SAFETY_PRACTICES},e("learnScamRisk"))]))),[E,k,e]),P=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((t=>(0,y.isEqualCaseInsensitive)(t.symbol,null==e?void 0:e.symbol)&&!(0,y.isEqualCaseInsensitive)(t.address,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,k)&&a.default.createElement(i.BannerAlert,{marginTop:4,severity:T.Severity.Warning,description:e("reusedTokenNameWarning")})),[E,k,e]),M=(0,a.useCallback)((async()=>{await Promise.all(E.map((async({requestData:{asset:e},id:n})=>{await t((0,h.resolvePendingApproval)(n,null)),w({event:v.MetaMetricsEventName.TokenAdded,category:v.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:v.MetaMetricsTokenEventSource.Dapp,token_standard:b.TokenStandard.ERC20,asset_type:b.AssetType.token}})}))),n.push(x)}),[t,n,w,x,E]),S=(0,a.useCallback)((async()=>{await Promise.all(E.map((({id:e})=>t((0,h.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))))),n.push(x)}),[t,n,x,E]);return(0,a.useEffect)((()=>{E.length||n.push(x)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},e("likeToImportTokens")),C,P),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},e("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},e("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},E.map((({requestData:{asset:e}})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(l.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(c.default,{token:e})));var t,n}))))),a.default.createElement(u.PageContainerFooter,{cancelText:e("cancel"),submitText:e("addToken"),onCancel:S,onSubmit:M,disabled:0===E.length}))}}}},{package:"$root$",file:"ui\\pages\\confirm-add-suggested-token\\confirm-add-suggested-token.js"}],[4757,{"./confirm-add-suggested-token":4756},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirm-add-suggested-token\\index.js"}],[4758,{"../../../shared/constants/common":3922,"../../../shared/constants/copy":3923,"../../../shared/constants/metametrics":3930,"../../../shared/constants/time":3941,"../../../shared/modules/Numeric":3953,"../../../shared/modules/conversion.utils":3957,"../../components/app/account-list-item":3977,"../../components/component-library":4330,"../../components/ui/identicon":4553,"../../components/ui/page-container":4581,"../../components/ui/tooltip":4622,"../../helpers/constants/design-system":4661,"../../helpers/utils/confirm-tx.util":4686,classnames:2418,"copy-to-clipboard":2459,loglevel:3302,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=T(e("prop-types")),o=T(e("copy-to-clipboard")),s=T(e("classnames")),i=T(e("loglevel")),l=T(e("../../components/app/account-list-item")),c=T(e("../../components/ui/identicon")),u=T(e("../../components/ui/tooltip")),d=e("../../components/ui/page-container"),p=e("../../../shared/constants/metametrics"),f=e("../../../shared/constants/time"),m=e("../../../shared/modules/Numeric"),g=e("../../../shared/constants/common"),y=e("../../components/component-library"),h=e("../../helpers/constants/design-system"),v=e("../../helpers/utils/confirm-tx.util"),b=e("../../../shared/modules/conversion.utils"),_=e("../../../shared/constants/copy");function T(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends a.Component{constructor(...e){super(...e),E(this,"state",{copyToClipboardPressed:!1,hasCopied:!1}),E(this,"copyMessage",(()=>{(0,o.default)(this.state.rawMessage,_.COPY_OPTIONS),this.context.trackEvent({category:p.MetaMetricsEventCategory.Messages,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),this.setState({hasCopied:!0}),setTimeout((()=>this.setState({hasCopied:!1})),3*f.SECOND)})),E(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},this.context.t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))),E(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(l.default,{account:e})))})),E(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,currentCurrency:n,fromAccount:{balance:r}}=this.props,{t:o}=this.context,s=e?(0,v.formatCurrency)((0,b.getValueFromWeiHex)({value:r,fromCurrency:t,toCurrency:n,conversionRate:e,numberOfDecimals:6,toDenomination:g.EtherDenomination.ETH}),n):new m.Numeric(r,16,g.EtherDenomination.WEI).toDenomination(g.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${o("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${s} ${e?null==n?void 0:n.toUpperCase():t}`))})),E(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-decrypt-message__request-icon"},a.default.createElement(c.default,{diameter:40,address:e}))})),E(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-decrypt-message__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),E(this,"renderBody",(()=>{const{decryptMessageInline:e,subjectMetadata:t,txData:n}=this.props,{t:r}=this.context,o=t[n.msgParams.origin],i=(null==o?void 0:o.name)||n.msgParams.origin,l=r("decryptMessageNotice",[n.msgParams.origin]),{hasCopied:c,hasDecrypted:d,hasError:p,rawMessage:f,errorMessage:m,copyToClipboardPressed:g}=this.state;return a.default.createElement("div",{className:"request-decrypt-message__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=o&&o.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:o.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},i.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},l))),a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text"},d||p?f:n.msgParams.data,p?m:""),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":d||p})}),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":d||p}),onClick:t=>{e(n,t).then((e=>{e.error?this.setState({hasError:!0,errorMessage:this.context.t("decryptInlineError",[e.error])}):this.setState({hasDecrypted:!0,rawMessage:e.rawSig})}))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},r("decryptMetamask"))))),d?a.default.createElement("div",{className:(0,s.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":g}),onClick:()=>this.copyMessage(),onMouseDown:()=>this.setState({copyToClipboardPressed:!0}),onMouseUp:()=>this.setState({copyToClipboardPressed:!1})},a.default.createElement(u.default,{position:"bottom",title:r(c?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},r("decryptCopy")),a.default.createElement(y.Icon,{name:c?y.IconName.CopySuccess:y.IconName.Copy,color:h.IconColor.primaryDefault}))):a.default.createElement("div",null))})),E(this,"renderFooter",(()=>{const{cancelDecryptMessage:e,clearConfirmTransaction:t,decryptMessage:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{trackEvent:i,t:l}=this.context;return a.default.createElement(d.PageContainerFooter,{cancelText:l("cancel"),submitText:l("decrypt"),onCancel:async n=>{await e(s,n),i({category:p.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),i({category:p.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)}})})),E(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-decrypt-message__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(i.default.warn("ConfirmDecryptMessage Page: Missing txData prop."),null)))}}n.default=k,E(k,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),E(k,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelDecryptMessage:r.default.func.isRequired,decryptMessage:r.default.func.isRequired,decryptMessageInline:r.default.func.isRequired,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,nativeCurrency:r.default.string.isRequired,currentCurrency:r.default.string.isRequired,conversionRate:r.default.number})}}},{package:"$root$",file:"ui\\pages\\confirm-decrypt-message\\confirm-decrypt-message.component.js"}],[4759,{"../../ducks/confirm-transaction/confirm-transaction.duck":4645,"../../ducks/history/history":4650,"../../ducks/metamask/metamask":4653,"../../selectors":5210,"../../store/actions":5217,"./confirm-decrypt-message.component":4758,lodash:3292,"react-redux":3627,"react-router-dom":3638,redux:3683},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("lodash"),l=e("../../store/actions"),c=e("../../selectors"),u=e("../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../ducks/history/history"),p=e("../../ducks/metamask/metamask"),f=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){var t;const{metamask:{subjectMetadata:n={}}}=e,{useNativeCurrencyAsPrimaryCurrency:a}=(0,c.getPreferences)(e),r=(0,c.unconfirmedTransactionsListSelector)(e),o=(0,i.cloneDeep)(r[0]);return{txData:o,subjectMetadata:n,fromAccount:(0,c.getTargetAccountWithSendEtherInfo)(e,null==o||null===(t=o.msgParams)||void 0===t?void 0:t.from),requester:null,requesterAddress:null,conversionRate:a?null:(0,c.conversionRateSelector)(e),mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),nativeCurrency:(0,p.getNativeCurrency)(e),currentCurrency:(0,c.getCurrentCurrency)(e)}}),(function(e){return{goHome:()=>e((0,l.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),decryptMessage:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,l.decryptMsg)(a))},cancelDecryptMessage:(t,n)=>(n.stopPropagation(n),e((0,l.cancelDecryptMsg)(t))),decryptMessageInline:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,l.decryptMsgInline)(a))}}})))(f.default)}}},{package:"$root$",file:"ui\\pages\\confirm-decrypt-message\\confirm-decrypt-message.container.js"}],[4760,{"./confirm-decrypt-message.container":4759},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-decrypt-message.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirm-decrypt-message\\index.js"}],[4761,{"../../../shared/constants/common":3922,"../../../shared/constants/metametrics":3930,"../../../shared/modules/Numeric":3953,"../../../shared/modules/conversion.utils":3957,"../../components/app/account-list-item":3977,"../../components/ui/identicon":4553,"../../components/ui/page-container":4581,"../../components/ui/site-origin":4601,"../../helpers/utils/confirm-tx.util":4686,loglevel:3302,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=g(e("prop-types")),o=g(e("loglevel")),s=g(e("../../components/app/account-list-item")),i=g(e("../../components/ui/identicon")),l=e("../../components/ui/page-container"),c=e("../../../shared/constants/metametrics"),u=g(e("../../components/ui/site-origin")),d=e("../../../shared/modules/Numeric"),p=e("../../../shared/constants/common"),f=e("../../helpers/utils/confirm-tx.util"),m=e("../../../shared/modules/conversion.utils");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends a.Component{constructor(...e){super(...e),h(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))),h(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(s.default,{account:e})))})),h(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,currentCurrency:n,fromAccount:{balance:r}}=this.props,{t:o}=this.context,s=e?(0,f.formatCurrency)((0,m.getValueFromWeiHex)({value:r,fromCurrency:t,toCurrency:n,conversionRate:e,numberOfDecimals:6,toDenomination:p.EtherDenomination.ETH}),n):new d.Numeric(r,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${o("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${s} ${e?null==n?void 0:n.toUpperCase():t}`))})),h(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),h(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),h(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,r=e[t.origin],o=n("encryptionPublicKeyNotice",[a.default.createElement(u.default,{siteOrigin:t.origin,key:t.origin})]),s=(null==r?void 0:r.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=r&&r.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:r.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},s.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},o))))})),h(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{t:i,trackEvent:u}=this.context;return a.default.createElement(l.PageContainerFooter,{cancelText:i("cancel"),submitText:i("provide"),onCancel:async n=>{await e(s,n),u({category:c.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),this.context.trackEvent({category:c.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)}})})),h(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(o.default.warn("ConfirmEncryptionPublicKey Page: Missing txData prop."),null)))}}n.default=v,h(v,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),h(v,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelEncryptionPublicKey:r.default.func.isRequired,encryptionPublicKey:r.default.func.isRequired,history:r.default.object.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,nativeCurrency:r.default.string.isRequired,currentCurrency:r.default.string.isRequired,conversionRate:r.default.number})}}},{package:"$root$",file:"ui\\pages\\confirm-encryption-public-key\\confirm-encryption-public-key.component.js"}],[4762,{"../../ducks/confirm-transaction/confirm-transaction.duck":4645,"../../ducks/history/history":4650,"../../ducks/metamask/metamask":4653,"../../selectors":5210,"../../store/actions":5217,"./confirm-encryption-public-key.component":4761,"react-redux":3627,"react-router-dom":3638,redux:3683},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../store/actions"),l=e("../../selectors"),c=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),p=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){const{metamask:{subjectMetadata:t={}}}=e,{useNativeCurrencyAsPrimaryCurrency:n}=(0,l.getPreferences)(e),a=(0,l.unconfirmedTransactionsListSelector)(e)[0];return{txData:a,subjectMetadata:t,fromAccount:(0,l.getTargetAccountWithSendEtherInfo)(e,null==a?void 0:a.msgParams),requester:null,requesterAddress:null,conversionRate:n?null:(0,l.conversionRateSelector)(e),mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e),currentCurrency:(0,l.getCurrentCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,c.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(p.default)}}},{package:"$root$",file:"ui\\pages\\confirm-encryption-public-key\\confirm-encryption-public-key.container.js"}],[4763,{"./confirm-encryption-public-key.container":4762},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirm-encryption-public-key\\index.js"}],[4764,{"../../../../components/ui/form-field":4533,"../../../../contexts/i18n":4634,"../../../../helpers/constants/gas":4663,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=l(e("prop-types")),o=e("../../../../contexts/i18n"),s=l(e("../../../../components/ui/form-field")),i=e("../../../../helpers/constants/gas");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({onManualChange:e,gasLimit:t,setGasLimit:n,gasPrice:r,setGasPrice:l,gasErrors:c,minimumGasLimit:u}){const d=(0,a.useContext)(o.I18nContext);return a.default.createElement("div",{className:"advanced-gas-controls"},a.default.createElement(s.default,{titleText:d("gasLimit"),error:null!=c&&c.gasLimit?(0,i.getGasFormErrorText)(c.gasLimit,d,{minimumGasLimit:u}):null,onChange:t=>{null==e||e(),n(t)},tooltipText:d("editGasLimitTooltip"),value:t,allowDecimals:!1,numeric:!0}),a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{titleText:d("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:t=>{null==e||e(),l(t)},tooltipText:d("editGasPriceTooltip"),value:r,numeric:!0,allowDecimals:!0,error:null!=c&&c.gasPrice?(0,i.getGasFormErrorText)(c.gasPrice,d):null})))}u.propTypes={onManualChange:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,gasPrice:r.default.string,setGasPrice:r.default.func,minimumGasLimit:r.default.string,gasErrors:r.default.object}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-controls\\advanced-gas-controls.component.js"}],[4765,{"../../../../../../shared/constants/gas":3925,"../../../../../../shared/modules/Numeric":3953,"../../../../../components/component-library":4330,"../../../../../contexts/gasFee":4633,"../../../../../helpers/constants/design-system":4661,"../../../../../hooks/useI18nContext":4721,"../../../../../selectors":5210,"../../../../../store/actions":5217,"../../../hooks/useTransactionEventFragment":4952,"../context":4781,lodash:3292,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("lodash"),s=e("../../../hooks/useTransactionEventFragment"),i=e("../../../../../../shared/constants/gas"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../selectors"),u=e("../../../../../store/actions"),d=e("../../../../../contexts/gasFee"),p=e("../context"),f=e("../../../../../hooks/useI18nContext"),m=e("../../../../../components/component-library"),g=e("../../../../../../shared/modules/Numeric");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,f.useI18nContext)(),t=(0,r.useDispatch)(),{gasErrors:n,maxBaseFee:y,maxPriorityFeePerGas:h}=(0,p.useAdvancedGasFeePopoverContext)(),v=new g.Numeric(y,10).toString(),b=new g.Numeric(h,10).toString(),_=(0,r.useSelector)(c.getAdvancedGasFeeValues),T=(0,r.useSelector)(c.getCurrentChainId),x=(0,r.useSelector)(c.getNetworkIdentifier),{updateTransactionEventFragment:E}=(0,s.useTransactionEventFragment)(),{editGasMode:k}=(0,d.useGasFeeContext)(),[w,C]=(0,a.useState)(Boolean(_)&&_.maxBaseFee===v&&_.priorityFee===b);(0,a.useEffect)((()=>{C(Boolean(_)&&_.maxBaseFee===v&&_.priorityFee===b)}),[_,v,b]);return k===i.EditGasModes.swaps?null:a.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,marginTop:4,marginLeft:2,marginRight:2,paddingTop:4,paddingBottom:4,className:"advanced-gas-fee-defaults"},a.default.createElement(m.Checkbox,{isChecked:w,onChange:()=>{w?(t((0,u.setAdvancedGasFee)({chainId:T,gasFeePreferences:undefined})),C(!1),E({properties:{advanced_gas_defaults_updated_maxbasefee:null,advanced_gas_defaults_updated_priorityfee:null}})):(t((0,u.setAdvancedGasFee)({chainId:T,gasFeePreferences:{maxBaseFee:v,priorityFee:b}})),E({properties:{advanced_gas_defaults_updated_maxbasefee:v,advanced_gas_defaults_updated_priorityfee:b}}))},isDisabled:n.maxFeePerGas||n.maxPriorityFeePerGas,label:e("advancedGasFeeDefaultOptIn",[(0,o.capitalize)(x)])}))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-defaults\\advanced-gas-fee-defaults.js"}],[4766,{"./advanced-gas-fee-defaults":4765},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-defaults"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-defaults\\index.js"}],[4767,{"../../../../../components/component-library":4330,"../../../../../components/ui/button":4503,"../../../../../components/ui/form-field":4533,"../../../../../contexts/gasFee":4633,"../../../../../helpers/constants/design-system":4661,"../../../../../helpers/utils/util":4704,"../../../../../hooks/useI18nContext":4721,"../../../send/send.constants":4993,"../context":4781,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../contexts/gasFee"),o=e("../../../../../helpers/utils/util"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),l=e("../../../send/send.constants"),c=f(e("../../../../../components/ui/button")),u=f(e("../../../../../components/ui/form-field")),d=e("../context"),p=e("../../../../../components/component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,i.useI18nContext)(),{setGasLimit:t,setErrorValue:n}=(0,d.useAdvancedGasFeePopoverContext)(),{gasLimit:f,minimumGasLimitDec:m}=(0,r.useGasFeeContext)(),[g,y]=(0,a.useState)(!1),[h,v]=(0,a.useState)(f),[b,_]=(0,a.useState)(),T=e=>{v(e)};return(0,a.useEffect)((()=>{t(h);const e=((e,t)=>(0,o.bnLessThan)(e,t)||(0,o.bnGreaterThan)(e,l.MAX_GAS_LIMIT_DEC)?"editGasLimitOutOfBoundsV2":null)(h,m);_(e),n("gasLimit","editGasLimitOutOfBoundsV2"===e)}),[h,m,t,n]),g?a.default.createElement(u.default,{dataTestId:"gas-limit-input",error:b?e(b,[m-1,l.MAX_GAS_LIMIT_DEC]):"",onChange:T,titleText:e("gasLimitV2"),value:h,allowDecimals:!1,numeric:!0}):a.default.createElement(p.Text,{tag:s.TextVariant.bodyMd,variant:s.TextVariant.bodySm,as:"h6",className:"advanced-gas-fee-gas-limit",marginTop:4,marginLeft:2,marginRight:2},a.default.createElement("strong",null,e("gasLimitV2")),a.default.createElement("span",null,h),a.default.createElement(c.default,{"data-testid":"advanced-gas-fee-edit",className:"advanced-gas-fee-gas-limit__edit-link",onClick:()=>y(!0),type:"link"},e("edit")))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-gas-limit\\advanced-gas-fee-gas-limit.js"}],[4768,{"./advanced-gas-fee-gas-limit":4767},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-gas-limit"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-gas-limit\\index.js"}],[4769,{"../../../../../components/ui/box":4499,"../../../../../components/ui/loading-heartbeat":4559,"../../../../../contexts/i18n":4634,"../../../../../helpers/utils/gas":4689,"../../../../../helpers/utils/util":4704,classnames:2418,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),c=d(e("../../../../../components/ui/box")),u=d(e("../../../../../components/ui/loading-heartbeat"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({latest:e,historical:t,trend:n})=>{const r=(0,a.useContext)(l.I18nContext),d=function(e,t){switch(e){case"up":return{className:"fa-arrow-up advanced-gas-fee-input-subtext__up",color:"var(--color-success-default)",title:t("upArrow")};case"down":return{className:"fa-arrow-down advanced-gas-fee-input-subtext__down",color:"var(--color-error-default)",title:t("downArrow")};case"level":return{className:"fa-arrow-right advanced-gas-fee-input-subtext__level",color:"var(--color-icon-alternative)",title:t("levelArrow")};default:return null}}(n,r);return a.default.createElement(c.default,{display:"flex",alignItems:"center",gap:4,className:"advanced-gas-fee-input-subtext"},(0,s.isNullish)(e)?null:a.default.createElement(c.default,{display:"flex",alignItems:"center","data-testid":"latest"},a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label"},r("currentTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,i.formatGasFeeOrFeeRange)(e)),null===d?null:a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__icon"},a.default.createElement("i",{className:(0,o.default)("fa",d.className),style:{color:d.color},title:d.title,"data-testid":"fee-arrow"}))),(0,s.isNullish)(t)?null:a.default.createElement(c.default,null,a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label","data-testid":"historical"},r("twelveHrTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,i.formatGasFeeOrFeeRange)(t))))};f.propTypes={latest:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),historical:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),trend:r.default.oneOf(["up","down","level"])};n.default=f}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-input-subtext\\advanced-gas-fee-input-subtext.js"}],[4770,{"./advanced-gas-fee-input-subtext":4769},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-input-subtext"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-input-subtext\\index.js"}],[4771,{"../../../../../components/ui/box":4499,"./base-fee-input":4773,"./priority-fee-input":4775,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("../../../../../components/ui/box")),o=i(e("./base-fee-input")),s=i(e("./priority-fee-input"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=()=>a.default.createElement(r.default,{className:"advanced-gas-fee-inputs"},a.default.createElement(o.default,null),a.default.createElement(s.default,null))}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-inputs\\advanced-gas-fee-inputs.js"}],[4772,{"../../../../../../../shared/constants/gas":3925,"../../../../../../../shared/modules/Numeric":3953,"../../../../../../../shared/modules/conversion.utils":3957,"../../../../../../components/ui/box":4499,"../../../../../../components/ui/form-field":4533,"../../../../../../contexts/gasFee":4633,"../../../../../../helpers/constants/common":4659,"../../../../../../hooks/useCurrencyDisplay":4714,"../../../../../../hooks/useI18nContext":4721,"../../../../../../hooks/useUserPreferencedCurrency":4745,"../../../../../../selectors":5210,"../../../../send/send.constants":4993,"../../advanced-gas-fee-input-subtext":4770,"../../context":4781,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),c=e("../../../../../../contexts/gasFee"),u=e("../../../../../../hooks/useI18nContext"),d=e("../../../../../../hooks/useUserPreferencedCurrency"),p=e("../../../../../../hooks/useCurrencyDisplay"),f=b(e("../../../../../../components/ui/box")),m=b(e("../../../../../../components/ui/form-field")),g=e("../../context"),y=b(e("../../advanced-gas-fee-input-subtext")),h=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,u.useI18nContext)(),{gasFeeEstimates:t,estimateUsed:n,maxFeePerGas:b,editGasMode:_}=(0,c.useGasFeeContext)(),T=new v.Numeric(b,10).toString(),{gasLimit:x,maxPriorityFeePerGas:E,setErrorValue:k,setMaxFeePerGas:w,setMaxBaseFee:C}=(0,g.useAdvancedGasFeePopoverContext)(),{estimatedBaseFee:P,historicalBaseFeeRange:M,baseFeeTrend:S}=t,[O,N]=(0,a.useState)(),{currency:j,numberOfDecimals:I}=(0,d.useUserPreferencedCurrency)(i.PRIMARY),A=(0,r.useSelector)(l.getAdvancedGasFeeValues),[D,F]=(0,a.useState)((()=>n!==s.PriorityLevels.custom&&null!=A&&A.maxBaseFee&&_!==s.EditGasModes.swaps?A.maxBaseFee:T)),[R]=(0,p.useCurrencyDisplay)((0,h.decGWEIToHexWEI)(D*x),{currency:j,numberOfDecimals:I}),G=(0,a.useCallback)((e=>{F(e)}),[F]);return(0,a.useEffect)((()=>{w(D);const e=((e,t,n)=>{const a=new v.Numeric(e,10);return new v.Numeric(n,10).greaterThan(a)?"editGasMaxBaseFeeGWEIImbalance":null!=t&&t.low&&a.lessThan(t.low.suggestedMaxFeePerGas,10)?"editGasMaxBaseFeeLow":null!=t&&t.high&&a.greaterThan(t.high.suggestedMaxFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxBaseFeeHigh":null})(D,t,E);N(e),k("maxFeePerGas","editGasMaxBaseFeeGWEIImbalance"===e),C(D)}),[D,t,E,N,k,w,C]),a.default.createElement(f.default,{className:"base-fee-input",marginLeft:2,marginRight:2},a.default.createElement(m.default,{dataTestId:"base-fee-input",error:O?e(O):"",onChange:G,titleText:e("maxBaseFee"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedBaseGasFeeToolTip"),value:D,detailText:`≈ ${R}`,allowDecimals:!0,numeric:!0}),a.default.createElement(y.default,{latest:P,historical:M,trend:S}))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-inputs\\base-fee-input\\base-fee-input.js"}],[4773,{"./base-fee-input":4772},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./base-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-inputs\\base-fee-input\\index.js"}],[4774,{"./advanced-gas-fee-inputs":4771},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-inputs"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-inputs\\index.js"}],[4775,{"./priority-fee-input":4776},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./priority-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-inputs\\priority-fee-input\\index.js"}],[4776,{"../../../../../../../shared/constants/gas":3925,"../../../../../../../shared/modules/Numeric":3953,"../../../../../../../shared/modules/conversion.utils":3957,"../../../../../../components/ui/box":4499,"../../../../../../components/ui/form-field":4533,"../../../../../../contexts/gasFee":4633,"../../../../../../helpers/constants/common":4659,"../../../../../../hooks/useCurrencyDisplay":4714,"../../../../../../hooks/useI18nContext":4721,"../../../../../../hooks/useUserPreferencedCurrency":4745,"../../../../../../selectors":5210,"../../../../send/send.constants":4993,"../../advanced-gas-fee-input-subtext":4770,"../../context":4781,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),c=e("../../../../../../hooks/useCurrencyDisplay"),u=e("../../../../../../contexts/gasFee"),d=e("../../../../../../hooks/useI18nContext"),p=e("../../../../../../hooks/useUserPreferencedCurrency"),f=b(e("../../../../../../components/ui/form-field")),m=b(e("../../../../../../components/ui/box")),g=e("../../context"),y=b(e("../../advanced-gas-fee-input-subtext")),h=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,d.useI18nContext)(),t=(0,r.useSelector)(l.getAdvancedGasFeeValues),{gasLimit:n,setErrorValue:b,setMaxPriorityFeePerGas:_}=(0,g.useAdvancedGasFeePopoverContext)(),{editGasMode:T,estimateUsed:x,gasFeeEstimates:E,maxPriorityFeePerGas:k}=(0,u.useGasFeeContext)(),w=new v.Numeric(k,10).toString(),{latestPriorityFeeRange:C,historicalPriorityFeeRange:P,priorityFeeTrend:M}=E,[S,O]=(0,a.useState)(),[N,j]=(0,a.useState)((()=>x!==s.PriorityLevels.custom&&null!=t&&t.priorityFee&&T!==s.EditGasModes.swaps?t.priorityFee:w)),{currency:I,numberOfDecimals:A}=(0,p.useUserPreferencedCurrency)(i.PRIMARY),[D]=(0,c.useCurrencyDisplay)((0,h.decGWEIToHexWEI)(N*n),{currency:I,numberOfDecimals:A});return(0,a.useEffect)((()=>{_(N);const e=((e,t)=>{const n=new v.Numeric(e,10);return n.lessThan(0,10)?"editGasMaxPriorityFeeBelowMinimumV2":null!=t&&t.low&&n.lessThan(t.low.suggestedMaxPriorityFeePerGas,10)?"editGasMaxPriorityFeeLowV2":null!=t&&t.high&&n.greaterThan(t.high.suggestedMaxPriorityFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxPriorityFeeHighV2":null})(N,E);b("maxPriorityFeePerGas","editGasMaxPriorityFeeBelowMinimumV2"===e),O(e)}),[E,N,b,_,O]),a.default.createElement(m.default,{marginTop:4,marginLeft:2,marginRight:2,className:"priority-fee-input"},a.default.createElement(f.default,{dataTestId:"priority-fee-input",error:S?e(S):"",onChange:e=>{j(e)},titleText:e("priorityFeeProperCase"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedPriorityFeeToolTip"),value:N,detailText:`≈ ${D}`,allowDecimals:!0,numeric:!0}),a.default.createElement(y.default,{latest:C,historical:P,trend:M}))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-inputs\\priority-fee-input\\priority-fee-input.js"}],[4777,{"../../../../components/ui/box":4499,"../../../../components/ui/popover":4588,"../../../../contexts/transaction-modal":4639,"../../../../hooks/useI18nContext":4721,"./advanced-gas-fee-defaults":4766,"./advanced-gas-fee-gas-limit":4768,"./advanced-gas-fee-inputs":4774,"./advanced-gas-fee-save":4779,"./context":4781,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=e("../../../../hooks/useI18nContext"),o=e("../../../../contexts/transaction-modal"),s=f(e("../../../../components/ui/box")),i=f(e("../../../../components/ui/popover")),l=e("./context"),c=f(e("./advanced-gas-fee-inputs")),u=f(e("./advanced-gas-fee-gas-limit")),d=f(e("./advanced-gas-fee-save")),p=f(e("./advanced-gas-fee-defaults"));function f(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,r.useI18nContext)(),{closeAllModals:t,currentModal:n}=(0,o.useTransactionModalContext)();return"advancedGasFee"!==n?null:a.default.createElement(l.AdvancedGasFeePopoverContextProvider,null,a.default.createElement(i.default,{className:"advanced-gas-fee-popover",title:e("advancedGasFeeModalTitle"),onClose:t,footer:a.default.createElement(d.default,null)},a.default.createElement(s.default,{margin:4},a.default.createElement(c.default,null),a.default.createElement(p.default,null),a.default.createElement(u.default,null))))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-popover.js"}],[4778,{"../../../../../../shared/constants/gas":3925,"../../../../../../shared/modules/conversion.utils":3957,"../../../../../components/ui/button":4503,"../../../../../contexts/gasFee":4633,"../../../../../contexts/transaction-modal":4639,"../../../../../hooks/useI18nContext":4721,"../../../hooks/useTransactionEventFragment":4952,"../context":4781,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=e("../../../../../../shared/constants/gas"),o=e("../../../../../../shared/modules/conversion.utils"),s=e("../../../../../contexts/transaction-modal"),i=e("../../../../../contexts/gasFee"),l=e("../../../hooks/useTransactionEventFragment"),c=e("../../../../../hooks/useI18nContext"),u=p(e("../../../../../components/ui/button")),d=e("../context");function p(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{closeModal:e}=(0,s.useTransactionModalContext)(),{updateTransactionEventFragment:t}=(0,l.useTransactionEventFragment)(),{updateTransaction:n}=(0,i.useGasFeeContext)(),p=(0,c.useI18nContext)(),{gasLimit:f,hasErrors:m,maxFeePerGas:g,maxPriorityFeePerGas:y}=(0,d.useAdvancedGasFeePopoverContext)();return a.default.createElement(u.default,{type:"primary",disabled:m,onClick:()=>{n({estimateUsed:r.PriorityLevels.custom,maxFeePerGas:(0,o.decGWEIToHexWEI)(g),maxPriorityFeePerGas:(0,o.decGWEIToHexWEI)(y),gasLimit:f}),t({properties:{gas_edit_type:"advanced"}}),e(["advancedGasFee","editGasFee"])}},p("save"))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-save\\advanced-gas-fee-save.js"}],[4779,{"./advanced-gas-fee-save":4778},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-save"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\advanced-gas-fee-save\\index.js"}],[4780,{"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedGasFeePopoverContextProvider=n.AdvancedGasFeePopoverContext=void 0,n.useAdvancedGasFeePopoverContext=function(){return(0,r.useContext)(i)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=n.AdvancedGasFeePopoverContext=(0,r.createContext)({}),l=({children:e})=>{const[t,n]=(0,r.useState)(),[a,o]=(0,r.useState)(),[s,l]=(0,r.useState)(),[c,u]=(0,r.useState)({maxFeePerGas:!1,maxPriorityFeePerGas:!1,gasLimit:!1}),d=(0,r.useCallback)(((e,t)=>{c[e]!==t&&u({...c,[e]:t})}),[c,u]),[p,f]=(0,r.useState)();return r.default.createElement(i.Provider,{value:{gasLimit:t,hasErrors:c.maxFeePerGas||c.maxPriorityFeePerGas||c.gasLimit,gasErrors:c,maxFeePerGas:a,maxPriorityFeePerGas:s,setErrorValue:d,maxBaseFee:p,setGasLimit:n,setMaxPriorityFeePerGas:l,setMaxFeePerGas:o,setMaxBaseFee:f}},e)};n.AdvancedGasFeePopoverContextProvider=l,l.propTypes={children:o.default.node.isRequired}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\context\\advancedGasFeePopover.js"}],[4781,{"./advancedGasFeePopover":4780},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./advancedGasFeePopover");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\context\\index.js"}],[4782,{"./advanced-gas-fee-popover":4777},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-fee-popover\\index.js"}],[4783,{"../../../../components/component-library":4330,"../../../../components/ui/tooltip":4622,"../../../../helpers/constants/design-system":4661,classnames:2418,lodash:3292,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=u(e("classnames")),s=e("lodash"),i=u(e("../../../../components/ui/tooltip")),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(e){super(e),p(this,"onChangeGasLimit",(e=>{this.setState({gasLimit:e.target.value}),this.changeGasLimit({target:{value:e.target.value}})})),p(this,"changeGasLimit",(e=>{this.props.updateCustomGasLimit(Number(e.target.value))})),p(this,"onChangeGasPrice",(e=>{this.setState({gasPrice:e.target.value}),this.changeGasPrice({target:{value:e.target.value}})})),p(this,"changeGasPrice",(e=>{this.props.updateCustomGasPrice(Number(e.target.value))})),this.state={gasPrice:this.props.customGasPrice,gasLimit:this.props.customGasLimit},this.changeGasPrice=(0,s.debounce)(this.changeGasPrice,500),this.changeGasLimit=(0,s.debounce)(this.changeGasLimit,500)}componentDidUpdate(e){const{customGasPrice:t,customGasLimit:n}=e,{customGasPrice:a,customGasLimit:r}=this.props,{gasPrice:o,gasLimit:s}=this.state;a!==t&&a!==o&&this.setState({gasPrice:a}),r!==n&&r!==s&&this.setState({gasLimit:r})}gasPriceError({insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,gasPrice:a,customPriceIsExcessive:r}){const{t:o}=this.context;return e?{errorText:o("insufficientBalance"),errorType:"error"}:n&&0===a?{errorText:o("zeroGasPriceOnSpeedUpError"),errorType:"error"}:t?r?{errorText:o("gasPriceExcessiveInput"),errorType:"error"}:{}:{errorText:o("gasPriceExtremelyLow"),errorType:"warning"}}gasLimitError({insufficientBalance:e,gasLimit:t,minimumGasLimit:n}){const{t:a}=this.context;return e?{errorText:a("insufficientBalance"),errorType:"error"}:t<n?{errorText:a("gasLimitTooLowWithDynamicFee",[n]),errorType:"error"}:{}}renderGasInput({value:e,onChange:t,errorComponent:n,errorType:r,label:s,testId:u,customMessageComponent:d,tooltipTitle:p,disabled:f}){return a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row"},a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__label"},s,a.default.createElement(i.default,{title:p,position:"top",arrow:!0},a.default.createElement(l.Icon,{name:l.IconName.Info,color:c.IconColor.iconAlternative,className:"info-circle"}))),a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-wrapper"},a.default.createElement("input",{className:(0,o.default)("advanced-gas-inputs__gas-edit-row__input",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===r,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===r}),type:"number",min:"0",value:e,onChange:t,disabled:f,"data-testid":u}),a.default.createElement("div",{className:(0,o.default)("advanced-gas-inputs__gas-edit-row__input-arrows",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===r,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===r,"advanced-gas-inputs__gas-edit-row__input-arrows--hidden":f})},a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!f&&t({target:{value:e+1}})},a.default.createElement("i",{className:"fa fa-sm fa-angle-up"})),a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!f&&t({target:{value:Math.max(e-1,0)}})},a.default.createElement("i",{className:"fa fa-sm fa-angle-down"}))),n||d))}render(){const{insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,customGasLimitMessage:r,minimumGasLimit:o,customPriceIsExcessive:s}=this.props,{gasPrice:i,gasLimit:l}=this.state,{errorText:c,errorType:u}=this.gasPriceError({insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,gasPrice:i,customPriceIsExcessive:s}),d=u?a.default.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${u}-text`},c):null,{errorText:p,errorType:f}=this.gasLimitError({insufficientBalance:e,gasLimit:l,minimumGasLimit:o}),m=f?a.default.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${f}-text`},p):null,g=r?a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__custom-text"},r):null;return a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-rows"},this.renderGasInput({label:this.context.t("gasPrice"),testId:"gas-price",tooltipTitle:this.context.t("gasPriceInfoTooltipContent"),value:this.state.gasPrice,onChange:this.onChangeGasPrice,errorComponent:d,errorType:u}),this.renderGasInput({label:this.context.t("gasLimit"),testId:"gas-limit",tooltipTitle:this.context.t("gasLimitInfoTooltipContent"),value:this.state.gasLimit,onChange:this.onChangeGasLimit,errorComponent:m,customMessageComponent:g,errorType:f}))}}n.default=f,p(f,"contextTypes",{t:r.default.func}),p(f,"propTypes",{updateCustomGasPrice:r.default.func,updateCustomGasLimit:r.default.func,customGasPrice:r.default.number.isRequired,customGasLimit:r.default.number.isRequired,insufficientBalance:r.default.bool,customPriceIsSafe:r.default.bool,isSpeedUp:r.default.bool,customGasLimitMessage:r.default.string,minimumGasLimit:r.default.number,customPriceIsExcessive:r.default.bool}),p(f,"defaultProps",{customPriceIsExcessive:!1})}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-inputs\\advanced-gas-inputs.component.js"}],[4784,{"../../../../../shared/modules/conversion.utils":3957,"../../send/send.constants":4993,"./advanced-gas-inputs.component":4783,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../send/send.constants"),s=e("../../../../../shared/modules/conversion.utils"),i=(a=e("./advanced-gas-inputs.component"))&&a.__esModule?a:{default:a};function l(e=o.MIN_GAS_LIMIT_DEC){return parseInt(e,10)}n.default=(0,r.connect)(undefined,null,(function(e,t,n){const{customGasPrice:a,customGasLimit:r,updateCustomGasPrice:o,updateCustomGasLimit:i,minimumGasLimit:c}=n;return{...n,...e,...t,customGasPrice:(d=a,Number((0,s.hexWEIToDecGWEI)(d))),customGasLimit:(u=r,parseInt(u,16)||0),minimumGasLimit:l(c),updateCustomGasPrice:e=>o((0,s.decGWEIToHexWEI)(e)),updateCustomGasLimit:e=>i((0,s.decimalToHex)(e))};var u,d}))(i.default)}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-inputs\\advanced-gas-inputs.container.js"}],[4785,{"./advanced-gas-inputs.container":4784},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-inputs.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\advanced-gas-inputs\\index.js"}],[4786,{"../../../../components/component-library":4330,"../../../../components/ui/box/box":4498,"../../../../components/ui/button":4503,"../../../../contexts/i18n":4634,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/confirm-tx.util":4686,"../confirm-gas-display":4790,classnames:2418,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=f(e("classnames")),s=f(e("../../../../components/ui/box/box")),i=f(e("../../../../components/ui/button")),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../contexts/i18n"),d=e("../confirm-gas-display"),p=e("../../../../helpers/utils/confirm-tx.util");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g({showHeader:e=!0,symbol:t,title:n,showEdit:r,showAdvanceGasFeeOptions:f=!1,onEditClick:m,footer:g,noBorder:y,supportsEIP1559:h,renderTransactionDetailsContent:v,renderDataContent:b,ethTransactionTotal:_,nativeCurrency:T,fiatTransactionTotal:x,currentCurrency:E,isSetApproveForAll:k,isApprovalOrRejection:w,data:C,userAcknowledgedGasMissing:P,renderSimulationFailureWarning:M,useCurrencyRateCheck:S}){const O=(0,a.useContext)(u.I18nContext);return a.default.createElement(s.default,{className:(0,o.default)({"approve-content-card-container__card":!y,"approve-content-card-container__card--no-border":y})},e&&a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.flexEnd,className:"approve-content-card-container__card-header"},h&&n===O("transactionFee")?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{className:"approve-content-card-container__card-header__symbol"},t),a.default.createElement(s.default,{marginLeft:4,className:"approve-content-card-container__card-header__title"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySmBold,as:"h6"},n))),r&&(!f||!h)&&a.default.createElement(s.default,{width:c.BlockSize.OneSixth},a.default.createElement(i.default,{type:"link",onClick:()=>m()},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.primaryDefault,as:"h6"},O("edit"))))),a.default.createElement(s.default,{marginTop:1,marginBottom:3,className:"approve-content-card-container__card-content"},v&&(h&&!M?a.default.createElement(d.ConfirmGasDisplay,{userAcknowledgedGasMissing:P}):a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},O("feeAssociatedRequest"))),a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexEnd,textAlign:c.TextAlign.Right},S&&a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.headingSm,fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault,as:"h4"},(0,p.formatCurrency)(x,E))),a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,fontWeight:c.FontWeight.Normal,color:c.TextColor.textMuted,as:"h6"},`${_} ${T}`))))),b&&a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column},a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},O(k?"functionSetApprovalForAll":"functionApprove"))),k&&w!==undefined?a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},`${O("parameters")}: ${w}`)):null,a.default.createElement(s.default,{marginRight:4,className:"approve-content-card-container__data__data-block"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},C)))),g)}g.propTypes={showHeader:r.default.bool,symbol:r.default.node,title:r.default.string,showEdit:r.default.bool,showAdvanceGasFeeOptions:r.default.bool,onEditClick:r.default.func,footer:r.default.node,noBorder:r.default.bool,supportsEIP1559:r.default.bool,renderTransactionDetailsContent:r.default.bool,renderDataContent:r.default.bool,ethTransactionTotal:r.default.string,nativeCurrency:r.default.string,fiatTransactionTotal:r.default.string,currentCurrency:r.default.string,isSetApproveForAll:r.default.bool,isApprovalOrRejection:r.default.bool,data:r.default.string,userAcknowledgedGasMissing:r.default.bool,renderSimulationFailureWarning:r.default.bool,useCurrencyRateCheck:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\approve-content-card\\approve-content-card.js"}],[4787,{"../../../../ducks/send":4655,"../../../../helpers/utils/transactions.util":4702,"../../../../selectors":5210,"../gas-details-item":4841,"./confirm-legacy-gas-display":4789,"@metamask/transaction-controller":1692,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../selectors"),l=e("../../../../helpers/utils/transactions.util"),c=p(e("../gas-details-item")),u=e("../../../../ducks/send"),d=e("./confirm-legacy-gas-display");function p(e){return e&&e.__esModule?e:{default:e}}const f=({userAcknowledgedGasMissing:e=!1})=>{const{txParams:t}=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),n=(0,o.useSelector)(u.getCurrentDraftTransaction),r=null==n?void 0:n.transactionType;let p;p=r?r===s.TransactionEnvelopeType.legacy:(0,l.isLegacyTransaction)(t);const f="confirm-gas-display";return(0,o.useSelector)(i.checkNetworkAndAccountSupports1559)&&!p?a.default.createElement(c.default,{"data-testid":f,userAcknowledgedGasMissing:e}):a.default.createElement(d.ConfirmLegacyGasDisplay,{"data-testid":f})};f.propTypes={userAcknowledgedGasMissing:r.default.bool};n.default=f}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-gas-display\\confirm-gas-display.js"}],[4788,{"../../../../../components/app/user-preferenced-currency-display":4249,"../../../../../components/component-library":4330,"../../../../../components/ui/info-tooltip":4554,"../../../../../components/ui/loading-heartbeat":4559,"../../../../../ducks/metamask/metamask":4653,"../../../../../helpers/constants/common":4659,"../../../../../helpers/constants/design-system":4661,"../../../../../hooks/useI18nContext":4721,"../../../../../selectors":5210,"../../../hooks/useDraftTransactionWithTxParams":4941,"../../multilayer-fee-message/multi-layer-fee-message":4846,"../../transaction-detail-item":4890,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(e("react")),r=v(e("prop-types")),o=e("react-redux"),s=e("../../../../../hooks/useI18nContext"),i=e("../../../../../selectors"),l=e("../../../../../helpers/constants/common"),c=v(e("../../transaction-detail-item")),u=v(e("../../../../../components/app/user-preferenced-currency-display")),d=v(e("../../../../../components/ui/info-tooltip")),p=v(e("../../../../../components/ui/loading-heartbeat")),f=e("../../../../../helpers/constants/design-system"),m=e("../../../hooks/useDraftTransactionWithTxParams"),g=e("../../../../../ducks/metamask/metamask"),y=v(e("../../multilayer-fee-message/multi-layer-fee-message")),h=e("../../../../../components/component-library");function v(e){return e&&e.__esModule?e:{default:e}}const b=()=>a.default.createElement(p.default,null),_=({"data-testid":e}={})=>{const t=(0,s.useI18nContext)(),n=(0,o.useSelector)(i.getIsMainnet),r=(0,o.useSelector)(i.getIsMultiLayerFeeNetwork),p=(0,o.useSelector)(i.getUseCurrencyRateCheck),{useNativeCurrencyAsPrimaryCurrency:v}=(0,o.useSelector)(i.getPreferences),_=(0,o.useSelector)(g.getNativeCurrency),T=(0,o.useSelector)(i.getUnapprovedTransactions),x=(0,m.useDraftTransactionWithTxParams)(),E=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),{id:k,dappSuggestedGasFees:w}=E,C=Object.keys(x).length?x:T[k]||{},{hexMinimumTransactionFee:P,hexMaximumTransactionFee:M}=(0,o.useSelector)((e=>(0,i.transactionFeeSelector)(e,C)));return r?[a.default.createElement(c.default,{key:"legacy-total-item","data-testid":e,detailTitle:t("transactionDetailLayer2GasHeading"),detailTotal:a.default.createElement(u.default,{type:l.PRIMARY,value:P,hideLabel:!v,numberOfDecimals:18}),detailText:p&&a.default.createElement(u.default,{type:l.SECONDARY,value:P,hideLabel:Boolean(v)}),noBold:!0,flexWidthValues:!0}),a.default.createElement(y.default,{key:"confirm-layer-1",transaction:E,layer2fee:P,nativeCurrency:_})]:a.default.createElement(c.default,{key:"legacy-gas-details","data-testid":e,detailTitle:w?a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:t("transactionDetailDappGasTooltip"),position:"top"},a.default.createElement(h.Icon,{name:h.IconName.Info}))):a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,t("transactionDetailGasTooltipIntro",[n?t("networkNameEthereum"):""])),a.default.createElement("p",null,t("transactionDetailGasTooltipExplanation")),a.default.createElement("p",null,a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},t("transactionDetailGasTooltipConversion")))),position:"top"},a.default.createElement(h.Icon,{name:h.IconName.Info}))),detailText:p&&a.default.createElement("div",null,b(),a.default.createElement(u.default,{type:l.SECONDARY,value:P,hideLabel:Boolean(v)})),detailTotal:a.default.createElement("div",null,b(),a.default.createElement(u.default,{type:l.PRIMARY,value:P,hideLabel:!v,numberOfDecimals:6})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement("strong",{key:"editGasSubTextFeeLabel"},t("editGasSubTextFeeLabel")),a.default.createElement("div",{key:"editGasSubTextFeeValue"},b(),a.default.createElement(u.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:M,hideLabel:!v}))),subTitle:a.default.createElement(a.default.Fragment,null,w&&a.default.createElement(h.Text,{variant:f.TextVariant.bodySm,fontStyle:f.FONT_STYLE.ITALIC,color:f.TextColor.textAlternative,as:"h6"},t("transactionDetailDappGasMoreInfo")))})};_.propTypes={"data-testid":r.default.string};n.default=_}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-gas-display\\confirm-legacy-gas-display\\confirm-legacy-gas-display.js"}],[4789,{"./confirm-legacy-gas-display":4788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmLegacyGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-legacy-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-gas-display\\confirm-legacy-gas-display\\index.js"}],[4790,{"./confirm-gas-display":4787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-gas-display\\index.js"}],[4791,{"../../../../../shared/modules/buffer-utils":3955,"../../../../components/component-library":4330,"../../../../components/ui/box":4499,"../../../../helpers/constants/design-system":4661,"../../../../hooks/useI18nContext":4721,"../../../../selectors":5210,"../../hooks/useTransactionFunctionType":4953,"../transaction-decoding/components/ui/copy-raw-data":4889,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=m(e("prop-types")),o=e("react-redux"),s=e("../../../../../shared/modules/buffer-utils"),i=e("../../../../selectors"),l=e("../../../../hooks/useI18nContext"),c=e("../../hooks/useTransactionFunctionType"),u=e("../../../../helpers/constants/design-system"),d=m(e("../../../../components/ui/box")),p=e("../../../../components/component-library"),f=m(e("../transaction-decoding/components/ui/copy-raw-data"));function m(e){return e&&e.__esModule?e:{default:e}}const g=({txData:e,dataHexComponent:t})=>{const n=(0,l.useI18nContext)(),{txParams:r={}}=e,m=(0,o.useSelector)((e=>(0,i.getKnownMethodData)(e,r.data)||{})),{functionType:g}=(0,c.useTransactionFunctionType)(e);if(t)return t;if(!r.data||!r.to)return null;const{params:y}=m,h=null!=y&&y.length?`(${y.map((({type:e})=>e)).join(", ")})`:"";return a.default.createElement(d.default,{padding:4},a.default.createElement(d.default,{paddingBottom:3,paddingTop:2},a.default.createElement(p.Text,{as:"span",textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("functionType")}:`),a.default.createElement(p.Text,{as:"span",color:u.Color.textDefault,paddingLeft:1,textTransform:u.TextTransform.Capitalize,variant:u.TextVariant.bodySmBold},`${g} ${h}`)),y&&a.default.createElement(d.default,{backgroundColor:u.Color.backgroundAlternative,padding:4},a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("parameters")}:`),a.default.createElement(p.Text,{overflowWrap:u.OverflowWrap.BreakWord,variant:u.TextVariant.bodySm},a.default.createElement("pre",null,JSON.stringify(y,null,2)))),a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("hexData")}: ${(0,s.toBuffer)(null==r?void 0:r.data).length} bytes`),a.default.createElement(p.Text,{backgroundColor:u.Color.backgroundAlternative,overflowWrap:u.OverflowWrap.BreakWord,padding:4,variant:u.TextVariant.bodySm},null==r?void 0:r.data),a.default.createElement(f.default,{data:null==r?void 0:r.data}))};g.propTypes={txData:r.default.object,dataHexComponent:r.default.element};n.default=g}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-hexdata\\confirm-hexdata.js"}],[4792,{"./confirm-hexdata":4791},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmHexData",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-hexdata"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-hexdata\\index.js"}],[4793,{"../../../../../components/app/user-preferenced-currency-display":4249,"../../../../../helpers/constants/common":4659,classnames:2418,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),s=l(e("../../../../../components/app/user-preferenced-currency-display")),i=e("../../../../../helpers/constants/common");function l(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const{label:t,primaryText:n,secondaryText:r,onHeaderClick:l,primaryValueTextColor:c,headerText:u,headerTextClassName:d,value:p}=e;return a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement("div",{className:"confirm-detail-row__label"},t),a.default.createElement("div",{className:"confirm-detail-row__details"},u&&a.default.createElement("div",{className:(0,o.default)("confirm-detail-row__header-text",d),onClick:()=>null==l?void 0:l()},u),n?a.default.createElement("div",{className:"confirm-detail-row__primary",style:{color:c}},n):a.default.createElement(s.default,{className:"confirm-detail-row__primary",type:i.PRIMARY,value:p,showEthLogo:!0,ethLogoHeight:18,style:{color:c},hideLabel:!0}),r?a.default.createElement("div",{className:"confirm-detail-row__secondary"},r):a.default.createElement(s.default,{className:"confirm-detail-row__secondary",type:i.SECONDARY,value:p,showEthLogo:!0,hideLabel:!0})))};c.propTypes={headerText:r.default.string,headerTextClassName:r.default.string,label:r.default.string,onHeaderClick:r.default.func,primaryValueTextColor:r.default.string,primaryText:r.default.oneOfType([r.default.string,r.default.node]),secondaryText:r.default.string,value:r.default.string};n.default=c}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-detail-row\\confirm-detail-row.component.js"}],[4794,{"./confirm-detail-row.component":4793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-detail-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-detail-row\\index.js"}],[4795,{".":4800,"../../../../../../shared/constants/security-provider":3935,"../../../../../components/component-library":4330,"../../../../../components/ui/page-container":4581,"../../../../../components/ui/tabs":4605,"../../../../../helpers/constants/design-system":4661,"../../../../../helpers/constants/error-keys":4662,classnames:2418,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=f(e("classnames")),s=e("../../../../../components/ui/tabs"),i=e("../../../../../components/component-library"),l=e("../../../../../components/ui/page-container"),c=e("../../../../../helpers/constants/error-keys"),u=e("../../../../../helpers/constants/design-system"),d=e("../../../../../../shared/constants/security-provider"),p=e(".");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{renderContent(){const{detailsComponent:e,dataHexComponent:t,insightComponent:n}=this.props;return n&&(e||t)||e&&t?this.renderTabs():e||n}renderTabs(){const{t:e}=this.context,{detailsComponent:t,dataHexComponent:n,insightComponent:r}=this.props;return a.default.createElement(s.Tabs,{defaultActiveTabKey:"details"},a.default.createElement(s.Tab,{className:"confirm-page-container-content__tab",name:e("details"),tabKey:"details"},t),n&&a.default.createElement(s.Tab,{className:"confirm-page-container-content__tab",name:e("dataHex"),tabKey:"dataHex"},n),r)}render(){var e;const{action:t,errorKey:n,errorMessage:r,image:s,titleComponent:f,subtitleComponent:m,tokenAddress:g,nonce:y,detailsComponent:h,warning:v,onCancelAll:b,onCancel:_,cancelText:T,onSubmit:x,submitText:E,disabled:k,unapprovedTxCount:w,rejectNText:C,origin:P,ethGasPriceWarning:M,supportsEIP1559:S,hasTopBorder:O,nativeCurrency:N,networkName:j,toAddress:I,transactionType:A,isBuyableChain:D,openBuyCryptoInPdapp:F,txData:R}=this.props,{t:G}=this.context,L=(n||r)&&n===c.INSUFFICIENT_FUNDS_ERROR_KEY,B=n===c.IS_SIGNING_OR_SUBMITTING,$=n===c.USER_OP_CONTRACT_DEPLOY_ERROR_KEY,W=(null==R||null===(e=R.securityAlertResponse)||void 0===e?void 0:e.result_type)===d.BlockaidResultType.Malicious?"danger-primary":"primary";return a.default.createElement("div",{className:(0,o.default)("confirm-page-container-content",{"confirm-page-container-content--with-top-border":O})},v?a.default.createElement(p.ConfirmPageContainerWarning,{warning:v}):null,M&&a.default.createElement(p.ConfirmPageContainerWarning,{warning:M}),a.default.createElement(p.ConfirmPageContainerSummary,{className:(0,o.default)({"confirm-page-container-summary--border":!h}),action:t,image:s,titleComponent:f,subtitleComponent:m,tokenAddress:g,nonce:y,origin:P,toAddress:I,transactionType:A}),this.renderContent(),!S&&!L&&!B&&!$&&(n||r)&&a.default.createElement(i.BannerAlert,{severity:u.Severity.Danger,description:n?G(n):r,marginBottom:4,marginLeft:4,marginRight:4}),L&&a.default.createElement(i.BannerAlert,{severity:u.Severity.Danger,marginBottom:4,marginLeft:4,marginRight:4,description:D?G("insufficientCurrencyBuyOrDeposit",[N,j,a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.LINK,size:i.BUTTON_SIZES.INHERIT,onClick:F,key:`${N}-buy-button`},G("buyAsset",[N]))]):G("insufficientCurrencyDeposit",[N,j])}),(B||$)&&a.default.createElement(i.BannerAlert,{"data-testid":"confirm-page-container-content-error-banner-2",severity:u.Severity.Danger,description:G(n),marginBottom:4,marginLeft:4,marginRight:4}),a.default.createElement(l.PageContainerFooter,{onCancel:_,cancelText:T,onSubmit:x,submitText:E,disabled:k,submitButtonType:W},w>1?a.default.createElement("a",{onClick:b},C):null))}}n.default=y,g(y,"contextTypes",{t:r.default.func.isRequired}),g(y,"propTypes",{action:r.default.string,dataHexComponent:r.default.node,detailsComponent:r.default.node,insightComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,tokenAddress:r.default.string,nonce:r.default.string,subtitleComponent:r.default.node,image:r.default.string,titleComponent:r.default.node,warning:r.default.string,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,cancelText:r.default.string,onSubmit:r.default.func,submitText:r.default.string,disabled:r.default.bool,unapprovedTxCount:r.default.number,rejectNText:r.default.string,supportsEIP1559:r.default.bool,hasTopBorder:r.default.bool,nativeCurrency:r.default.string,networkName:r.default.string,toAddress:r.default.string,transactionType:r.default.string,isBuyableChain:r.default.bool,openBuyCryptoInPdapp:r.default.func,txData:r.default.object})}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-content\\confirm-page-container-content.component.js"}],[4796,{"../../../../../../../shared/constants/app":3920,"../../../../../../../shared/modules/hexstring-utils":3962,"../../../../../../components/app/modals/nickname-popovers":4079,"../../../../../../components/ui/identicon":4553,"../../../../../../components/ui/info-tooltip":4554,"../../../../../../components/ui/site-origin":4601,"../../../../../../helpers/utils/util":4704,"../../../../../../hooks/useAddressDetails":4712,"../../../../../../hooks/useI18nContext":4721,"../../../../../../selectors":5210,"@metamask/transaction-controller":1692,classnames:2418,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=v(e("prop-types")),s=v(e("classnames")),i=e("@metamask/transaction-controller"),l=e("../../../../../../../shared/modules/hexstring-utils"),c=e("../../../../../../hooks/useI18nContext"),u=v(e("../../../../../../hooks/useAddressDetails")),d=e("../../../../../../selectors"),p=v(e("../../../../../../components/ui/identicon")),f=v(e("../../../../../../components/ui/info-tooltip")),m=v(e("../../../../../../components/app/modals/nickname-popovers")),g=e("../../../../../../../shared/constants/app"),y=v(e("../../../../../../components/ui/site-origin")),h=e("../../../../../../helpers/utils/util");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const _=e=>{const{action:t,titleComponent:n,subtitleComponent:o,className:v,tokenAddress:b,nonce:_,origin:T,image:x,transactionType:E}=e,[k,w]=(0,a.useState)(!1),C=(0,c.useI18nContext)(),P=(0,r.useSelector)(d.getIpfsGateway),M=(0,r.useSelector)(d.txDataSelector),{txParams:S={}}=M,{to:O}=S,N=[i.TransactionType.contractInteraction,i.TransactionType.tokenMethodTransfer,i.TransactionType.tokenMethodTransferFrom,i.TransactionType.tokenMethodSafeTransferFrom].includes(E);let j;N&&(j=E===i.TransactionType.tokenMethodTransfer||E===i.TransactionType.tokenMethodTransferFrom||E===i.TransactionType.tokenMethodSafeTransferFrom||E===i.TransactionType.tokenMethodSetApprovalForAll?b:O);const{toName:I,isTrusted:A}=(0,u.default)(j),D=(0,l.toChecksumHexAddress)(j);return a.default.createElement("div",{className:(0,s.default)("confirm-page-container-summary",v)},T===g.ORIGIN_METAMASK?null:a.default.createElement(y.default,{className:"confirm-page-container-summary__origin",siteOrigin:T}),a.default.createElement("div",{className:"confirm-page-container-summary__action-row"},a.default.createElement("div",{className:"confirm-page-container-summary__action"},N&&I&&a.default.createElement("span",{className:"confirm-page-container-summary__action__contract-address"},a.default.createElement("button",{className:"confirm-page-container-summary__action__contract-address-btn",onClick:()=>w(!0),role:"button"},I),":"),a.default.createElement("span",{className:"confirm-page-container-summary__action__name"},t),N&&!1===A&&a.default.createElement(f.default,{position:"top",contentText:C("unverifiedContractAddressMessage")})),_&&a.default.createElement("div",{className:"confirm-page-container-summary__nonce"},`#${_}`)),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-page-container-summary__title"},(()=>{const e=(0,h.getAssetImageURL)(x,P);return x?a.default.createElement("img",{className:"confirm-page-container-summary__icon",width:36,src:e}):j?a.default.createElement(p.default,{className:"confirm-page-container-summary__icon",diameter:36,address:j}):null})(),n),o),k&&a.default.createElement(m.default,{onClose:()=>w(!1),address:D}))};_.propTypes={action:o.default.string,image:o.default.string,titleComponent:o.default.node,subtitleComponent:o.default.node,className:o.default.string,tokenAddress:o.default.string,nonce:o.default.string,origin:o.default.string.isRequired,transactionType:o.default.string};n.default=_}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-content\\confirm-page-container-summary\\confirm-page-container-summary.component.js"}],[4797,{"./confirm-page-container-summary.component":4796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-summary.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-content\\confirm-page-container-summary\\index.js"}],[4798,{"../../../../../../components/component-library":4330,"../../../../../../helpers/constants/design-system":4661,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("prop-types")),o=e("../../../../../../components/component-library"),s=e("../../../../../../helpers/constants/design-system");function i(e){return e&&e.__esModule?e:{default:e}}const l=e=>a.default.createElement("div",{className:"confirm-page-container-warning"},a.default.createElement(o.Icon,{name:o.IconName.Info,color:s.IconColor.warningDefault,className:"confirm-page-container-warning__icon"}),a.default.createElement("div",{className:"confirm-page-container-warning__warning"},e.warning));l.propTypes={warning:r.default.string};n.default=l}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-content\\confirm-page-container-warning\\confirm-page-container-warning.component.js"}],[4799,{"./confirm-page-container-warning.component":4798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-warning.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-content\\confirm-page-container-warning\\index.js"}],[4800,{"./confirm-page-container-content.component":4795,"./confirm-page-container-summary":4797,"./confirm-page-container-warning":4799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerWarning",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=s(e("./confirm-page-container-content.component")),r=s(e("./confirm-page-container-summary")),o=s(e("./confirm-page-container-warning"));function s(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-content\\index.js"}],[4801,{"../../../../../../app/scripts/lib/util":90,"../../../../../../shared/constants/app":3920,"../../../../../components/app/network-display":4099,"../../../../../components/component-library":4330,"../../../../../components/ui/account-mismatch-warning/account-mismatch-warning.component":4494,"../../../../../components/ui/identicon":4553,"../../../../../helpers/utils/util":4704,"../../../../../hooks/useI18nContext":4721,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../../../../shared/constants/app"),s=e("../../../../../../app/scripts/lib/util"),i=f(e("../../../../../components/app/network-display")),l=f(e("../../../../../components/ui/identicon")),c=e("../../../../../helpers/utils/util"),u=f(e("../../../../../components/ui/account-mismatch-warning/account-mismatch-warning.component")),d=e("../../../../../hooks/useI18nContext"),p=e("../../../../../components/component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onEdit:e,showEdit:t,accountAddress:n,showAccountInHeader:r,children:f}){const m=(0,d.useI18nContext)(),g=(0,s.getEnvironmentType)(),y=g!==o.ENVIRONMENT_TYPE_NOTIFICATION&&g!==o.ENVIRONMENT_TYPE_POPUP;return!t&&y?f:a.default.createElement("div",{className:"confirm-page-container-header","data-testid":"header-container"},a.default.createElement("div",{className:"confirm-page-container-header__row"},r?a.default.createElement("div",{className:"confirm-page-container-header__address-container"},a.default.createElement("div",{className:"confirm-page-container-header__address-identicon"},a.default.createElement(l.default,{address:n,diameter:24})),a.default.createElement("div",{className:"confirm-page-container-header__address","data-testid":"header-address"},(0,c.shortenAddress)(n)),a.default.createElement(u.default,{address:n})):a.default.createElement("div",{className:"confirm-page-container-header__back-button-container",style:{visibility:t?"initial":"hidden"}},a.default.createElement(p.Icon,{name:p.IconName.ArrowLeft}),a.default.createElement("span",{"data-testid":"confirm-page-back-edit-button",className:"confirm-page-container-header__back-button",onClick:()=>e()},m("edit"))),y?null:a.default.createElement(i.default,null)),f)}m.propTypes={accountAddress:r.default.string,showAccountInHeader:r.default.bool,showEdit:r.default.bool,onEdit:r.default.func,children:r.default.node}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-header\\confirm-page-container-header.component.js"}],[4802,{"./confirm-page-container-header.component":4801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-header\\index.js"}],[4803,{"../../../../../contexts/i18n":4634,"../../../../../ducks/confirm-transaction/confirm-transaction.duck":4645,"../../../../../helpers/constants/routes":4666,"../../../../../selectors":5210,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../../../selectors"),i=e("../../../../../contexts/i18n"),l=e("../../../../../helpers/constants/routes"),c=e("../../../../../ducks/confirm-transaction/confirm-transaction.duck");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),{id:u}=(0,o.useParams)(),d=(0,r.useSelector)(s.unapprovedDecryptMsgsSelector),p=(0,r.useSelector)(s.unapprovedEncryptionPublicKeyMsgsSelector),f=(0,r.useSelector)(s.unconfirmedTransactionsHashSelector),m=[...Object.keys(d||{}),...Object.keys(p||{})],g=Object.keys(f).filter((e=>!1===m.includes(e))),y=g.indexOf(u),h=g.length,v=y+1,b=g[y+1],_=g[y-1],T=g.length>1,x=g[0],E=g[g.length-1],k=e=>{var a;e&&(t((0,c.clearConfirmTransaction)()),n.push(null!==(a=f[e])&&void 0!==a&&a.msgParams?`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.SIGNATURE_REQUEST_PATH}`:`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`))};return a.default.createElement("div",{className:"confirm-page-container-navigation",style:{display:T?"flex":"none"}},a.default.createElement("div",{className:"confirm-page-container-navigation__container","data-testid":"navigation-container",style:{visibility:_?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"first-page",onClick:()=>k(x)},a.default.createElement("i",{className:"fa fa-angle-double-left fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"previous-page",onClick:()=>k(_)},a.default.createElement("i",{className:"fa fa-angle-left fa-2x"}))),a.default.createElement("div",{className:"confirm-page-container-navigation__textcontainer"},a.default.createElement("div",{className:"confirm-page-container-navigation__navtext"},v," ",e("ofTextNofM")," ",h),a.default.createElement("div",{className:"confirm-page-container-navigation__longtext"},e("requestsAwaitingAcknowledgement"))),a.default.createElement("div",{className:"confirm-page-container-navigation__container",style:{visibility:b?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"next-page",onClick:()=>k(b)},a.default.createElement("i",{className:"fa fa-angle-right fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"last-page",onClick:()=>k(E)},a.default.createElement("i",{className:"fa fa-angle-double-right fa-2x"}))))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-navigation\\confirm-page-container-navigation.component.js"}],[4804,{"./confirm-page-container-navigation.component":4803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-navigation.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container-navigation\\index.js"}],[4805,{".":4806,"../../../../../shared/constants/gas":3925,"../../../../../shared/constants/metametrics":3930,"../../../../../shared/constants/network":3931,"../../../../../shared/constants/security-provider":3935,"../../../../../shared/constants/transaction":3943,"../../../../../shared/lib/token-util":3950,"../../../../components/app/network-account-balance-header/network-account-balance-header":4098,"../../../../components/component-library":4330,"../../../../components/ui/actionable-message/actionable-message":4495,"../../../../components/ui/button":4503,"../../../../components/ui/error-message":4528,"../../../../components/ui/page-container":4581,"../../../../components/ui/sender-to-recipient":4594,"../../../../contexts/gasFee":4633,"../../../../contexts/metametrics":4635,"../../../../helpers/constants/design-system":4661,"../../../../helpers/constants/error-keys":4662,"../../../../hooks/experiences/useRamps":4707,"../../../../hooks/useI18nContext":4721,"../../../../hooks/useTransactionInsights":4744,"../../../../selectors":5210,"../advanced-gas-fee-popover":4782,"../edit-gas-fee-popover/edit-gas-fee-popover":4825,"../edit-gas-popover":4838,"../set-approval-for-all-warning":4853,"@metamask/transaction-controller":1692,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=I(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../../shared/constants/gas"),l=e("../../../../contexts/gasFee"),c=e("../../../../../shared/constants/transaction"),u=e("../../../../../shared/constants/network"),d=e("../../../../components/ui/page-container"),p=I(e("../../../../components/ui/button")),f=I(e("../../../../components/ui/actionable-message/actionable-message")),m=I(e("../../../../components/ui/sender-to-recipient")),g=e("../../../../../shared/lib/token-util"),y=I(e("../advanced-gas-fee-popover")),h=I(e("../edit-gas-fee-popover/edit-gas-fee-popover")),v=I(e("../edit-gas-popover")),b=I(e("../../../../components/ui/error-message")),_=e("../../../../helpers/constants/error-keys"),T=e("../../../../components/component-library"),x=e("../../../../helpers/constants/design-system"),E=I(e("../../../../components/app/network-account-balance-header/network-account-balance-header")),k=I(e("../set-approval-for-all-warning")),w=e("../../../../hooks/useI18nContext"),C=I(e("../../../../hooks/useTransactionInsights")),P=e("../../../../selectors"),M=I(e("../../../../hooks/experiences/useRamps")),S=e("../../../../contexts/metametrics"),O=e("../../../../../shared/constants/metametrics"),N=e("../../../../../shared/constants/security-provider"),j=e(".");function I(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const D=e=>{var t;const{showEdit:n,onEdit:r,fromName:I,fromAddress:A,toEns:D,toNickname:F,toAddress:R,disabled:G,errorKey:L,errorMessage:B,contentComponent:$,action:W,title:q,image:V,titleComponent:U,subtitleComponent:H,detailsComponent:z,dataHexComponent:Y,onCancelAll:K,onCancel:X,onSubmit:J,onSetApprovalForAll:Z,showWarningModal:Q,tokenAddress:ee,nonce:te,unapprovedTxCount:ne,warning:ae,hideSenderToRecipient:re,showAccountInHeader:oe,origin:se,ethGasPriceWarning:ie,editingGas:le,handleCloseEditGas:ce,currentTransaction:ue,supportsEIP1559:de,nativeCurrency:pe,txData:fe,assetStandard:me,isApprovalOrRejection:ge,displayAccountBalanceHeader:ye}=e,he=(0,w.useI18nContext)(),ve=(0,a.useContext)(S.MetaMetricsContext),[be,_e]=(0,a.useState)("0"),Te=(0,o.useSelector)(P.getIsBuyableChain),xe=(0,o.useSelector)((e=>(0,P.getAddressBookEntry)(e,R))),Ee=(0,o.useSelector)(P.getNetworkIdentifier),ke=(0,o.useSelector)(P.getSwapsDefaultToken).string,we=(0,o.useSelector)(P.getInternalAccounts),Ce=(0,P.getAccountName)(we,R),Pe=Ce||(null==xe?void 0:xe.name),Me=Boolean(Ce),Se=(0,o.useSelector)((e=>(0,P.getMetadataContractName)(e,R))),{openBuyCryptoInPdapp:Oe}=(0,M.default)(),Ne=ue.type===s.TransactionType.tokenMethodSetApprovalForAll,je=$&&G&&(L||B),Ie=u.NETWORK_TO_NAME_MAP[ue.chainId]||Ee,Ae=(0,a.useCallback)((async()=>{const e=await(0,g.fetchTokenBalance)(ee,A,global.ethereumProvider);_e(e.toString()||"0")}),[A,ee]),De=(0,C.default)({txData:fe}),Fe=null==De?void 0:De.insightComponent,Re=()=>Ne&&ge?Z():J();(0,a.useEffect)((()=>{Ne&&me===c.TokenStandard.ERC721&&Ae()}),[ue,me,Ne,Ae,be]);const Ge=(null===(t=fe.securityAlertResponse)||void 0===t?void 0:t.result_type)===N.BlockaidResultType.Malicious;return a.default.createElement(l.GasFeeContextProvider,{transaction:ue},a.default.createElement("div",{className:"page-container","data-testid":"page-container"},a.default.createElement(j.ConfirmPageContainerNavigation,null),ye?a.default.createElement(E.default,{accountName:I,accountBalance:ke,tokenName:pe,accountAddress:A,networkName:Ie,chainId:ue.chainId}):a.default.createElement(j.ConfirmPageContainerHeader,{showEdit:n,onEdit:()=>r(),showAccountInHeader:oe,accountAddress:A},re?null:a.default.createElement(m.default,{senderName:I,senderAddress:A,recipientName:Pe,recipientMetadataName:Se,recipientAddress:R,recipientEns:D,recipientNickname:F,recipientIsOwnedAccount:Me})),$||a.default.createElement(j.ConfirmPageContainerContent,{action:W,title:q,image:V,titleComponent:U,subtitleComponent:H,detailsComponent:z,dataHexComponent:Y,insightComponent:Fe,errorMessage:B,errorKey:L,tokenAddress:ee,nonce:te,warning:ae,onCancelAll:K,onCancel:X,cancelText:he("reject"),onSubmit:Re,submitText:he("confirm"),disabled:G,unapprovedTxCount:ne,rejectNText:he("rejectTxsN",[ne]),origin:se,ethGasPriceWarning:ie,supportsEIP1559:de,currentTransaction:ue,nativeCurrency:pe,networkName:Ie,toAddress:R,transactionType:ue.type,isBuyableChain:Te,openBuyCryptoInPdapp:Oe,txData:fe}),je&&L===_.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(f.default,{message:Te?a.default.createElement(T.Text,{variant:x.TextVariant.bodySm,textAlign:x.TextAlign.Left,as:"h6"},he("insufficientCurrencyBuyOrDeposit",[pe,Ie,a.default.createElement(p.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{Oe(),ve({event:O.MetaMetricsEventName.NavBuyButtonClicked,category:O.MetaMetricsEventCategory.Navigation,properties:{location:"Transaction Confirmation",text:"Buy"}})},key:`${pe}-buy-button`},he("buyAsset",[pe]))])):a.default.createElement(T.Text,{variant:x.TextVariant.bodySm,textAlign:x.TextAlign.Left,as:"h6"},he("insufficientCurrencyDeposit",[pe,Ie])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"})),je&&L!==_.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(b.default,{errorKey:L})),Q&&a.default.createElement(k.default,{collectionName:q,senderAddress:A,name:I,isERC721:me===c.TokenStandard.ERC721,total:be,onSubmit:J,onCancel:X}),$&&a.default.createElement(d.PageContainerFooter,{onCancel:X,cancelText:he("reject"),onSubmit:Re,submitText:he("confirm"),submitButtonType:Ne&&ge||Ge?"danger-primary":"primary",disabled:G},ne>1&&a.default.createElement("a",{onClick:K},he("rejectTxsN",[ne]))),le&&!de&&a.default.createElement(v.default,{mode:i.EditGasModes.modifyInPlace,onClose:ce,transaction:ue}),de&&a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,null),a.default.createElement(y.default,null))))};D.propTypes={action:r.default.string,onEdit:r.default.func,showEdit:r.default.bool,subtitleComponent:r.default.node,title:r.default.string,image:r.default.string,titleComponent:r.default.node,hideSenderToRecipient:r.default.bool,showAccountInHeader:r.default.bool,assetStandard:r.default.string,fromAddress:r.default.string,fromName:r.default.string,toAddress:r.default.string,toEns:r.default.string,toNickname:r.default.string,contentComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,dataHexComponent:r.default.node,detailsComponent:r.default.node,txData:r.default.object,tokenAddress:r.default.string,nonce:r.default.string,warning:r.default.string,unapprovedTxCount:r.default.number,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,onSubmit:r.default.func,onSetApprovalForAll:r.default.func,showWarningModal:r.default.bool,disabled:r.default.bool,editingGas:r.default.bool,handleCloseEditGas:r.default.func,currentTransaction:r.default.object.isRequired,supportsEIP1559:r.default.bool,nativeCurrency:r.default.string,isApprovalOrRejection:r.default.bool,displayAccountBalanceHeader:r.default.bool};n.default=D}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\confirm-page-container.component.js"}],[4806,{"../../../../components/app/snaps/snap-insight/snap-insight":4158,"./confirm-detail-row":4794,"./confirm-page-container-content":4800,"./confirm-page-container-header":4802,"./confirm-page-container-navigation":4804,"./confirm-page-container.component":4805},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmDetailRow",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"ConfirmPageContainerContent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"ConfirmPageContainerHeader",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerNavigation",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return i.ConfirmPageContainerSummary}}),Object.defineProperty(n,"SnapInsight",{enumerable:!0,get:function(){return l.SnapInsight}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=u(e("./confirm-page-container.component")),r=u(e("./confirm-page-container-header")),o=u(e("./confirm-detail-row")),s=u(e("./confirm-page-container-navigation")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./confirm-page-container-content")),l=e("../../../../components/app/snaps/snap-insight/snap-insight");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-page-container\\index.js"}],[4807,{"../../../../components/app/user-preferenced-currency-display":4249,"../../../../components/component-library":4330,"../../../../helpers/constants/common":4659,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/transactions.util":4702,"../../../../selectors":5210,"../../hooks/useTransactionInfo":4955,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("react-redux"),s=e("../../../../helpers/constants/common"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/transactions.util"),c=e("../../../../selectors"),u=e("../../hooks/useTransactionInfo"),d=e("../../../../components/component-library"),p=f(e("../../../../components/app/user-preferenced-currency-display"));function f(e){return e&&e.__esModule?e:{default:e}}const m=({txData:e,hexTransactionAmount:t,subtitleComponent:n,assetStandard:r})=>{const f=(0,o.useSelector)(c.getShouldShowFiat),{isNftTransfer:m}=(0,u.useTransactionInfo)(e);return f||m||(0,l.isNFTAssetStandard)(r)?n||a.default.createElement(d.Text,{as:"h5",ellipsis:!0,variant:i.TextVariant.bodyMd,color:i.Color.textAlternative},a.default.createElement(p.default,{value:t,type:s.SECONDARY,showEthLogo:!0,hideLabel:!0})):null};m.propTypes={assetStandard:r.default.string,hexTransactionAmount:r.default.string,subtitleComponent:r.default.element,txData:r.default.object.isRequired};n.default=m}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-subtitle\\confirm-subtitle.js"}],[4808,{"./confirm-subtitle":4807},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmSubTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-subtitle"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-subtitle\\index.js"}],[4809,{"../../../../components/app/user-preferenced-currency-display":4249,"../../../../components/component-library":4330,"../../../../helpers/constants/common":4659,"../../../../helpers/constants/design-system":4661,"@metamask/transaction-controller":1692,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("@metamask/transaction-controller"),s=e("../../../../helpers/constants/common"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=u(e("../../../../components/app/user-preferenced-currency-display"));function u(e){return e&&e.__esModule?e:{default:e}}const d=({title:e,hexTransactionAmount:t,txData:n})=>{var r;const u=n.type===o.TransactionType.contractInteraction;return(u||n.type===o.TransactionType.deployContract)&&"0x0"===(null===(r=n.txParams)||void 0===r?void 0:r.value)?null:e?a.default.createElement(i.Text,{as:e&&e.length<10?"h1":"h3",ellipsis:!0,title:e,variant:e&&e.length<10?l.TextVariant.displayMd:l.TextVariant.headingMd,fontWeight:l.FONT_WEIGHT.NORMAL},e):a.default.createElement(i.Text,{as:"h3",ellipsis:!0,fontWeight:l.FONT_WEIGHT.NORMAL,variant:l.TextVariant.headingMd},a.default.createElement(c.default,{ethLogoHeight:24,hideLabel:!u,showCurrencySuffix:u,showEthLogo:!0,type:s.PRIMARY,value:t}))};d.propTypes={txData:r.default.object.isRequired,title:r.default.oneOfType([r.default.string,r.default.number]),hexTransactionAmount:r.default.string};n.default=d}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-title\\confirm-title.js"}],[4810,{"./confirm-title":4809},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirm-title\\index.js"}],[4811,{"../../../../components/component-library":4330,"../../../../components/component-library/modal-content/deprecated":4338,"../../../../components/component-library/modal-header/deprecated":4347,"../../../../helpers/constants/design-system":4661,"../../../../hooks/useI18nContext":4721,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),l=e("../../../../components/component-library/modal-content/deprecated"),c=e("../../../../components/component-library/modal-header/deprecated");function u(e){return e&&e.__esModule?e:{default:e}}const d=({onSubmit:e,onCancel:t})=>{const n=(0,o.useI18nContext)();return a.default.createElement(i.Modal,{isOpen:!0,onClose:t,className:"confirmation-warning-modal__content"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(c.ModalHeader,{childrenWrapperProps:{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,gap:4}},a.default.createElement(i.Icon,{name:i.IconName.Danger,color:s.IconColor.errorDefault,size:i.IconSize.Xl}),a.default.createElement(i.Text,{variant:s.TextVariant.headingSm,as:"h4",fontWeight:s.FontWeight.Bold,textAlign:s.TextAlign.Center},n("addEthereumChainWarningModalTitle"))),a.default.createElement(i.Box,{marginBottom:4},a.default.createElement(i.Text,{marginTop:4,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalHeader",[a.default.createElement("strong",{key:"part-2"},n("addEthereumChainWarningModalHeaderPartTwo"))])),a.default.createElement(i.Text,{marginTop:4,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListHeader")),a.default.createElement("ul",null,a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointOne")),a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointTwo")),a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointThree")))),a.default.createElement(i.Box,{display:s.Display.Flex,gap:4},a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.SECONDARY,onClick:t,block:!0,size:i.BUTTON_SIZES.LG},n("reject")),a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.PRIMARY,onClick:e,danger:!0,block:!0,size:i.BUTTON_SIZES.LG},n("approveButtonText")))))};d.propTypes={onSubmit:r.default.func,onCancel:r.default.func};n.default=d}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirmation-warning-modal\\confirmation-warning-modal.js"}],[4812,{"./confirmation-warning-modal":4811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirmation-warning-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\confirmation-warning-modal\\index.js"}],[4813,{"../../../../../shared/constants/transaction":3943,"../../../../components/app/name/name":4096,"../../../../components/component-library":4330,"../../../../components/ui/box":4499,"../../../../components/ui/button/button.component":4502,"../../../../components/ui/identicon":4553,"../../../../components/ui/nft-collection-image/nft-collection-image":4577,"../../../../components/ui/popover":4588,"../../../../components/ui/tooltip/tooltip":4623,"../../../../helpers/constants/design-system":4661,"../../../../hooks/useCopyToClipboard":4713,"../../../../hooks/useI18nContext":4721,"../../../../hooks/usePetnamesEnabled":4728,"../../../../selectors":5210,"../../send/send.utils":4995,"@metamask/etherscan-link":1196,"@metamask/name-controller":1364,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=E(e("react")),r=E(e("prop-types")),o=e("@metamask/etherscan-link"),s=e("react-redux"),i=e("@metamask/name-controller"),l=E(e("../../../../components/ui/box")),c=E(e("../../../../components/ui/button/button.component")),u=E(e("../../../../components/ui/tooltip/tooltip")),d=e("../../../../hooks/useI18nContext"),p=E(e("../../../../components/ui/identicon")),f=e("../../send/send.utils"),m=E(e("../../../../components/ui/popover")),g=e("../../../../helpers/constants/design-system"),y=e("../../../../hooks/useCopyToClipboard"),h=e("../../../../selectors"),v=e("../../../../../shared/constants/transaction"),b=E(e("../../../../components/ui/nft-collection-image/nft-collection-image")),_=e("../../../../components/component-library"),T=E(e("../../../../components/app/name/name")),x=e("../../../../hooks/usePetnamesEnabled");function E(e){return e&&e.__esModule?e:{default:e}}function k({onClose:e,tokenName:t,tokenAddress:n,toAddress:r,chainId:E,rpcPrefs:k,tokenId:w,assetName:C,assetStandard:P,isContractRequestingSignature:M}){var S,O;const N=(0,d.useI18nContext)(),[j,I]=(0,y.useCopyToClipboard)(),[A,D]=(0,y.useCopyToClipboard)(),F=(0,x.usePetnamesEnabled)(),R=(0,s.useSelector)((e=>({data:(0,h.getAddressBookEntry)(e,r)}))),G=P===v.TokenStandard.ERC721||P===v.TokenStandard.ERC1155||C&&w||t&&w;return a.default.createElement(m.default,{className:"contract-details-modal"},a.default.createElement(l.default,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},a.default.createElement(_.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5",display:g.Display.Flex},N("contractTitle")),a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginTop:2},N("contractDescription")),!M&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,marginTop:4,marginBottom:2},N(G?"contractNFT":"contractToken")),a.default.createElement(l.default,{display:g.Display.Flex,borderRadius:g.Size.SM,borderStyle:g.BorderStyle.solid,borderColor:g.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},G?a.default.createElement(l.default,{margin:4},a.default.createElement(b.default,{assetName:C,tokenAddress:n})):a.default.createElement(p.default,{className:"contract-details-modal__content__contract__identicon",address:n,diameter:24}),a.default.createElement(l.default,{"data-testid":"recipient"},a.default.createElement(_.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5",marginTop:4},t||(0,f.ellipsify)(n)),t&&a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginBottom:4},(0,f.ellipsify)(n))),a.default.createElement(l.default,{alignItems:g.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:N(j?"copiedExclamation":"copyToClipboard")},a.default.createElement(_.ButtonIcon,{display:g.Display.Flex,iconName:j?_.IconName.CopySuccess:_.IconName.Copy,onClick:()=>I(n),color:g.Color.iconMuted,ariaLabel:N(j?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:N("openInBlockExplorer")},a.default.createElement(_.ButtonIcon,{display:g.Display.Flex,iconName:_.IconName.Export,color:g.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(n,E,{blockExplorerUrl:(null==k?void 0:k.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:N("openInBlockExplorer")}))))),a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,marginTop:4,marginBottom:2},G&&N("contractRequestingAccess"),M&&N("contractRequestingSignature"),!G&&!M&&N("contractRequestingSpendingCap")),a.default.createElement(l.default,{display:g.Display.Flex,borderRadius:g.Size.SM,borderStyle:g.BorderStyle.solid,borderColor:g.BorderColor.borderDefault,alignItems:g.AlignItems.center,className:"contract-details-modal__content__contract"},!F&&a.default.createElement(p.default,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:r}),a.default.createElement(l.default,{"data-testid":"recipient"},F?a.default.createElement(_.Text,{variant:g.TextVariant.bodyMd,as:"h5"},a.default.createElement(T.default,{value:r,type:i.NameType.ETHEREUM_ADDRESS})):a.default.createElement(_.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5"},(null==R||null===(S=R.data)||void 0===S?void 0:S.name)||(0,f.ellipsify)(r)),!F&&(null==R||null===(O=R.data)||void 0===O?void 0:O.name)&&a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginBottom:4},(0,f.ellipsify)(r))),a.default.createElement(l.default,{alignItems:g.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:N(A?"copiedExclamation":"copyToClipboard")},a.default.createElement(_.ButtonIcon,{display:g.Display.Flex,iconName:A?_.IconName.CopySuccess:_.IconName.Copy,onClick:()=>D(r),color:g.Color.iconMuted,ariaLabel:N(j?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:N("openInBlockExplorer")},a.default.createElement(_.ButtonIcon,{display:g.Display.Flex,iconName:_.IconName.Export,color:g.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(r,E,{blockExplorerUrl:(null==k?void 0:k.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:N("openInBlockExplorer")}))))),a.default.createElement(l.default,{display:g.Display.Flex,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},a.default.createElement(c.default,{type:"primary",onClick:()=>e()},N("recoveryPhraseReminderConfirm"))))}k.propTypes={onClose:r.default.func,tokenName:r.default.string,tokenAddress:r.default.string,toAddress:r.default.string,chainId:r.default.string,rpcPrefs:r.default.object,tokenId:r.default.string,assetStandard:r.default.string,assetName:r.default.string,isContractRequestingSignature:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\contract-details-modal\\contract-details-modal.js"}],[4814,{"./contract-details-modal":4813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./contract-details-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\contract-details-modal\\index.js"}],[4815,{"../../../../components/component-library":4330,"../../../../components/ui/box/box":4498,"../../../../components/ui/identicon":4553,"../../../../components/ui/tooltip/tooltip":4623,"../../../../components/ui/typography/typography":4627,"../../../../helpers/constants/design-system":4661,"../../../../hooks/useCopyToClipboard":4713,"../../../../hooks/useI18nContext":4721,"@metamask/etherscan-link":1196,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=m(e("react")),r=m(e("prop-types")),o=e("@metamask/etherscan-link"),s=m(e("../../../../components/ui/box/box")),i=m(e("../../../../components/ui/tooltip/tooltip")),l=e("../../../../hooks/useI18nContext"),c=m(e("../../../../components/ui/identicon")),u=m(e("../../../../components/ui/typography/typography")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../hooks/useCopyToClipboard"),f=e("../../../../components/component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g({address:e,tokenName:t,chainId:n,rpcPrefs:r}){const m=(0,l.useI18nContext)(),[g,y]=(0,p.useCopyToClipboard)();return a.default.createElement(s.default,{className:"contract-token-values",display:d.DISPLAY.FLEX,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.center,gap:2},a.default.createElement(c.default,{address:e,diameter:24}),a.default.createElement(u.default,{variant:d.TypographyVariant.H2,fontWeight:d.FONT_WEIGHT.BOLD,color:d.TextColor.textAlternative,marginTop:0,marginBottom:0},t),a.default.createElement(i.default,{position:"top",title:m(g?"copiedExclamation":"copyToClipboard")},a.default.createElement(f.ButtonIcon,{iconName:g?f.IconName.CopySuccess:f.IconName.Copy,color:d.Color.iconMuted,onClick:()=>y(e),ariaLabel:m(g?"copiedExclamation":"copyToClipboard")})),a.default.createElement(i.default,{position:"top",title:m("openInBlockExplorer")},a.default.createElement(f.ButtonIcon,{display:d.DISPLAY.FLEX,iconName:f.IconName.Export,color:d.Color.iconMuted,onClick:()=>{const t=(0,o.getAccountLink)(e,n,{blockExplorerUrl:(null==r?void 0:r.blockExplorerUrl)??null},null);global.platform.openTab({url:t})},ariaLabel:m("openInBlockExplorer")})))}g.propTypes={address:r.default.string,tokenName:r.default.string,chainId:r.default.string,rpcPrefs:r.default.object}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\contract-token-values\\contract-token-values.js"}],[4816,{"../../../../../.storybook/i18n":1,"../../../../components/component-library":4330,"../../../../helpers/constants/design-system":4661,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../../.storybook/i18n"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({nextNonce:e,customNonceValue:t,showCustomizeNonceModal:n}){const a=(0,r.useContext)(s.I18nContext);return r.default.createElement(i.Box,{display:l.Display.Flex,marginBottom:4,paddingTop:3,paddingRight:3,paddingBottom:4,paddingLeft:3,borderRadius:l.BorderRadius.MD,alignItems:l.AlignItems.center,className:"custom-nonce__content"},r.default.createElement(i.Box,{className:"custom-nonce__header",display:l.Display.InlineFlex,justifyContent:l.JustifyContent.flexStart,alignItems:l.AlignItems.center},r.default.createElement(i.Text,{variant:l.TextVariant.bodySm,as:"h6"},a("nonce")),r.default.createElement(i.ButtonLink,{key:"editCustomNonce",size:l.Size.auto,marginLeft:3,onClick:()=>n()},a("edit"))),r.default.createElement(i.Text,{className:"custom-nonce__value",variant:l.TextVariant.bodySmBold,as:"h6"},t||e))}u.propTypes={nextNonce:o.default.number,customNonceValue:o.default.string,showCustomizeNonceModal:o.default.func}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\custom-nonce\\custom-nonce.js"}],[4817,{"./custom-nonce":4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./custom-nonce"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\custom-nonce\\index.js"}],[4818,{"../../../../components/component-library":4330,"../../../../components/ui/tooltip":4622,"../../../../helpers/constants/design-system":4661,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomSpendingCapTooltip=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../../../components/ui/tooltip")),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library");function l(e){return e&&e.__esModule?e:{default:e}}const c=({tooltipContentText:e,tooltipIcon:t})=>a.default.createElement(i.Box,{display:s.Display.InlineFlex,alignItems:s.AlignItems.center},a.default.createElement(o.default,{interactive:!0,position:"top",html:a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},e)},t?a.default.createElement(i.Icon,{name:i.IconName.Danger,size:i.IconSize.Inherit,color:s.IconColor.errorDefault}):""!==t&&a.default.createElement(i.Icon,{name:i.IconName.Question,size:i.IconSize.Inherit,color:s.IconColor.iconAlternative})));n.CustomSpendingCapTooltip=c,c.propTypes={tooltipContentText:r.default.oneOfType([r.default.string,r.default.node]),tooltipIcon:r.default.oneOfType([r.default.string,r.default.bool])}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\custom-spending-cap\\custom-spending-cap-tooltip.js"}],[4819,{"../../../../../shared/constants/tokens":3942,"../../../../../shared/lib/transactions-controller-utils":3951,"../../../../../shared/modules/Numeric":3953,"../../../../../shared/modules/conversion.utils":3957,"../../../../components/component-library":4330,"../../../../contexts/gasFee":4633,"../../../../contexts/i18n":4634,"../../../../ducks/app/app":4644,"../../../../helpers/constants/design-system":4661,"../../../../helpers/constants/zendesk-url":4673,"../../../../store/actions":5217,"../../confirm-approve/confirm-approve.util":4897,"./custom-spending-cap-tooltip":4818,"bignumber.js":2303,"ethereumjs-util":2685,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=T(e("prop-types")),s=T(e("bignumber.js")),i=e("ethereumjs-util"),l=e("../../../../contexts/i18n"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=e("../../../../ducks/app/app"),p=e("../../../../../shared/lib/transactions-controller-utils"),f=e("../../../../../shared/modules/conversion.utils"),m=e("../../../../../shared/constants/tokens"),g=e("../../../../../shared/modules/Numeric"),y=e("../../../../store/actions"),h=e("../../confirm-approve/confirm-approve.util"),v=e("../../../../contexts/gasFee"),b=T(e("../../../../helpers/constants/zendesk-url")),_=e("./custom-spending-cap-tooltip");function T(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function E({txParams:e,tokenName:t,currentTokenBalance:n,dappProposedValue:o,siteOrigin:T,passTheErrorText:x,decimals:E,setInputChangeInProgress:k,customSpendingCap:w,setCustomSpendingCap:C}){const P=(0,a.useContext)(l.I18nContext),M=(0,r.useDispatch)(),{updateTransaction:S}=(0,v.useGasFeeContext)(),O=(0,a.useRef)(null),[N,j]=(0,a.useState)(""),[I,A]=(0,a.useState)(w!==String(o)&&!0),D=P("inputLogicEmptyState"),F=e=>e.replace(/,/gu,"."),R=(e,t)=>new g.Numeric(Number(F(e)),10).greaterThan(Number(t),10),G=e=>new g.Numeric(Number(F(e)),10).lessThanOrEqualTo(new g.Numeric(Number(n),10))?{className:"custom-spending-cap__lowerValue",description:P("inputLogicEqualOrSmallerNumber",[a.default.createElement(u.Text,{key:"custom-spending-cap",variant:c.TextVariant.bodySmBold,as:"span"},F(e)," ",t)])}:R(e,n)?{className:"custom-spending-cap__higherValue",description:P("inputLogicHigherNumber")}:{className:"custom-spending-cap__emptyState",description:P("inputLogicEmptyState")},[L,B]=(0,a.useState)(G(w).description),$=async t=>{var n;if(!e)return;k(!0);let a="";const r=G(t).description,o=m.DECIMAL_REGEX.exec(F(t));if((null==o||null===(n=o[1])||void 0===n?void 0:n.length)>E)return void k(!1);t&&!m.NUM_W_OPT_DECIMAL_COMMA_OR_DOT_REGEX.test(t)?(a=P("spendingCapError"),B(P("spendingCapErrorDescription",[T])),j(a)):(B(r),j(""));const l=(0,p.calcTokenAmount)(m.MAX_TOKEN_ALLOWANCE_AMOUNT,E);if(Number(t.length)>1&&Number(t)){new s.default(t).greaterThan(l)&&(a=P("spendLimitTooLarge"),j(a))}if(C(String(t)),M((0,d.setCustomTokenAmount)(String(t))),""!==String(t))try{const n=(0,h.getCustomTxParamsData)(e.data,{customPermissionAmount:t,decimals:E}),{from:a,to:r,value:o}=e,s=await(0,y.estimateGas)({from:a,to:r,value:o,data:n});s&&await S({gasLimit:(0,f.hexToDecimal)((0,i.addHexPrefix)(s))})}catch(e){console.error("Error in trying to update gas limit",e)}k(!1)};(0,a.useEffect)((()=>{w===String(o)?A(!1):A(!0)}),[w,o]),(0,a.useEffect)((()=>{x(N)}),[N,x]),(0,a.useEffect)((()=>{O.current&&O.current.focus({preventScroll:!0})}),[O.current]);const W=R(w,n)?P("warningTooltipText",[a.default.createElement(u.Text,{key:"tooltip-text",variant:c.TextVariant.bodySmBold,as:"span",color:c.TextColor.errorDefault},a.default.createElement(u.Icon,{name:u.IconName.Danger,size:u.IconSize.Inherit})," ",P("beCareful"))]):P("inputLogicEmptyState");return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Box,{className:"custom-spending-cap",display:c.Display.Flex,alignItems:c.AlignItems.flexStart,flexDirection:c.FlexDirection.Column,gap:2,padding:4,backgroundColor:c.BackgroundColor.backgroundAlternative,borderRadius:c.Size.SM},a.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:1,width:c.BlockSize.Full},a.default.createElement("div",null,a.default.createElement(u.Label,{htmlFor:"custom-spending-cap",display:c.Display.Inline,marginRight:1},P("customSpendingCap")),a.default.createElement(_.CustomSpendingCapTooltip,{tooltipContentText:F(w)?W:"",tooltipIcon:F(w)?R(w,n):""})),I&&a.default.createElement(u.ButtonLink,{marginLeft:"auto",size:c.Size.auto,onClick:e=>{e.preventDefault(),A(!1),$(o)}},P("useSiteSuggestion"))),a.default.createElement(u.TextField,{inputRef:O,inputProps:{"data-testid":"custom-spending-cap-input",color:R(w,n)?c.TextColor.errorDefault:c.TextColor.textDefault,paddingInlineEnd:4},id:"custom-spending-cap",onChange:e=>$(e.target.value),placeholder:P("enterANumber"),value:w,endAccessory:a.default.createElement(u.ButtonLink,{onClick:e=>{e.preventDefault(),$(n)},"data-testid":"custom-spending-cap-max-button"},P("max")),width:c.BlockSize.Full}),a.default.createElement(u.HelpText,{color:N?c.TextColor.errorDefault:c.TextColor.textDefault,variant:c.TextVariant.bodySm},N||(F(w)?L:D)),a.default.createElement(u.ButtonLink,{size:c.Size.SM,href:b.default.TOKEN_ALLOWANCE_WITH_SPENDING_CAP,externalLink:!0},P("learnMoreUpperCase"))))}E.propTypes={txParams:o.default.object.isRequired,tokenName:o.default.string,currentTokenBalance:o.default.string,dappProposedValue:o.default.string,siteOrigin:o.default.string,passTheErrorText:o.default.func,decimals:o.default.string,setInputChangeInProgress:o.default.func.isRequired,customSpendingCap:o.default.string,setCustomSpendingCap:o.default.func.isRequired}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\custom-spending-cap\\custom-spending-cap.js"}],[4820,{"../../../../../shared/constants/gas":3925,"../../../../components/component-library":4330,"../../../../components/ui/button":4503,"../../../../components/ui/info-tooltip":4554,"../../../../contexts/i18n":4634,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/confirm-tx.util":4686,"../advanced-gas-controls/advanced-gas-controls.component":4764,"bignumber.js":2303,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=m(e("bignumber.js")),s=e("../../../../../shared/constants/gas"),i=m(e("../../../../components/ui/button")),l=e("../../../../helpers/constants/design-system"),c=e("../../../../components/component-library"),u=e("../../../../helpers/utils/confirm-tx.util"),d=m(e("../../../../components/ui/info-tooltip")),p=m(e("../advanced-gas-controls/advanced-gas-controls.component")),f=e("../../../../contexts/i18n");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y({mode:e=s.EditGasModes.modifyInPlace,estimatedMinimumNative:t,transaction:n,gasPrice:r,setGasPrice:m,gasLimit:g,setGasLimit:y,properGasLimit:h,dappSuggestedGasFeeAcknowledged:v,setDappSuggestedGasFeeAcknowledged:b,onManualChange:_,minimumGasLimit:T,balanceError:x,gasErrors:E,txParamsHaveBeenCustomized:k}){const w=(0,a.useContext)(f.I18nContext),C=(0,a.useRef)(null),P=(0,u.areDappSuggestedAndTxParamGasFeesTheSame)(n),M=Boolean((null==n?void 0:n.dappSuggestedGasFees)&&!v&&P);let S;g!==undefined&&h!==undefined&&new o.default(g).lessThan(new o.default(h))&&(S=w("gasLimitRecommended",[h]));const O=x&&k;return a.default.createElement("div",{className:"edit-gas-display"},a.default.createElement("div",{className:"edit-gas-display__content"},O&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Danger,description:w("insufficientFunds"),marginBottom:6}),S&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Warning,description:S,marginBottom:6}),M&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Warning,className:"banner-alert--warning",description:w("gasDisplayDappWarning",[n.origin]),marginBottom:6}),e===s.EditGasModes.speedUp&&a.default.createElement("div",{className:"edit-gas-display__top-tooltip"},a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Bold},w("speedUpTooltipText")," ",a.default.createElement(d.default,{position:"top",contentText:w("speedUpExplanation")}))),a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingLg,as:"h1",textAlign:l.TextAlign.Center},t),M&&a.default.createElement(i.default,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>b(!0)},w("gasDisplayAcknowledgeDappButtonText")),!M&&a.default.createElement(p.default,{gasLimit:g,setGasLimit:y,gasPrice:r,setGasPrice:m,onManualChange:_,minimumGasLimit:T,gasErrors:E})),a.default.createElement("div",{ref:C,className:"edit-gas-display__scroll-bottom"}))}y.propTypes={mode:r.default.oneOf(Object.values(s.EditGasModes)),estimatedMinimumNative:r.default.string,gasPrice:r.default.string,setGasPrice:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,properGasLimit:r.default.number,dappSuggestedGasFeeAcknowledged:r.default.bool,setDappSuggestedGasFeeAcknowledged:r.default.func,transaction:r.default.object,onManualChange:r.default.func,minimumGasLimit:r.default.string,balanceError:r.default.bool,gasErrors:r.default.object,txParamsHaveBeenCustomized:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-display\\edit-gas-display.component.js"}],[4821,{"./edit-gas-display.component":4820},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-display\\index.js"}],[4822,{"../../../../../shared/constants/gas":3925,"../../../../components/component-library":4330,"../../../../components/ui/info-tooltip/info-tooltip":4556,"../../../../contexts/gasFee":4633,"../../../../contexts/transaction-modal":4639,"../../../../helpers/constants/design-system":4661,"../../../../helpers/constants/gas":4663,"../../../../hooks/useI18nContext":4721,"../../hooks/useTransactionEventFragment":4952,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=m(e("react")),r=m(e("prop-types")),o=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/constants/gas"),l=e("../../../../contexts/gasFee"),c=e("../../../../hooks/useI18nContext"),u=e("../../hooks/useTransactionEventFragment"),d=e("../../../../contexts/transaction-modal"),p=m(e("../../../../components/ui/info-tooltip/info-tooltip")),f=e("../../../../components/component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g({userAcknowledgedGasMissing:e}){const t=(0,c.useI18nContext)(),{editGasMode:n,gasLimit:r,hasSimulationError:m,estimateUsed:g,maxFeePerGas:y,maxPriorityFeePerGas:h,supportsEIP1559:v,transaction:b}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:_}=(0,u.useTransactionEventFragment)(),{openModal:T}=(0,d.useTransactionModalContext)();if(!v||!g||!(!m||!0===e))return null;let x=g,E=g;g===o.PriorityLevels.high&&n===o.EditGasModes.swaps?(x="swapSuggested",E="swapSuggested"):g===o.PriorityLevels.tenPercentIncreased&&(x=undefined,E="tenPercentIncreased");return a.default.createElement("div",{className:"edit-gas-fee-button"},a.default.createElement("button",{onClick:()=>{_({gas_edit_attempted:"basic"}),T("editGasFee")},"data-testid":"edit-gas-fee-button"},x&&a.default.createElement("span",{className:"edit-gas-fee-button__icon"},i.PRIORITY_LEVEL_ICON_MAP[x]),a.default.createElement("span",{className:"edit-gas-fee-button__label"},t(E)),a.default.createElement(f.Icon,{name:f.IconName.ArrowRight,color:s.Color.primaryDefault,size:f.IconSize.Xs})),"custom"===g&&a.default.createElement("button",{onClick:()=>{_({gas_edit_attempted:"advanced"}),T("advancedGasFee")}},t("edit")),"dappSuggested"===g&&a.default.createElement(p.default,{contentText:a.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==b?void 0:b.origin)&&a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},t("dappSuggestedTooltip",[b.origin])),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxBaseFee"))," ",y),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxPriorityFee"))," ",h),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("gasLimit"))," ",r)),position:"top"}))}g.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-button\\edit-gas-fee-button.js"}],[4823,{"./edit-gas-fee-button":4822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-button\\index.js"}],[4824,{"../../../../components/component-library":4330,"../../../../contexts/gasFee":4633,"../../../../contexts/transaction-modal":4639,"../../../../helpers/constants/design-system":4661,"../../hooks/useTransactionEventFragment":4952,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../contexts/gasFee"),s=e("../../hooks/useTransactionEventFragment"),i=e("../../../../contexts/transaction-modal"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d({userAcknowledgedGasMissing:e=!1}){const{hasSimulationError:t,estimateUsed:n,supportsEIP1559:r}=(0,o.useGasFeeContext)(),{updateTransactionEventFragment:u}=(0,s.useTransactionEventFragment)(),{openModal:d}=(0,i.useTransactionModalContext)();if(!r||!n||!(!t||e))return null;return a.default.createElement(l.Button,{style:{textDecoration:"none"},size:c.Size.SM,variant:l.BUTTON_VARIANT.LINK,startIconName:l.IconName.Edit,color:c.IconColor.primaryDefault,"data-testid":"edit-gas-fee-icon",onClick:()=>{u({gas_edit_attempted:"basic"}),d("editGasFee")}})}d.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-icon\\edit-gas-fee-icon.js"}],[4825,{"../../../../../shared/constants/gas":3925,"../../../../components/app/app-loading-spinner":3986,"../../../../components/component-library":4330,"../../../../components/ui/box":4499,"../../../../components/ui/error-message":4528,"../../../../components/ui/popover":4588,"../../../../contexts/gasFee":4633,"../../../../contexts/transaction-modal":4639,"../../../../helpers/constants/design-system":4661,"../../../../helpers/constants/error-keys":4662,"../../../../helpers/constants/zendesk-url":4673,"../../../../hooks/useI18nContext":4721,"./edit-gas-item":4827,"./network-statistics":4832,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(e("react")),r=e("../../../../../shared/constants/gas"),o=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/transaction-modal"),i=v(e("../../../../components/ui/box")),l=v(e("../../../../components/ui/error-message")),c=v(e("../../../../components/ui/popover")),u=e("../../../../helpers/constants/design-system"),d=e("../../../../helpers/constants/error-keys"),p=e("../../../../contexts/gasFee"),f=v(e("../../../../components/app/app-loading-spinner")),m=v(e("../../../../helpers/constants/zendesk-url")),g=e("../../../../components/component-library"),y=v(e("./edit-gas-item")),h=v(e("./network-statistics"));function v(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{balanceError:e,editGasMode:t}=(0,p.useGasFeeContext)(),n=(0,o.useI18nContext)(),{closeAllModals:v,closeModal:b,currentModal:_,openModalCount:T}=(0,s.useTransactionModalContext)();if("editGasFee"!==_)return null;let x="editGasFeeModalTitle";return t===r.EditGasModes.cancel?x="editCancellationGasFeeModalTitle":t===r.EditGasModes.speedUp&&(x="editSpeedUpEditGasFeeModalTitle"),a.default.createElement(c.default,{title:n(x),onBack:1===T?undefined:()=>b(["editGasFee"]),onClose:v,className:"edit-gas-fee-popover"},a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,null),a.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},a.default.createElement("div",{className:"edit-gas-fee-popover__content"},a.default.createElement(i.default,null,e&&a.default.createElement(l.default,{errorKey:d.INSUFFICIENT_FUNDS_ERROR_KEY}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==r.EditGasModes.swaps&&n("time")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===r.EditGasModes.cancel||t===r.EditGasModes.speedUp)&&a.default.createElement(y.default,{priorityLevel:r.PriorityLevels.tenPercentIncreased}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(y.default,{priorityLevel:r.PriorityLevels.low}),a.default.createElement(y.default,{priorityLevel:r.PriorityLevels.medium}),a.default.createElement(y.default,{priorityLevel:r.PriorityLevels.high}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(y.default,{priorityLevel:r.PriorityLevels.dAppSuggested}),a.default.createElement(y.default,{priorityLevel:r.PriorityLevels.custom})),a.default.createElement(i.default,null,a.default.createElement(h.default,null),a.default.createElement(g.Text,{className:"edit-gas-fee-popover__know-more",align:"center",color:u.TextColor.textAlternative,tag:u.TextVariant.bodyMd,variant:u.TextVariant.bodySm,as:"h6"},n("learnMoreAboutGas",[a.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:m.default.USER_GUIDE_GAS},n("learnMore"))])))))))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\edit-gas-fee-popover.js"}],[4826,{"../../../../../../shared/constants/gas":3925,"../../../../../components/app/user-preferenced-currency-display":4249,"../../../../../components/ui/info-tooltip":4554,"../../../../../components/ui/loading-heartbeat":4559,"../../../../../contexts/gasFee":4633,"../../../../../contexts/transaction-modal":4639,"../../../../../helpers/constants/common":4659,"../../../../../helpers/constants/gas":4663,"../../../../../helpers/utils/util":4704,"../../../../../hooks/useI18nContext":4721,"../../../hooks/useTransactionEventFragment":4952,"../edit-gas-tooltip/edit-gas-tooltip":4830,"./useGasItemFeeDetails":4829,classnames:2418,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=b(e("classnames")),r=b(e("prop-types")),o=b(e("react")),s=e("../../../../../../shared/constants/gas"),i=e("../../../../../helpers/constants/gas"),l=e("../../../../../helpers/constants/common"),c=e("../../../../../helpers/utils/util"),u=e("../../../../../contexts/gasFee"),d=e("../../../../../hooks/useI18nContext"),p=e("../../../hooks/useTransactionEventFragment"),f=e("../../../../../contexts/transaction-modal"),m=b(e("../../../../../components/ui/info-tooltip")),g=b(e("../../../../../components/ui/loading-heartbeat")),y=b(e("../../../../../components/app/user-preferenced-currency-display")),h=b(e("../edit-gas-tooltip/edit-gas-tooltip")),v=e("./useGasItemFeeDetails");function b(e){return e&&e.__esModule?e:{default:e}}const _=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:r,updateTransactionToTenPercentIncreasedGasFee:b,updateTransactionUsingDAPPSuggestedValues:_,updateTransactionUsingEstimate:T,transaction:x}=(0,u.useGasFeeContext)(),{updateTransactionEventFragment:E}=(0,p.useTransactionEventFragment)(),k=(0,d.useI18nContext)(),{closeModal:w,openModal:C}=(0,f.useTransactionModalContext)(),{dappSuggestedGasFees:P}=x,{estimateGreaterThanGasUse:M,hexMaximumTransactionFee:S,maxFeePerGas:O,maxPriorityFeePerGas:N,minWaitTime:j}=(0,v.useGasItemFeeDetails)(e);if(!(e!==s.PriorityLevels.dAppSuggested||null!=P&&P.maxFeePerGas||null!=P&&P.gasPrice))return null;const{title:I,icon:A}=((e,t)=>{let n=e,a=e;return e===s.PriorityLevels.dAppSuggested?a="dappSuggestedShortLabel":e===s.PriorityLevels.dappSuggestedHigh?a="dappSuggestedHighShortLabel":e===s.PriorityLevels.tenPercentIncreased?(n=null,a="tenPercentIncreased"):e===s.PriorityLevels.high&&t===s.EditGasModes.swaps&&(n="swapSuggested",a="swapSuggested"),{title:a,icon:n}})(e,t);return o.default.createElement("button",{className:(0,a.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":M}),onClick:()=>{e===s.PriorityLevels.custom?(E({properties:{gas_edit_attempted:"advanced"}}),C("advancedGasFee")):(E({properties:{gas_edit_type:"basic"}}),w(["editGasFee"]),e===s.PriorityLevels.tenPercentIncreased?b():e===s.PriorityLevels.dAppSuggested?_():T(e))},"aria-label":e,autoFocus:e===n,disabled:M,"data-testid":`edit-gas-fee-item-${e}`},o.default.createElement("span",{className:"edit-gas-item__name"},A&&o.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},i.PRIORITY_LEVEL_ICON_MAP[A]),k(I)),o.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==s.EditGasModes.swaps&&(j?(0,c.toHumanReadableTime)(k,j):"--")),o.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},S?o.default.createElement("div",{className:"edit-gas-item__maxfee"},o.default.createElement(g.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),o.default.createElement(y.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:S})):"--"),o.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},o.default.createElement(m.default,{contentText:o.default.createElement(h.default,{t:k,priorityLevel:e,maxFeePerGas:O,maxPriorityFeePerGas:N,editGasMode:t,gasLimit:r,transaction:x,estimateGreaterThanGasUse:M}),position:"top"})))};_.propTypes={priorityLevel:r.default.string};n.default=_}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\edit-gas-item\\edit-gas-item.js"}],[4827,{"./edit-gas-item":4826},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\edit-gas-item\\index.js"}],[4828,{"../../../../../../shared/constants/gas":3925,"../../../../../ducks/metamask/metamask":4653,"../../../../../store/actions":5217,"bignumber.js":2303,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("../../../../../../shared/constants/gas"),l=e("../../../../../ducks/metamask/metamask"),c=e("../../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{const a=(0,o.useSelector)(l.getGasEstimateType),u=(0,o.useSelector)(l.getIsGasEstimatesLoading),[d,p]=(0,r.useState)(null),f=u||a!==i.GasEstimateTypes.feeMarket||!n,m=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,r.useEffect)((()=>{!u&&a===i.GasEstimateTypes.feeMarket&&n&&m&&(0,c.getGasFeeTimeEstimate)(new s.default(n,10).toString(10),new s.default(t,10).toString(10)).then((e=>{p(e)}))}),[a,m,u,t,n,f]),f)return{};const{low:g={},medium:y={},high:h={}}=e;let v="";return v=m&&d&&"unknown"!==d&&"unknown"!==(null==d?void 0:d.upperTimeBound)?Number(null==d?void 0:d.upperTimeBound):Number(n)>=Number(y.suggestedMaxPriorityFeePerGas)?h.minWaitTimeEstimate:g.maxWaitTimeEstimate,{waitTimeEstimate:v}}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\edit-gas-item\\useCustomTimeEstimate.js"}],[4829,{"../../../../../../shared/constants/gas":3925,"../../../../../../shared/modules/conversion.utils":3957,"../../../../../../shared/modules/gas.utils":3961,"../../../../../contexts/gasFee":4633,"../../../../../helpers/utils/gas":4689,"../../../../../selectors":5210,"./useCustomTimeEstimate":4828,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var a=e("react"),r=e("react-redux"),o=e("../../../../../../shared/constants/gas"),s=e("../../../../../../shared/modules/gas.utils"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../selectors"),c=e("../../../../../contexts/gasFee"),u=e("../../../../../../shared/modules/conversion.utils"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:p,gasLimit:f,maxFeePerGas:m,maxPriorityFeePerGas:g,transaction:y}=(0,c.useGasFeeContext)(),[h,v]=(0,a.useState)(!1),b=(0,r.useSelector)(l.getAdvancedGasFeeValues);let _,T,x;const{dappSuggestedGasFees:E}=y;if(null!=p&&p[e])_=p[e].suggestedMaxFeePerGas,T=p[e].suggestedMaxPriorityFeePerGas;else if(e===o.PriorityLevels.dAppSuggested&&E)_=(0,u.hexWEIToDecGWEI)(E.maxFeePerGas||E.gasPrice),T=(0,u.hexWEIToDecGWEI)(E.maxPriorityFeePerGas||_);else if(e===o.PriorityLevels.custom)n===o.PriorityLevels.custom?(_=m,T=g):b&&t!==o.EditGasModes.swaps&&(_=b.maxBaseFee,T=b.priorityFee);else if(e===o.PriorityLevels.tenPercentIncreased&&y.previousGas){var k,w;_=(0,u.hexWEIToDecGWEI)((0,i.addTenPercentAndRound)(null===(k=y.previousGas)||void 0===k?void 0:k.maxFeePerGas)),T=(0,u.hexWEIToDecGWEI)((0,i.addTenPercentAndRound)(null===(w=y.previousGas)||void 0===w?void 0:w.maxPriorityFeePerGas))}const{waitTimeEstimate:C}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:p,maxFeePerGas:_,maxPriorityFeePerGas:T});x=p[e]?e===o.PriorityLevels.high?null==p?void 0:p.high.minWaitTimeEstimate:null==p?void 0:p.low.maxWaitTimeEstimate:C;const P=_?(0,s.getMaximumGasTotalInHexWei)({gasLimit:(0,u.decimalToHex)(f),maxFeePerGas:(0,u.decGWEIToHexWEI)(_)}):null;return(0,a.useEffect)((()=>{if(!(t!==o.EditGasModes.cancel&&t!==o.EditGasModes.speedUp||e!==o.PriorityLevels.medium&&e!==o.PriorityLevels.high)){const t=!(0,i.gasEstimateGreaterThanGasUsedPlusTenPercent)(y.previousGas||y.txParams,p,e);v(t)}}),[t,p,e,y]),{estimateGreaterThanGasUse:h,maxFeePerGas:_,maxPriorityFeePerGas:T,minWaitTime:x,hexMaximumTransactionFee:P}}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\edit-gas-item\\useGasItemFeeDetails.js"}],[4830,{"../../../../../../shared/constants/gas":3925,"../../../../../components/component-library":4330,"../../../../../helpers/constants/design-system":4661,"../../../../../helpers/utils/gas":4689,"../../../../../helpers/utils/util":4704,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../../../shared/constants/gas"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../helpers/utils/gas"),c=e("../../../../../helpers/utils/util"),u=e("../../../../../components/component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:a,maxFeePerGas:o,maxPriorityFeePerGas:d,transaction:p,t:f})=>{const m=(0,r.useMemo)((()=>{switch(a){case s.PriorityLevels.low:return f("lowGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("low")))]);case s.PriorityLevels.medium:return t?f("disabledGasOptionToolTipMessage",[r.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):f("mediumGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("medium")))]);case s.PriorityLevels.high:return t?f("disabledGasOptionToolTipMessage",[r.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):e===s.EditGasModes.swaps?f("swapSuggestedGasSettingToolTipMessage"):f("highGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("high")))]);case s.PriorityLevels.custom:return f("customGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("custom")))]);case s.PriorityLevels.dAppSuggested:return null!=p&&p.origin?f("dappSuggestedGasSettingToolTipMessage",[r.default.createElement("span",{key:null==p?void 0:p.origin},null==p?void 0:p.origin)]):null;default:return""}}),[e,t,a,p,f]);let g;a===s.PriorityLevels.low?g=f("curveLowGasEstimate"):a===s.PriorityLevels.medium?g=f("curveMediumGasEstimate"):a===s.PriorityLevels.high&&(g=f("curveHighGasEstimate"));const y=(0,l.isMetamaskSuggestedGasEstimate)(a)&&!(a===s.PriorityLevels.high&&e===s.EditGasModes.swaps)&&!t;return r.default.createElement("div",{className:"edit-gas-tooltip__container"},y?r.default.createElement("img",{alt:g,src:`./images/curve-${a}.svg`}):null,m&&r.default.createElement("div",{className:"edit-gas-tooltip__container__message"},r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6"},m)),a===s.PriorityLevels.custom||t?null:r.default.createElement("div",{className:"edit-gas-tooltip__container__values"},r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("maxBaseFee")),o&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(o,4))),r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("priorityFeeProperCase")),d&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("gasLimit")),n&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};p.propTypes={estimateGreaterThanGasUse:o.default.bool,priorityLevel:o.default.string,maxFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),maxPriorityFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),t:o.default.func,editGasMode:o.default.string,gasLimit:o.default.number,transaction:o.default.object};n.default=p}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\edit-gas-tooltip\\edit-gas-tooltip.js"}],[4831,{"./edit-gas-fee-popover":4825},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\index.js"}],[4832,{"./network-statistics":4833},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-statistics"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\network-statistics\\index.js"}],[4833,{"../../../../../components/component-library":4330,"../../../../../contexts/gasFee":4633,"../../../../../contexts/i18n":4634,"../../../../../helpers/constants/design-system":4661,"../../../../../helpers/utils/gas":4689,"../../../../../helpers/utils/util":4704,"./status-slider":4834,"./tooltips":4836,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../helpers/constants/design-system"),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),c=e("../../../../../contexts/gasFee"),u=e("../../../../../components/component-library"),d=e("./tooltips"),p=(a=e("./status-slider"))&&a.__esModule?a:{default:a};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useContext)(l.I18nContext),{gasFeeEstimates:t}=(0,c.useGasFeeContext)(),n=(0,i.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),a=(0,i.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),f=null==t?void 0:t.networkCongestion;return r.default.createElement("div",{className:"network-statistics"},r.default.createElement(u.Text,{color:o.TextColor.textAlternative,fontWeight:o.FontWeight.Bold,marginTop:3,marginBottom:3,variant:o.TextVariant.bodyXs,as:"h6"},e("networkStatus")),r.default.createElement("div",{className:"network-statistics__info"},(0,s.isNullish)(n)?null:r.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},r.default.createElement(d.BaseFeeTooltip,null,r.default.createElement("span",{className:"network-statistics__field-data"},n),r.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,s.isNullish)(a)?null:r.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},r.default.createElement(d.PriorityFeeTooltip,null,r.default.createElement("span",{className:"network-statistics__field-data"},a),r.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,s.isNullish)(f)?null:r.default.createElement("div",{className:"network-statistics__field"},r.default.createElement(p.default,null))))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\network-statistics\\network-statistics.js"}],[4834,{"./status-slider":4835},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./status-slider"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\network-statistics\\status-slider\\index.js"}],[4835,{"../../../../../../../shared/constants/gas":3925,"../../../../../../contexts/gasFee":4633,"../../../../../../hooks/useI18nContext":4721,"../tooltips":4836,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../../shared/constants/gas"),s=e("../../../../../../contexts/gasFee"),i=e("../../../../../../hooks/useI18nContext"),l=e("../tooltips");const c=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];n.default=()=>{const e=(0,i.useI18nContext)(),{gasFeeEstimates:t}=(0,s.useGasFeeContext)(),n=(e=>{const t=e??.5,n=Math.round(10*t),a=c[n],r=10*n;return t>=o.NetworkCongestionThresholds.busy?{statusLabel:"busy",tooltipLabel:"highLowercase",color:a,sliderTickValue:r}:t>=o.NetworkCongestionThresholds.stable?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:a,sliderTickValue:r}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:a,sliderTickValue:r}})(t.networkCongestion);return r.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},r.default.createElement("div",{className:"status-slider"},r.default.createElement("div",{className:"status-slider__arrow-container"},r.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},r.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),r.default.createElement("div",{className:"status-slider__line"}),r.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\network-statistics\\status-slider\\status-slider.js"}],[4836,{"../../../../../components/ui/box":4499,"../../../../../components/ui/tooltip":4622,"../../../../../helpers/constants/design-system":4661,"../../../../../hooks/useI18nContext":4721,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../../../hooks/useI18nContext"),s=c(e("../../../../../components/ui/box")),i=c(e("../../../../../components/ui/tooltip")),l=e("../../../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}const u=({children:e,html:t,title:n})=>a.default.createElement(i.default,{position:"top",html:t,title:n},a.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));u.propTypes={children:r.default.node.isRequired,html:r.default.node,title:r.default.string};const d=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(u,{html:t("networkStatusBaseFeeTooltip",[a.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),a.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:r.default.node.isRequired};const p=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(u,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=p,p.propTypes={children:r.default.node.isRequired};const f=({children:e,color:t,tooltipLabel:n})=>{const r=(0,o.useI18nContext)();return a.default.createElement(u,{html:r("networkStatusStabilityFeeTooltip",[a.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},r(n))])},e)};n.NetworkStabilityTooltip=f,f.propTypes={children:r.default.node.isRequired,color:r.default.string.isRequired,tooltipLabel:r.default.string.isRequired}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-fee-popover\\network-statistics\\tooltips.js"}],[4837,{"../../../../../shared/constants/gas":3925,"../../../../../shared/modules/conversion.utils":3957,"../../../../../shared/modules/transaction.utils":3973,"../../../../components/component-library":4330,"../../../../components/component-library/modal-content/deprecated":4338,"../../../../components/component-library/modal-header/deprecated":4347,"../../../../components/ui/loading-heartbeat":4559,"../../../../contexts/i18n":4634,"../../../../store/actions":5217,"../../hooks/useGasFeeInputs":4944,"../../hooks/useIncrementedGasFees":4946,"../edit-gas-display":4821,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("react-redux"),s=e("../../hooks/useGasFeeInputs"),i=e("../../../../../shared/modules/transaction.utils"),l=e("../../../../../shared/constants/gas"),c=e("../../../../components/component-library"),u=e("../../../../components/component-library/modal-content/deprecated"),d=e("../../../../components/component-library/modal-header/deprecated"),p=v(e("../edit-gas-display")),f=e("../../../../contexts/i18n"),m=e("../../../../store/actions"),g=v(e("../../../../components/ui/loading-heartbeat")),y=e("../../hooks/useIncrementedGasFees"),h=e("../../../../../shared/modules/conversion.utils");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_.apply(this,arguments)}function T({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},transaction:r,mode:v,onClose:b,minimumGasLimit:T=l.GAS_LIMITS.SIMPLE}){const x=(0,a.useContext)(f.I18nContext),E=(0,o.useDispatch)(),[k,w]=(0,a.useState)(!1),C=(0,h.hexToDecimal)(T),P=(0,y.useIncrementedGasFees)(r);let M=r;v!==l.EditGasModes.speedUp&&v!==l.EditGasModes.cancel||(M={...r,userFeeLevel:l.CUSTOM_GAS_ESTIMATE,txParams:{...r.txParams,...P}});const{estimatedMinimumNative:S,gasPrice:O,setGasPrice:N,gasLimit:j,setGasLimit:I,properGasLimit:A,estimateToUse:D,hasGasErrors:F,gasErrors:R,onManualChange:G,balanceError:L}=(0,s.useGasFeeInputs)(l.GasRecommendations.medium,M,T,v),B=D===l.CUSTOM_GAS_ESTIMATE||(0,i.txParamsAreDappSuggested)(M),$=(0,a.useCallback)((()=>{b?b():E((0,m.hideModal)())}),[b,E]),W=(0,a.useCallback)((async()=>{M&&v||$();const e={gas:(0,h.decimalToHex)(j),gasLimit:(0,h.decimalToHex)(j),estimateUsed:D,gasPrice:(0,h.decGWEIToHexWEI)(O)},t={...M.txParams},n={...M,userEditedGasLimit:j!==Number(r.originalGasEstimate),userFeeLevel:D||l.CUSTOM_GAS_ESTIMATE,txParams:{...t,...e}};switch(v){case l.EditGasModes.cancel:E((0,m.createCancelTransaction)(M.id,e));break;case l.EditGasModes.speedUp:E((0,m.createSpeedUpTransaction)(M.id,e));break;case l.EditGasModes.modifyInPlace:e.userEditedGasLimit=n.userEditedGasLimit,e.userFeeLevel=n.userFeeLevel,E((0,m.showLoadingIndication)()),await E((0,m.updateTransactionGasFees)(n.id,e)),E((0,m.hideLoadingIndication)())}$()}),[M,v,E,$,j,O,r.originalGasEstimate,D]);let q=x("editGasTitle");e?q=e:v===l.EditGasModes.speedUp?q=x("speedUpPopoverTitle"):v===l.EditGasModes.cancel&&(q=x("cancelPopoverTitle"));const V=t||x("save");return a.default.createElement(c.Modal,{isOpen:!0,onClose:$},a.default.createElement(c.ModalOverlay,null),a.default.createElement(u.ModalContent,{autoFocus:!1,className:"edit-gas-popover"},a.default.createElement(d.ModalHeader,{onClose:$,marginBottom:4},q),a.default.createElement("div",{className:"edit-gas-popover__edit-gas-display"},a.default.createElement(g.default,null),a.default.createElement(p.default,_({dappSuggestedGasFeeAcknowledged:k,setDappSuggestedGasFeeAcknowledged:w,estimatedMinimumNative:S,gasPrice:O,setGasPrice:N,gasLimit:j,setGasLimit:I,properGasLimit:A,mode:v,transaction:M,onManualChange:G,minimumGasLimit:C,balanceError:L,txParamsHaveBeenCustomized:B,gasErrors:R},n))),a.default.createElement(c.Button,{block:!0,variant:c.ButtonVariant.Primary,size:c.ButtonSize.LG,marginTop:4,onClick:W,disabled:F||L||!B},V)))}T.propTypes={popoverTitle:r.default.string,editGasDisplayProps:r.default.object,confirmButtonText:r.default.string,onClose:r.default.func,transaction:r.default.object,mode:r.default.oneOf(Object.values(l.EditGasModes)),minimumGasLimit:r.default.string}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-popover\\edit-gas-popover.component.js"}],[4838,{"./edit-gas-popover.component":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-popover.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\edit-gas-popover\\index.js"}],[4839,{"../../../../../shared/modules/conversion.utils":3957,"../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":4250,"../../../../components/component-library":4330,"../../../../components/ui/loading-heartbeat":4559,"../../../../contexts/gasFee":4633,"../../../../helpers/constants/common":4659,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/optimism/fetchEstimatedL1Fee":4697,"../../../../hooks/useI18nContext":4721,"../../../../selectors":5210,"../transaction-detail-item/transaction-detail-item.component":4891,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=h(e("prop-types")),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),l=h(e("../transaction-detail-item/transaction-detail-item.component")),c=e("../../../../selectors"),u=e("../../../../hooks/useI18nContext"),d=h(e("../../../../components/ui/loading-heartbeat")),p=h(e("../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),f=e("../../../../helpers/constants/common"),m=e("../../../../../shared/modules/conversion.utils"),g=h(e("../../../../helpers/utils/optimism/fetchEstimatedL1Fee")),y=e("../../../../contexts/gasFee");function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b({txData:e,useCurrencyRateCheck:t,hideGasDetails:n=!1}){const[o,h]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null),_=(0,r.useSelector)(c.getIsMultiLayerFeeNetwork),{useNativeCurrencyAsPrimaryCurrency:T}=(0,r.useSelector)(c.getPreferences),x=(0,u.useI18nContext)(),{maximumCostInHexWei:E,minimumCostInHexWei:k}=(0,y.useGasFeeContext)();(0,a.useEffect)((()=>{_&&(0,g.default)(null==e?void 0:e.chainId,e).then((e=>{b(e)})).catch((e=>{b(null)}))}),[_,e]);const w=(0,a.useMemo)((()=>_?(0,m.addHexes)(E,v||0):E),[_,E,v]),C=(0,a.useCallback)((t=>a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(d.default,{estimateUsed:null==e?void 0:e.userFeeLevel}),a.default.createElement(p.default,{type:f.SECONDARY,key:"total-detail-text",value:t,hideLabel:Boolean(T)}))),[e,T]),P=(0,a.useCallback)((t=>a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(d.default,{estimateUsed:null==e?void 0:e.userFeeLevel}),a.default.createElement(p.default,{type:f.PRIMARY,key:"total-detail-value",value:t,hideLabel:!T}))),[e,T]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,flexDirection:s.FlexDirection.Column},!n&&a.default.createElement(i.Box,{padding:4,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(i.Button,{style:{textDecoration:"none"},size:s.Size.Xs,variant:i.BUTTON_VARIANT.LINK,endIconName:o?i.IconName.ArrowUp:i.IconName.ArrowDown,color:s.IconColor.primaryDefault,"data-testid":"expand-fee-details-button",onClick:()=>h(!o)},a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.IconColor.primaryDefault},x("feeDetails"))))),!n&&o&&a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},_&&a.default.createElement(l.default,{detailTitle:x("optimismFees"),detailText:t&&C(k),detailTotal:P(k),boldHeadings:!1}),_&&v&&a.default.createElement(l.default,{detailTitle:x("layer1Fees"),detailText:t&&C(v),detailTotal:P(v),boldHeadings:!1}),a.default.createElement(l.default,{detailTitle:x("total"),detailText:t&&C(w),detailTotal:P(w)})))}b.propTypes={txData:o.default.object,useCurrencyRateCheck:o.default.bool,hideGasDetails:o.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\fee-details-component\\fee-details-component.js"}],[4840,{"../../../../../shared/constants/gas":3925,"../../../../../shared/modules/conversion.utils":3957,"../../../../components/app/user-preferenced-currency-display":4249,"../../../../components/component-library":4330,"../../../../components/ui/box":4499,"../../../../components/ui/loading-heartbeat":4559,"../../../../contexts/gasFee":4633,"../../../../ducks/send":4655,"../../../../helpers/constants/common":4659,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/optimism/fetchEstimatedL1Fee":4697,"../../../../hooks/useI18nContext":4721,"../../../../selectors":5210,"../../hooks/useDraftTransactionWithTxParams":4941,"../edit-gas-fee-icon/edit-gas-fee-icon":4824,"../gas-timing/gas-timing.component":4842,"../transaction-detail-item/transaction-detail-item.component":4891,classnames:2418,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=k(e("prop-types")),o=k(e("classnames")),s=e("react-redux"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/constants/common"),u=e("../../../../../shared/constants/gas"),d=e("../../../../selectors"),p=e("../../../../ducks/send"),f=e("../../../../../shared/modules/conversion.utils"),m=e("../../hooks/useDraftTransactionWithTxParams"),g=e("../../../../contexts/gasFee"),y=e("../../../../hooks/useI18nContext"),h=k(e("../../../../components/ui/box")),v=k(e("../../../../components/ui/loading-heartbeat")),b=k(e("../edit-gas-fee-icon/edit-gas-fee-icon")),_=k(e("../gas-timing/gas-timing.component")),T=k(e("../../../../helpers/utils/optimism/fetchEstimatedL1Fee")),x=k(e("../transaction-detail-item/transaction-detail-item.component")),E=k(e("../../../../components/app/user-preferenced-currency-display"));function k(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const C=({"data-testid":e,userAcknowledgedGasMissing:t=!1})=>{var n,r;const k=(0,y.useI18nContext)(),w=(0,s.useSelector)(d.getIsMultiLayerFeeNetwork),C=(0,s.useSelector)(d.getTxData),[P,M]=(0,a.useState)(null);(0,a.useEffect)((()=>{w&&(0,T.default)(null==C?void 0:C.chainId,C).then((e=>{M(e)})).catch((e=>{M(null)}))}),[w,C]);const S=(0,s.useSelector)(p.getCurrentDraftTransaction),O=(0,m.useDraftTransactionWithTxParams)(),{hexMinimumTransactionFee:N,hexMaximumTransactionFee:j}=(0,s.useSelector)((e=>(0,d.transactionFeeSelector)(e,O))),{estimateUsed:I,hasSimulationError:A,maximumCostInHexWei:D,minimumCostInHexWei:F,maxPriorityFeePerGas:R,maxFeePerGas:G}=(0,g.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:L}=(0,s.useSelector)(d.getPreferences),B=(0,s.useSelector)(d.getUseCurrencyRateCheck),$=(0,a.useMemo)((()=>w?(0,f.sumHexes)(F,P||0):F),[w,F,P]),W=(0,a.useMemo)((()=>w?(0,f.sumHexes)(D,P||0):D),[w,D,P]);if(A&&!t)return null;const q=(R??(0,f.hexWEIToDecGWEI)((null===(n=O.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas)??"0x0")).toString(),V=(G??(0,f.hexWEIToDecGWEI)((null===(r=O.txParams)||void 0===r?void 0:r.maxFeePerGas)??"0x0")).toString();return a.default.createElement(x.default,{key:"gas-details-item","data-testid":e,detailTitle:a.default.createElement(i.Text,null,k("estimatedFee")),detailTitleColor:l.TextColor.textDefault,detailText:0===Object.keys(S).length&&a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(v.default,{estimateUsed:I}),a.default.createElement(b.default,{userAcknowledgedGasMissing:t}),B&&a.default.createElement(E.default,{type:c.SECONDARY,value:$,hideLabel:Boolean(L)})),detailTotal:a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(v.default,{estimateUsed:I}),a.default.createElement(E.default,{type:c.PRIMARY,value:$||N,hideLabel:!L})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,o.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":I===u.PriorityLevels.high||I===u.PriorityLevels.dappSuggestedHigh})},a.default.createElement(v.default,{estimateUsed:I}),a.default.createElement(h.default,{marginRight:1},a.default.createElement("strong",null,(I===u.PriorityLevels.high||I===u.PriorityLevels.dappSuggestedHigh)&&"⚠ ",k("editGasSubTextFeeLabel"))),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},a.default.createElement(v.default,{estimateUsed:I}),a.default.createElement(E.default,{key:"editGasSubTextFeeAmount",type:c.PRIMARY,value:W||j,hideLabel:!L})))),subTitle:a.default.createElement(_.default,{maxPriorityFeePerGas:q,maxFeePerGas:V})})};C.propTypes={"data-testid":r.default.string,userAcknowledgedGasMissing:r.default.bool};n.default=C}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\gas-details-item\\gas-details-item.js"}],[4841,{"./gas-details-item":4840},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\gas-details-item\\index.js"}],[4842,{"../../../../../shared/constants/gas":3925,"../../../../components/component-library":4330,"../../../../components/ui/typography/typography":4627,"../../../../contexts/gasFee":4633,"../../../../contexts/i18n":4634,"../../../../ducks/metamask/metamask":4653,"../../../../helpers/constants/design-system":4661,"../../../../helpers/constants/gas":4663,"../../../../hooks/usePrevious":4729,"../../../../store/actions":5217,"../../hooks/useDraftTransactionWithTxParams":4941,"bignumber.js":2303,classnames:2418,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=b(e("bignumber.js")),o=b(e("prop-types")),s=b(e("classnames")),i=e("react-redux"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../ducks/metamask/metamask"),d=e("../../../../helpers/constants/gas"),p=e("../../../../../shared/constants/gas"),f=e("../../../../contexts/i18n"),m=b(e("../../../../components/ui/typography/typography")),g=e("../../../../store/actions"),y=e("../../../../contexts/gasFee"),h=e("../../../../hooks/usePrevious"),v=e("../../hooks/useDraftTransactionWithTxParams");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const T=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSecondsShort",[n]):t("gasTimingMinutesShort",[Math.ceil(n/60)])};function x({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const o=(0,i.useSelector)(u.getGasEstimateType),b=(0,i.useSelector)(u.getGasFeeEstimates),_=(0,i.useSelector)(u.getIsGasEstimatesLoading),[x,E]=(0,a.useState)(null),k=(0,a.useContext)(f.I18nContext),{estimateUsed:w}=(0,y.useGasFeeContext)(),C=(0,v.useDraftTransactionWithTxParams)(),P=(null==b?void 0:b.low)&&Number(t)<Number(b.low.suggestedMaxPriorityFeePerGas),M=(0,h.usePrevious)(e),S=(0,h.usePrevious)(t),O=(0,h.usePrevious)(P);if((0,a.useEffect)((()=>{const n=t,a=e;(P||n&&n!==S||a&&a!==M)&&(0,g.getGasFeeTimeEstimate)(new r.default(n,10).toString(10),new r.default(a,10).toString(10)).then((r=>{e===a&&t===n&&E(r)})),!1!==P&&!0===O&&E(null)}),[t,e,P,M,S,O]),(null==n?void 0:n.maxPriorityFee)===d.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===d.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return a.default.createElement(m.default,{variant:c.TypographyVariant.H7,fontWeight:c.FONT_WEIGHT.BOLD,className:(0,s.default)("gas-timing","gas-timing--negative")},k("editGasTooLow"));if(_||o!==p.GasEstimateTypes.feeMarket)return null;const{low:N={},medium:j={},high:I={}}=b,A=w||C.userFeeLevel||"medium";let D=k(A),F="",R="positive";"low"===A&&(D=k("gasTimingLow")),Number(t)>=Number(j.suggestedMaxPriorityFeePerGas)?F=Number(t)<Number(I.suggestedMaxPriorityFeePerGas)?T(N.maxWaitTimeEstimate,k):T(I.minWaitTimeEstimate,k):P?("low"===A&&(R="negative"),x&&"unknown"!==x&&"unknown"!==(null==x?void 0:x.upperTimeBound)?F=T(Number(null==x?void 0:x.upperTimeBound),k):(D=k("editGasTooLow"),R="negative")):F=T(N.maxWaitTimeEstimate,k);return a.default.createElement(l.Box,{display:c.Display.Flex},a.default.createElement(l.Text,{color:c.TextColor.textMuted,variant:c.TextVariant.bodyXs},D),a.default.createElement(l.Text,{variant:c.TextVariant.bodyXs,marginLeft:1,color:(()=>{switch(R){case"positive":default:return c.TextColor.successDefault;case"warning":return c.TextColor.warningDefault;case"negative":return c.TextColor.errorDefault}})()},a.default.createElement("span",{"data-testid":"gas-timing-time"},"~",F)))}x.propTypes={maxPriorityFeePerGas:o.default.string,maxFeePerGas:o.default.string,gasWarnings:o.default.object}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\gas-timing\\gas-timing.component.js"}],[4843,{"./ledger-instruction-field":4844},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./ledger-instruction-field"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\ledger-instruction-field\\index.js"}],[4844,{"../../../../../app/scripts/lib/util":90,"../../../../../shared/constants/app":3920,"../../../../../shared/constants/hardware-wallets":3926,"../../../../components/component-library":4330,"../../../../ducks/app/app":4644,"../../../../ducks/metamask/metamask":4653,"../../../../helpers/constants/design-system":4661,"../../../../hooks/useI18nContext":4721,"../../../../store/actions":5217,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a,r=(a=e("prop-types"))&&a.__esModule?a:{default:a},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../../app/scripts/lib/util"),l=e("../../../../../shared/constants/app"),c=e("../../../../../shared/constants/hardware-wallets"),u=e("../../../../ducks/app/app"),d=e("../../../../ducks/metamask/metamask"),p=e("../../../../helpers/constants/design-system"),f=e("../../../../hooks/useI18nContext"),m=e("../../../../store/actions"),g=e("../../../../components/component-library");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const h=(e,t=!0,n=p.TextColor.textDefault)=>t&&o.default.createElement(g.Text,{color:n,as:"h6"},e);function v({showDataInstruction:e}){const t=(0,f.useI18nContext)(),n=(0,s.useDispatch)(),a=(0,s.useSelector)(u.getLedgerWebHidConnectedStatus),r=(0,s.useSelector)(d.getLedgerTransportType),y=(0,s.useSelector)(u.getLedgerTransportStatus),v=(0,i.getEnvironmentType)()===l.ENVIRONMENT_TYPE_FULLSCREEN;(0,o.useEffect)((()=>{(async()=>{if(r===c.LedgerTransportTypes.webhid&&a===c.WebHIDConnectedStatuses.connected&&y===c.HardwareTransportStates.none)try{const e=await(0,m.attemptLedgerTransportCreation)();n((0,u.setLedgerTransportStatus)(e?c.HardwareTransportStates.verified:c.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.verified)):n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(r===c.LedgerTransportTypes.webhid&&a!==c.WebHIDConnectedStatuses.connected){var e;const t=await(null===(e=window.navigator)||void 0===e||null===(e=e.hid)||void 0===e?void 0:e.getDevices()),a=null==t?void 0:t.some((e=>e.vendorId===Number(c.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)(a?c.WebHIDConnectedStatuses.connected:c.WebHIDConnectedStatuses.notConnected))}})()}),[n,r,a,y]),(0,o.useEffect)((()=>()=>{n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.none))}),[n]);const b=r===c.LedgerTransportTypes.webhid;return o.default.createElement("div",null,o.default.createElement("div",{className:"confirm-detail-row"},o.default.createElement(g.BannerAlert,{severity:p.SEVERITIES.INFO},o.default.createElement("div",{className:"ledger-live-dialog"},h(t("ledgerConnectionInstructionHeader")),h(`• ${t("ledgerConnectionInstructionStepThree")}`),h(`• ${t("ledgerConnectionInstructionStepFour")}`,e),h(o.default.createElement("span",null,o.default.createElement(g.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{v?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),y===c.HardwareTransportStates.deviceOpenFailure),h(o.default.createElement("span",null,o.default.createElement(g.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{if(v){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:c.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(c.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?c.WebHIDConnectedStatuses.connected:c.WebHIDConnectedStatuses.notConnected}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(v?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),b&&a===c.WebHIDConnectedStatuses.notConnected,p.TextColor.warningDefault)))))}v.propTypes={showDataInstruction:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\ledger-instruction-field\\ledger-instruction-field.js"}],[4845,{"./multi-layer-fee-message":4846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multi-layer-fee-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\multilayer-fee-message\\index.js"}],[4846,{"../../../../../shared/constants/common":3922,"../../../../../shared/modules/Numeric":3953,"../../../../../shared/modules/conversion.utils":3957,"../../../../components/app/user-preferenced-currency-display":4249,"../../../../contexts/i18n":4634,"../../../../helpers/constants/common":4659,"../../../../helpers/utils/optimism/fetchEstimatedL1Fee":4697,"../../../../selectors":5210,"../transaction-detail-item/transaction-detail-item.component":4891,"@sentry/browser":1823,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=y(e("prop-types")),s=e("@sentry/browser"),i=y(e("../transaction-detail-item/transaction-detail-item.component")),l=y(e("../../../../components/app/user-preferenced-currency-display")),c=y(e("../../../../helpers/utils/optimism/fetchEstimatedL1Fee")),u=e("../../../../helpers/constants/common"),d=e("../../../../contexts/i18n"),p=e("../../../../../shared/modules/conversion.utils"),f=e("../../../../../shared/constants/common"),m=e("../../../../../shared/modules/Numeric"),g=e("../../../../selectors");function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function v({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:o}){var y;const h=(0,a.useContext)(d.I18nContext),[v,b]=(0,a.useState)(null),_=(0,r.useSelector)(g.getUseCurrencyRateCheck);if((0,a.useEffect)((()=>{if(null==e||!e.txParams)return;(async()=>{try{const t=await(0,c.default)(null==e?void 0:e.chainId,e);b(t)}catch(e){(0,s.captureException)(e),b(null)}})()}),[e]),null==e||!e.txParams)return null;let T=h("unknown"),x=h("unknown");if(null!==v){T=`${new m.Numeric(v,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,x=_?a.default.createElement(l.default,{type:u.SECONDARY,value:v,showFiat:!0,hideLabel:!0}):null}const E=(0,p.sumHexes)(t||"0x0",v||"0x0",(null==e||null===(y=e.txParams)||void 0===y?void 0:y.value)||"0x0"),k=`${new m.Numeric(E,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,w=_?a.default.createElement(l.default,{type:u.SECONDARY,value:E,showFiat:!0,hideLabel:!0}):null;return a.default.createElement("div",{className:"multi-layer-fee-message"},a.default.createElement(i.default,{key:"multi-layer-fee-message-total-item-gas-fee",detailTitle:h("layer1Fees"),detailTotal:T,detailText:_&&x,noBold:o,flexWidthValues:o}),a.default.createElement(i.default,{key:"multi-layer-fee-message-total-item-total",detailTitle:h("total"),detailTotal:k,detailText:w,subTitle:h("transactionDetailMultiLayerTotalSubtitle"),noBold:o,flexWidthValues:o}))}v.propTypes={transaction:o.default.object,layer2fee:o.default.string,nativeCurrency:o.default.string,plainStyle:o.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\multilayer-fee-message\\multi-layer-fee-message.js"}],[4847,{"../../../../../shared/modules/Numeric":3953,"../../../../components/component-library":4330,"../../../../components/ui/tooltip":4622,"../../../../contexts/i18n":4634,"../../../../helpers/constants/design-system":4661,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=e("../../../../contexts/i18n"),s=u(e("../../../../components/ui/tooltip")),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../../shared/modules/Numeric");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({tokenName:e,currentTokenBalance:t,tokenValue:n,onEdit:r}){const u=(0,a.useContext)(o.I18nContext),d=new c.Numeric(Number(n),10).greaterThan(Number(t),10);return a.default.createElement(i.Box,{className:"review-spending-cap",borderRadius:l.Size.SM,paddingTop:4,paddingRight:4,paddingLeft:4,display:l.Display.Flex,alignItems:l.AlignItems.flexStart,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative,gap:1},a.default.createElement(i.Box,{flexDirection:l.FlexDirection.Row,display:l.Display.Flex,alignItems:l.AlignItems.center,className:"review-spending-cap__heading"},a.default.createElement(i.Box,{flexDirection:l.FlexDirection.Row,className:"review-spending-cap__heading-title"},a.default.createElement(i.Text,{variant:l.TextVariant.bodySmBold,as:"h6",display:l.Display.InlineBlock},u("dappRequestedSpendingCap")),a.default.createElement(i.Box,{marginLeft:2,display:l.Display.InlineBlock},a.default.createElement(s.default,{interactive:!0,position:"top",html:a.default.createElement(i.Text,{variant:l.TextVariant.bodySmBold,as:"h6",color:l.TextColor.textAlternative,className:"review-spending-cap__heading-title__tooltip"},d&&u("warningTooltipText",[a.default.createElement(i.Text,{key:"tooltip-text",variant:l.TextVariant.bodySmBold,as:"h6",color:l.TextColor.errorDefault},a.default.createElement(i.Icon,{name:i.IconName.Warning,style:{verticalAlign:"middle"}}),u("beCareful"))]),0===Number(n)&&u("revokeSpendingCapTooltipText"))},d&&a.default.createElement(i.Icon,{className:"review-spending-cap__heading-title__tooltip__warning-icon",name:i.IconName.Danger,color:l.IconColor.errorDefault,size:i.IconSize.Sm,style:{verticalAlign:"middle"}}),0===Number(n)&&a.default.createElement(i.Icon,{className:"review-spending-cap__heading-title__tooltip__question-icon",name:i.IconName.Question,color:l.IconColor.iconDefault})))),a.default.createElement(i.Box,{className:"review-spending-cap__heading-detail",textAlign:l.TextAlign.End},a.default.createElement(i.ButtonLink,{size:l.Size.auto,onClick:e=>{e.preventDefault(),r()}},u("edit")))),a.default.createElement(i.Box,{className:"review-spending-cap__value"},a.default.createElement(i.Text,{color:d?l.TextColor.errorDefault:l.TextColor.textDefault,variant:l.TextVariant.bodySmBold,as:"h6",marginBottom:3},n," ",e)))}p.propTypes={tokenName:r.default.string,currentTokenBalance:r.default.string,tokenValue:r.default.string,onEdit:r.default.func}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\review-spending-cap\\review-spending-cap.js"}],[4848,{"../../../../../../shared/constants/network":3931,"../../../../../../shared/constants/security-provider":3935,"../../../../../components/component-library":4330,"../../../../../components/ui/loading-indicator":4560,"../../../../../contexts/i18n":4634,"../../../../../helpers/constants/design-system":4661,"../../../../../selectors":5210,"../../../hooks/useTransactionEventFragment":4952,"../security-provider-banner-alert":4850,"./blockaid-banner-utils":4849,"@blockaid/ppom_release/package.json":248,"@sentry/browser":1823,"prop-types":3451,react:3653,"react-redux":3627,zlib:2392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("@sentry/browser"),s=v(e("@blockaid/ppom_release/package.json")),i=e("react-redux"),l=e("../../../../../../shared/constants/network"),c=e("../../../../../helpers/constants/design-system"),u=e("../../../../../contexts/i18n"),d=e("../../../../../../shared/constants/security-provider"),p=e("../../../../../components/component-library"),f=e("../../../hooks/useTransactionEventFragment"),m=v(e("../security-provider-banner-alert")),g=v(e("../../../../../components/ui/loading-indicator")),y=e("../../../../../selectors"),h=e("./blockaid-banner-utils");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_.apply(this,arguments)}const T=e("zlib"),x=Object.freeze({[d.BlockaidReason.approvalFarming]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.permitFarming]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.setApprovalForAll]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.blurFarming]:"blockaidDescriptionBlurFarming",[d.BlockaidReason.errored]:"blockaidDescriptionErrored",[d.BlockaidReason.seaportFarming]:"blockaidDescriptionSeaportFarming",[d.BlockaidReason.maliciousDomain]:"blockaidDescriptionMaliciousDomain",[d.BlockaidReason.rawSignatureFarming]:"blockaidDescriptionMightLoseAssets",[d.BlockaidReason.tradeOrderFarming]:"blockaidDescriptionMightLoseAssets",[d.BlockaidReason.rawNativeTokenTransfer]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.transferFarming]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.transferFromFarming]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.other]:"blockaidDescriptionMightLoseAssets"}),E=Object.freeze({[d.BlockaidReason.errored]:"blockaidTitleMayNotBeSafe",[d.BlockaidReason.rawSignatureFarming]:"blockaidTitleSuspicious"});function k({txData:e,...t}){const{securityAlertResponse:n,origin:r,msgParams:v,type:b,txParams:k,chainId:w}=e,C=(0,i.useSelector)(y.getCurrentChainId),P=(0,a.useContext)(u.I18nContext),{updateTransactionEventFragment:M}=(0,f.useTransactionEventFragment)();if(!n||0===Object.keys(n).length)return null;if("loading"===n.reason)return a.default.createElement(g.default,{isLoading:!0});const{block:S,features:O,reason:N,result_type:j}=n;if(j===d.BlockaidResultType.Benign)return null;x[N]||(0,o.captureException)(`BlockaidBannerAlert: Unidentified reason '${N}'`);const I=P(x[N]||x.other),A=null!=O&&O.length?a.default.createElement(p.Text,{as:"ul",overflowWrap:c.OverflowWrap.BreakWord},O.map(((e,t)=>a.default.createElement("li",{key:`blockaid-detail-${t}`},"• ",e)))):null,D=j===d.BlockaidResultType.Errored,F=j===d.BlockaidResultType.Malicious?c.Severity.Danger:c.Severity.Warning,R=P(E[N]||"blockaidTitleDeceptive"),G=(e=>{const t={blockNumber:S,blockaidVersion:s.default.version,chain:l.NETWORK_TO_NAME_MAP[w??C],classification:D?"error":N,domain:r??(null==v?void 0:v.origin)??(null==k?void 0:k.origin),jsonRpcMethod:b,jsonRpcParams:JSON.stringify(k??v),resultType:D?d.BlockaidResultType.Errored:j,reproduce:JSON.stringify(O)},n=JSON.stringify(t),a=(null==T||null===(e=T.gzipSync)||void 0===e?void 0:e.call(T,n))??n;return(0,h.getReportUrl)(a)})();return a.default.createElement(m.default,_({description:I,details:A,provider:d.SecurityProvider.Blockaid,reportUrl:G,severity:F,title:R,onClickSupportLink:()=>{M({properties:{external_link_clicked:"security_alert_support_link"}},e.id)}},t))}k.propTypes={txData:r.default.object};n.default=k}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\security-provider-banner-alert\\blockaid-banner-alert\\blockaid-banner-alert.js"}],[4849,{"../../../../../../shared/constants/security-provider":3935},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getReportUrl=void 0;var a=e("../../../../../../shared/constants/security-provider");n.getReportUrl=e=>`${a.FALSE_POSITIVE_REPORT_BASE_URL}?data=${encodeURIComponent(e.toString("base64"))}&utm_source=${a.SECURITY_PROVIDER_UTM_SOURCE}`}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\security-provider-banner-alert\\blockaid-banner-alert\\blockaid-banner-utils.js"}],[4850,{"../../../../../shared/constants/security-provider":3935,"../../../../components/component-library":4330,"../../../../components/ui/disclosure":4523,"../../../../components/ui/disclosure/disclosure.constants":4521,"../../../../contexts/i18n":4634,"../../../../helpers/constants/design-system":4661,"../../../../helpers/constants/zendesk-url":4673,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=e("../../../../components/component-library"),s=p(e("../../../../components/ui/disclosure")),i=e("../../../../components/ui/disclosure/disclosure.constants"),l=e("../../../../contexts/i18n"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../../shared/constants/security-provider"),d=p(e("../../../../helpers/constants/zendesk-url"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}function g({description:e,details:t,onClickSupportLink:n,provider:r,severity:p,title:f,reportUrl:g,...y}){const h=(0,a.useContext)(l.I18nContext);return a.default.createElement(o.BannerAlert,m({"data-testid":"security-provider-banner-alert",title:f,severity:p},y),a.default.createElement(o.Text,{marginTop:2},e),a.default.createElement(s.default,{title:h("seeDetails"),variant:i.DisclosureVariant.Arrow},t,a.default.createElement(o.Text,{marginTop:3,display:c.Display.Flex},h("somethingDoesntLookRight",[a.default.createElement(o.ButtonLink,{key:`security-provider-button-supporturl-${r}`,size:c.Size.inherit,href:g||d.default.SUPPORT_URL,externalLink:!0,onClick:n},h("reportIssue"))]))),r&&a.default.createElement(o.Text,{marginTop:3,display:c.Display.Flex,alignItems:c.AlignItems.center,color:c.Color.textAlternative,variant:c.TextVariant.bodySm},a.default.createElement(o.Icon,{className:"disclosure__summary--icon",color:c.IconColor.primaryDefault,name:o.IconName.SecurityTick,size:o.IconSize.Sm,marginInlineEnd:1}),h("securityProviderPoweredBy",[a.default.createElement(o.ButtonLink,{key:`security-provider-button-link-${r}`,size:c.Size.inherit,href:u.SECURITY_PROVIDER_CONFIG[r].url,externalLink:!0},h(u.SECURITY_PROVIDER_CONFIG[r].tKeyName))])))}g.propTypes={description:r.default.oneOfType([r.default.string,r.default.element]).isRequired,severity:r.default.oneOf([c.Severity.Danger,c.Severity.Warning]).isRequired,title:r.default.string.isRequired,details:r.default.oneOfType([r.default.string,r.default.element]),provider:r.default.oneOf(Object.values(u.SecurityProvider)),onClickSupportLink:r.default.func,reportUrl:r.default.string};n.default=g}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\security-provider-banner-alert\\security-provider-banner-alert.js"}],[4851,{"./security-provider-banner-message":4852},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./security-provider-banner-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\security-provider-banner-message\\index.js"}],[4852,{"../../../../../.storybook/i18n":1,"../../../../../shared/constants/security-provider":3935,"../../../../components/component-library":4330,"../../../../helpers/constants/design-system":4661,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../helpers/constants/design-system"),i=e("../../../../../shared/constants/security-provider"),l=e("../../../../../.storybook/i18n"),c=e("../../../../components/component-library");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({securityProviderResponse:e}){const t=(0,r.useContext)(l.I18nContext);let n,a,o;return e.flagAsDangerous===i.SECURITY_PROVIDER_MESSAGE_SEVERITY.MALICIOUS?(n=""===e.reason_header?t("requestFlaggedAsMaliciousFallbackCopyReasonTitle"):e.reason_header,a=""===e.reason?t("requestFlaggedAsMaliciousFallbackCopyReason"):e.reason,o=s.SEVERITIES.DANGER):e.flagAsDangerous===i.SECURITY_PROVIDER_MESSAGE_SEVERITY.NOT_SAFE?(n=t("requestMayNotBeSafe"),a=t("requestMayNotBeSafeError"),o=s.SEVERITIES.WARNING):(n=t("requestNotVerified"),a=t("requestNotVerifiedError"),o=s.SEVERITIES.WARNING),r.default.createElement(c.BannerAlert,{className:"security-provider-banner-message",marginTop:4,marginRight:4,marginLeft:4,title:n,severity:o},r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6"},a),r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.Color.textAlternative},t("securityAlert",[r.default.createElement(c.ButtonLink,{key:"opensea_link",size:s.Size.inherit,href:"https://opensea.io/",target:"_blank"},t("openSeaNew")),r.default.createElement(c.ButtonLink,{key:"blockaid_link",size:s.Size.inherit,href:"https://blockaid.io/",target:"_blank"},t("blockaid"))])))}d.propTypes={securityProviderResponse:o.default.object}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\security-provider-banner-message\\security-provider-banner-message.js"}],[4853,{"./set-approval-for-all-warning":4854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./set-approval-for-all-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\set-approval-for-all-warning\\index.js"}],[4854,{"../../../../components/component-library":4330,"../../../../components/ui/box":4499,"../../../../components/ui/identicon":4553,"../../../../components/ui/popover":4588,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/util":4704,"../../../../hooks/useI18nContext":4721,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("../../../../hooks/useI18nContext"),s=p(e("../../../../components/ui/popover")),i=p(e("../../../../components/ui/box")),l=e("../../../../helpers/constants/design-system"),c=p(e("../../../../components/ui/identicon")),u=e("../../../../helpers/utils/util"),d=e("../../../../components/component-library");function p(e){return e&&e.__esModule?e:{default:e}}const f=({collectionName:e,senderAddress:t,name:n,total:r,isERC721:p,onSubmit:f,onCancel:m})=>{const g=(0,o.useI18nContext)(),y=a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.SPACE_BETWEEN,className:"set-approval-for-all-warning__footer",gap:4},a.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__approve-button",variant:d.BUTTON_VARIANT.PRIMARY,danger:!0,onClick:f},g("approveButtonText")),a.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__cancel-button",variant:d.BUTTON_VARIANT.SECONDARY,onClick:m},g("reject")));return a.default.createElement(s.default,{className:"set-approval-for-all-warning__content",footer:y},a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,padding:4,className:"set-approval-for-all-warning__content__header"},a.default.createElement(d.Icon,{name:d.IconName.Danger,className:"set-approval-for-all-warning__content__header__warning-icon"}),a.default.createElement(d.Text,{variant:l.TextVariant.headingSm,as:"h4"},g("yourNFTmayBeAtRisk"))),a.default.createElement(i.default,{display:l.DISPLAY.FLEX,padding:4,justifyContent:l.JustifyContent.spaceBetween,className:"set-approval-for-all-warning__content__account"},a.default.createElement(i.default,{display:l.DISPLAY.FLEX},a.default.createElement(c.default,{address:t,diameter:32}),a.default.createElement(d.Text,{variant:l.TextVariant.bodyMd,as:"h5",marginLeft:2,className:"set-approval-for-all-warning__content__account-name"},a.default.createElement("strong",null,n)," ",` (${(0,u.shortenAddress)(t)})`)),p&&r&&a.default.createElement(d.Text,null,`${g("total")}: ${r}`)),a.default.createElement(d.Text,{margin:4,marginTop:4,marginBottom:4,variant:l.TextVariant.bodySm,as:"h6"},g("nftWarningContent",[a.default.createElement("strong",{key:"non_custodial_bold"},g("nftWarningContentBold",[e||""])),a.default.createElement("strong",{key:"non_custodial_grey"},g("nftWarningContentGrey"))])))};f.propTypes={collectionName:r.default.string,senderAddress:r.default.string,name:r.default.string,total:r.default.string,isERC721:r.default.bool,onSubmit:r.default.func,onCancel:r.default.func};n.default=f}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\set-approval-for-all-warning\\set-approval-for-all-warning.js"}],[4855,{"./signature-request-header":4856},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-header\\index.js"}],[4856,{"../../../../../shared/constants/common":3922,"../../../../../shared/modules/Numeric":3953,"../../../../../shared/modules/conversion.utils":3957,"../../../../components/app/network-account-balance-header":4097,"../../../../ducks/metamask/metamask":4653,"../../../../helpers/utils/confirm-tx.util":4686,"../../../../helpers/utils/util":4704,"../../../../hooks/useI18nContext":4721,"../../../../selectors":5210,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),r=g(e("prop-types")),o=e("react-redux"),s=e("../../../../hooks/useI18nContext"),i=e("../../../../ducks/metamask/metamask"),l=e("../../../../selectors"),c=e("../../../../helpers/utils/confirm-tx.util"),u=e("../../../../helpers/utils/util"),d=e("../../../../../shared/constants/common"),p=e("../../../../../shared/modules/conversion.utils"),f=e("../../../../../shared/modules/Numeric"),m=g(e("../../../../components/app/network-account-balance-header"));function g(e){return e&&e.__esModule?e:{default:e}}const y=({txData:e})=>{const t=(0,s.useI18nContext)(),{msgParams:{from:n}}=e,r=(0,o.useSelector)(l.accountsWithSendEtherInfoSelector),g=(0,u.getAccountByAddress)(r,n),y=(0,o.useSelector)(i.getNativeCurrency),h=(0,o.useSelector)(l.getCurrentCurrency),v=(0,o.useSelector)(l.getCurrentChainId),b=(0,o.useSelector)(i.getProviderConfig),_=(0,u.getNetworkNameFromProviderType)(b.type),{useNativeCurrencyAsPrimaryCurrency:T}=(0,o.useSelector)(l.getPreferences),x=(0,o.useSelector)(l.conversionRateSelector),E=T?null:x,k=""===_?b.nickname||t("unknownNetwork"):t(_),w=E?(0,c.formatCurrency)((0,p.getValueFromWeiHex)({value:g.balance,fromCurrency:y,toCurrency:h,conversionRate:E,numberOfDecimals:6,toDenomination:d.EtherDenomination.ETH}),h):new f.Numeric(g.balance,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement(m.default,{networkName:k,accountName:g.name,accountBalance:w,tokenName:E?null==h?void 0:h.toUpperCase():y,accountAddress:g.address,chainId:v})};y.propTypes={txData:r.default.object.isRequired};n.default=y}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-header\\signature-request-header.js"}],[4857,{"./signature-request-original.container":4861},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-original\\index.js"}],[4858,{"./signature-request-original-warning":4859},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-original\\signature-request-original-warning\\index.js"}],[4859,{"../../../../../components/component-library":4330,"../../../../../helpers/constants/design-system":4661,"../../../../../helpers/utils/util":4704,"../../../../../hooks/useI18nContext":4721,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../../../hooks/useI18nContext"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../helpers/utils/util"),l=e("../../../../../components/component-library");function c(e){return e&&e.__esModule?e:{default:e}}const u=({senderAddress:e,name:t,onSubmit:n,onCancel:r})=>{const c=(0,o.useI18nContext)();return a.default.createElement(l.Modal,{isOpen:!0,className:"signature-request-warning__content"},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{display:s.Display.Flex,childrenWrapperProps:{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,flexDirection:s.FlexDirection.Column,gap:4,width:s.BlockSize.Full}},a.default.createElement(l.Icon,{name:l.IconName.Danger,color:s.IconColor.errorDefault,size:l.IconSize.Xl}),a.default.createElement(l.Text,{variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center},c("yourFundsMayBeAtRisk"))),a.default.createElement(l.ModalBody,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4},a.default.createElement(l.Box,{display:s.Display.Flex,gap:4,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(l.AvatarAccount,{address:e,size:l.AvatarAccountSize.Lg}),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,className:"signature-request-warning__content__account-name"},a.default.createElement("b",null,t)," ",` (${(0,i.shortenAddress)(e)})`)),a.default.createElement(l.Text,{color:s.TextColor.textAlternative},c("signatureRequestWarning",[a.default.createElement("a",{href:"https://consensys.io/blog/the-seal-of-approval-know-what-youre-consenting-to-with-permissions-and-approvals-in-metamask",target:"_blank",type:"link",key:"non_custodial_link",rel:"noopener noreferrer",style:{color:"var(--color-primary-default)"}},c("learnMoreUpperCase"))]))),a.default.createElement(l.ModalFooter,{onSubmit:n,submitButtonProps:{danger:!0,children:c("sign"),"data-testid":"signature-warning-sign-button"},onCancel:r,cancelButtonProps:{variant:l.ButtonVariant.Secondary,children:c("reject")}})))};u.propTypes={senderAddress:r.default.string,name:r.default.string,onSubmit:r.default.func,onCancel:r.default.func};n.default=u}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-original\\signature-request-original-warning\\signature-request-original-warning.js"}],[4860,{"../../../../../shared/constants/app":3920,"../../../../../shared/constants/security-provider":3935,"../../../../../shared/modules/hexstring-utils":3962,"../../../../../shared/modules/security-provider.utils":3969,"../../../../components/app/snaps/snap-legacy-authorship-header":4161,"../../../../components/component-library":4330,"../../../../components/ui/page-container":4581,"../../../../components/ui/site-origin":4601,"../../../../components/ui/typography/typography":4627,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/util":4704,"../confirm-page-container/confirm-page-container-navigation":4804,"../ledger-instruction-field":4843,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":4848,"../security-provider-banner-message/security-provider-banner-message":4852,"../signature-request-header":4855,"./signature-request-original-warning":4858,"@metamask/permission-controller":1436,buffer:2398,classnames:2418,"eth-rpc-errors":2641,"prop-types":3451,react:3653,"react-inspector":3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=C(e("prop-types")),o=C(e("classnames")),s=e("react-inspector"),i=e("eth-rpc-errors"),l=e("@metamask/permission-controller"),c=C(e("../ledger-instruction-field")),u=e("../../../../../shared/constants/app"),d=e("../../../../helpers/utils/util"),p=e("../../../../../shared/modules/hexstring-utils"),f=e("../../../../../shared/modules/security-provider.utils"),m=C(e("../../../../components/ui/site-origin")),g=C(e("../../../../components/ui/typography/typography")),y=e("../../../../components/ui/page-container"),h=e("../../../../helpers/constants/design-system"),v=e("../../../../components/component-library"),b=C(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),_=C(e("../confirm-page-container/confirm-page-container-navigation")),T=C(e("../security-provider-banner-message/security-provider-banner-message")),x=C(e("../signature-request-header")),E=C(e("../../../../components/app/snaps/snap-legacy-authorship-header")),k=e("../../../../../shared/constants/security-provider"),w=C(e("./signature-request-original-warning"));function C(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends a.Component{constructor(...e){super(...e),M(this,"state",{showSignatureRequestWarning:!1}),M(this,"msgHexToText",(e=>{try{const n=(0,p.stripHexPrefix)(e),a=t.from(n,"hex");return 32===a.length?e:a.toString("utf8")}catch(t){return e}})),M(this,"renderTypedData",(e=>{const{t:t}=this.context,{domain:n,message:r}=JSON.parse(e);return a.default.createElement("div",{className:"request-signature__typed-container"},n?a.default.createElement("div",null,a.default.createElement("h1",null,t("domain")),a.default.createElement(s.ObjectInspector,{data:n,expandLevel:1,name:"domain"})):"",r?a.default.createElement("div",null,a.default.createElement("h1",null,t("message")),a.default.createElement(s.ObjectInspector,{data:r,expandLevel:1,name:"message"})):"")})),M(this,"renderBody",(()=>{let e;const t=`${this.context.t("youSign")}:`,{txData:n,subjectMetadata:r}=this.props,{type:s,msgParams:{data:i}}=n;s===u.MESSAGE_TYPE.PERSONAL_SIGN?e=[{name:this.context.t("message"),value:this.msgHexToText(i)}]:s===u.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?e=i:s===u.MESSAGE_TYPE.ETH_SIGN&&(e=[{name:this.context.t("message"),value:i}]);const c=n.msgParams.origin?null==r?void 0:r[n.msgParams.origin]:null;return a.default.createElement("div",{className:"request-signature__body"},a.default.createElement(b.default,{txData:n,margin:4}),(0,f.isSuspiciousResponse)(null==n?void 0:n.securityProviderResponse)&&a.default.createElement(T.default,{securityProviderResponse:n.securityProviderResponse}),a.default.createElement("div",{className:"request-signature__origin"},(null==c?void 0:c.subjectType)===l.SubjectType.Snap?a.default.createElement(E.default,{snapId:c.origin,marginLeft:4,marginRight:4}):a.default.createElement(m.default,{title:n.msgParams.origin,siteOrigin:n.msgParams.origin,iconSrc:null==c?void 0:c.iconUrl,iconName:(0,d.getURLHostName)(null==c?void 0:c.origin)||(null==c?void 0:c.origin),chip:!0})),a.default.createElement(g.default,{className:"request-signature__content__title",variant:h.TypographyVariant.H3,fontWeight:h.FontWeight.Bold},this.context.t("sigRequest")),a.default.createElement(g.default,{className:"request-signature__content__subtitle",variant:h.TypographyVariant.H7,color:h.TextColor.textAlternative,align:h.TextAlign.Center,margin:12,marginTop:3},this.context.t("signatureRequestGuidance")),a.default.createElement("div",{className:(0,o.default)("request-signature__notice")},t),a.default.createElement("div",{className:"request-signature__rows"},e.map((({name:e,value:t},n)=>("boolean"==typeof t&&(t=t.toString()),a.default.createElement("div",{className:"request-signature__row",key:`request-signature-row-${n}`},a.default.createElement("div",{className:"request-signature__row-title"},(0,d.sanitizeString)(`${e}:`)),a.default.createElement("div",{className:"request-signature__row-value"},(0,d.sanitizeString)(t))))))))})),M(this,"onSubmit",(async()=>{const{resolvePendingApproval:e,completedTx:t,clearConfirmTransaction:n,history:a,mostRecentOverviewPage:r,txData:o}=this.props;await e(o.id),t(o.id),n(),a.push(r)})),M(this,"onCancel",(async()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,rejectPendingApproval:a,txData:{id:r}}=this.props;await a(r,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest())),e(),t.push(n)})),M(this,"renderFooter",(()=>{var e;const{clearConfirmTransaction:t,history:n,mostRecentOverviewPage:r,txData:o,hardwareWalletRequiresConnection:s,rejectPendingApproval:l}=this.props,{t:c}=this.context,d=(null===(e=o.securityAlertResponse)||void 0===e?void 0:e.result_type)===k.BlockaidResultType.Malicious?"danger-primary":"primary";return a.default.createElement(y.PageContainerFooter,{cancelText:c("reject"),submitText:c("sign"),onCancel:async()=>{await l(o.id,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest())),t(),n.push(r)},onSubmit:async()=>o.type===u.MESSAGE_TYPE.ETH_SIGN?this.setState({showSignatureRequestWarning:!0}):await this.onSubmit(),disabled:s,submitButtonType:d})})),M(this,"handleCancelAll",(()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,showRejectTransactionsConfirmationModal:a,messagesCount:r,cancelAllApprovals:o}=this.props;a({unapprovedTxCount:r,onSubmit:async()=>{await o(),e(),t.push(n)}})})),M(this,"render",(()=>{const{messagesCount:e,fromAccount:{address:t,name:n},txData:r}=this.props,{showSignatureRequestWarning:o}=this.state,{t:s}=this.context,i=s("rejectRequestsN",[e]);return a.default.createElement("div",{className:"request-signature__container"},a.default.createElement("div",{className:"request-signature__navigation"},a.default.createElement(_.default,null)),a.default.createElement("div",{className:"request-signature__account"},a.default.createElement(x.default,{txData:r})),this.renderBody(),this.props.isLedgerWallet?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(c.default,{showDataInstruction:!0})):null,o&&a.default.createElement(w.default,{senderAddress:t,name:n,onSubmit:async()=>await this.onSubmit(),onCancel:async e=>await this.onCancel(e)}),this.renderFooter(),e>1?a.default.createElement(v.ButtonLink,{size:h.Size.inherit,className:"request-signature__container__reject",onClick:()=>this.handleCancelAll()},i):null)}))}}n.default=S,M(S,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func}),M(S,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,name:r.default.string}).isRequired,txData:r.default.object.isRequired,subjectMetadata:r.default.object,hardwareWalletRequiresConnection:r.default.bool,isLedgerWallet:r.default.bool,messagesCount:r.default.number,showRejectTransactionsConfirmationModal:r.default.func.isRequired,cancelAllApprovals:r.default.func.isRequired,rejectPendingApproval:r.default.func.isRequired,clearConfirmTransaction:r.default.func.isRequired,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,resolvePendingApproval:r.default.func.isRequired,completedTx:r.default.func.isRequired})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-original\\signature-request-original.component.js"}],[4861,{"../../../../ducks/confirm-transaction/confirm-transaction.duck":4645,"../../../../ducks/history/history":4650,"../../../../ducks/metamask/metamask":4653,"../../../../helpers/utils/util":4704,"../../../../selectors":5210,"../../../../store/actions":5217,"./signature-request-original.component":4860,"react-redux":3627,"react-router-dom":3638,redux:3683},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../../../store/actions"),l=e("../../../../selectors"),c=e("../../../../helpers/utils/util"),u=e("../../../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../../../ducks/history/history"),p=e("../../../../ducks/metamask/metamask"),f=(a=e("./signature-request-original.component"))&&a.__esModule?a:{default:a};let m=null;m=function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,i.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n,isRequestType:!0})),completedTx:t=>e((0,i.completedTx)(t)),resolvePendingApproval:t=>{e((0,i.resolvePendingApproval)(t))},rejectPendingApproval:(t,n)=>e((0,i.rejectPendingApproval)(t,n)),cancelAllApprovals:t=>{e((0,i.rejectAllMessages)(t))}}};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e,t){const{msgParams:{from:n}}=t.txData,a=(0,l.doesAddressRequireLedgerHidConnection)(e,n),r=(0,p.isAddressLedger)(e,n),o=(0,l.unconfirmedMessagesHashSelector)(e),s=(0,l.getTotalUnapprovedMessagesCount)(e);return{requester:null,requesterAddress:null,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),hardwareWalletRequiresConnection:a,isLedgerWallet:r,allAccounts:(0,l.accountsWithSendEtherInfoSelector)(e),subjectMetadata:(0,l.getSubjectMetadata)(e),messagesList:o,messagesCount:s}}),m,(function(e,t,n){const{txData:a}=n,{allAccounts:r,messagesList:o,...s}=e,{msgParams:{from:i}}=a,l=(0,c.getAccountByAddress)(r,i),{cancelAllApprovals:u}=t;return{...n,...s,...t,fromAccount:l,txData:a,cancelAllApprovals:()=>u((0,c.valuesFor)(o))}})))(f.default)}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-original\\signature-request-original.container.js"}],[4862,{"./signature-request-siwe":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-siwe\\index.js"}],[4863,{"./signature-request-siwe-header":4864},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-siwe\\signature-request-siwe-header\\index.js"}],[4864,{"../../../../../components/app/account-list-item":3977,"../../../../../components/app/permissions-connect-header":4121,"../../../../../components/ui/tooltip":4622,"../../../../../contexts/i18n":4634,"../signature-request-siwe-icon":4865,"../signature-request-siwe-tag":4868,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=d(e("../../../../../components/app/account-list-item")),s=e("../../../../../contexts/i18n"),i=d(e("../../../../../components/app/permissions-connect-header")),l=d(e("../signature-request-siwe-icon")),c=d(e("../signature-request-siwe-tag")),u=d(e("../../../../../components/ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({fromAccount:e,domain:t,isSIWEDomainValid:n,subjectMetadata:r}){const d=(0,a.useContext)(s.I18nContext);return a.default.createElement("div",{className:"signature-request-siwe-header"},a.default.createElement(i.default,{iconUrl:r.iconUrl,iconName:r.name,headerTitle:d("SIWESiteRequestTitle"),headerText:d("SIWESiteRequestSubtitle"),siteOrigin:t,className:n?"":"bad-domain",leftIcon:!n&&a.default.createElement(u.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},a.default.createElement(l.default,null)),rightIcon:!n&&a.default.createElement(u.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},a.default.createElement(c.default,{text:d("SIWEDomainWarningLabel")}))}),e&&a.default.createElement(o.default,{account:e,hideDefaultMismatchWarning:!0,className:"signature-request-siwe-header__account-list-item"}))}f.propTypes={fromAccount:r.default.object,domain:r.default.string,isSIWEDomainValid:r.default.bool,subjectMetadata:r.default.object}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-siwe\\signature-request-siwe-header\\signature-request-siwe-header.js"}],[4865,{"../../../../../components/component-library":4330,"../../../../../helpers/constants/design-system":4661,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../helpers/constants/design-system"),s=e("../../../../../components/component-library");n.default=()=>r.default.createElement(s.Box,{className:"signature-request-siwe-icon",display:o.Display.InlineFlex,alignItems:o.AlignItems.center,backgroundColor:o.Color.errorDefault,justifyContent:o.JustifyContent.center},r.default.createElement(s.Icon,{name:s.IconName.Danger,color:o.Color.errorInverse}))}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-siwe\\signature-request-siwe-icon\\index.js"}],[4866,{"./signature-request-siwe-message":4867},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-siwe\\signature-request-siwe-message\\index.js"}],[4867,{"../../../../../components/component-library":4330,"../../../../../components/ui/box":4499,"../../../../../helpers/constants/design-system":4661,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../../../../components/ui/box")),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const c=({data:e})=>a.default.createElement(o.default,{className:"signature-request-siwe-message"},a.default.createElement(o.default,{flexDirection:i.FLEX_DIRECTION.COLUMN},e.map((({label:e,value:t},n)=>a.default.createElement(o.default,{key:n.toString(),marginTop:2,marginBottom:2},a.default.createElement(s.Text,{as:"h4",variant:i.TextVariant.bodyLgMedium,marginTop:2,marginBottom:2},e),a.default.createElement(s.Text,{className:"signature-request-siwe-message__sub-text",overflowWrap:i.OVERFLOW_WRAP.BREAK_WORD,marginTop:2,marginBottom:2},t))))));c.propTypes={data:r.default.arrayOf(r.default.shape({label:r.default.string,value:r.default.oneOfType([r.default.string,r.default.number])}))};n.default=a.default.memo(c)}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-siwe\\signature-request-siwe-message\\signature-request-siwe-message.js"}],[4868,{"../../../../../components/component-library":4330,"../../../../../components/ui/box":4499,"../../../../../helpers/constants/design-system":4661,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../../helpers/constants/design-system"),s=l(e("../../../../../components/ui/box")),i=e("../../../../../components/component-library");function l(e){return e&&e.__esModule?e:{default:e}}const c=({text:e})=>a.default.createElement(s.default,{className:"signature-request-siwe-tag",marginRight:1,display:o.Display.InlineFlex,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.errorDefault,borderRadius:o.Size.XL,paddingLeft:4,paddingRight:4},a.default.createElement(i.Text,{margin:0,variant:o.TextVariant.bodySmBold,as:"h6",color:o.TextColor.errorInverse},e));n.default=c;c.propTypes={text:r.default.string}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-siwe\\signature-request-siwe-tag\\index.js"}],[4869,{"../../../../../shared/constants/security-provider":3935,"../../../../../shared/modules/security-provider.utils":3969,"../../../../../shared/modules/siwe":3970,"../../../../components/component-library":4330,"../../../../components/ui/button":4503,"../../../../components/ui/check-box":4507,"../../../../components/ui/page-container":4581,"../../../../components/ui/popover":4588,"../../../../contexts/i18n":4634,"../../../../ducks/confirm-transaction/confirm-transaction.duck":4645,"../../../../ducks/history/history":4650,"../../../../ducks/metamask/metamask":4653,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/util":4704,"../../../../selectors":5210,"../../../../store/actions":5217,"../confirm-page-container/confirm-page-container-navigation":4804,"../ledger-instruction-field":4843,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":4848,"../security-provider-banner-message/security-provider-banner-message":4852,"../signature-request-header":4855,"./signature-request-siwe-header":4863,"./signature-request-siwe-message":4866,"@metamask/controller-utils":1068,"eth-rpc-errors":2641,loglevel:3302,"prop-types":3451,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=D;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=I(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=I(e("loglevel")),l=e("@metamask/controller-utils"),c=e("eth-rpc-errors"),u=e("../../../../components/component-library"),d=I(e("../../../../components/ui/popover")),p=I(e("../../../../components/ui/check-box")),f=I(e("../../../../components/ui/button")),m=e("../../../../contexts/i18n"),g=e("../../../../components/ui/page-container"),y=e("../../../../ducks/metamask/metamask"),h=e("../../../../selectors"),v=e("../../../../helpers/utils/util"),b=e("../../../../../shared/modules/security-provider.utils"),_=e("../../../../../shared/modules/siwe"),T=e("../../../../ducks/confirm-transaction/confirm-transaction.duck"),x=e("../../../../helpers/constants/design-system"),E=e("../../../../store/actions"),k=I(e("../security-provider-banner-message/security-provider-banner-message")),w=I(e("../confirm-page-container/confirm-page-container-navigation")),C=e("../../../../ducks/history/history"),P=I(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),M=I(e("../ledger-instruction-field")),S=I(e("../signature-request-header")),O=e("../../../../../shared/constants/security-provider"),N=I(e("./signature-request-siwe-header")),j=I(e("./signature-request-siwe-message"));function I(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function D({txData:e}){var t;const n=(0,o.useDispatch)(),r=(0,s.useHistory)(),I=(0,a.useContext)(m.I18nContext),A=(0,o.useSelector)(h.accountsWithSendEtherInfoSelector),D=(0,o.useSelector)(h.getSubjectMetadata),F=(0,o.useSelector)(h.getTotalUnapprovedMessagesCount),R=(0,o.useSelector)(h.unconfirmedMessagesHashSelector),G=(0,o.useSelector)(C.getMostRecentOverviewPage),{msgParams:{from:L,origin:B,siwe:{parsedMessage:$}},id:W}=e,q=(0,o.useSelector)((e=>(0,y.isAddressLedger)(e,L))),V=(0,v.getAccountByAddress)(A,L),U=D[B],H=L.toLowerCase()===$.address.toLowerCase(),z=(0,l.isValidSIWEOrigin)(e.msgParams),[Y,K]=(0,a.useState)(!1),[X,J]=(0,a.useState)(!1),Z=(0,b.isSuspiciousResponse)(null==e?void 0:e.securityProviderResponse),Q=(0,a.useCallback)((async()=>{try{await n((0,E.resolvePendingApproval)(W,null)),n((0,E.completedTx)(W))}catch(e){i.default.error(e)}}),[W,n]),ee=(0,a.useCallback)((async()=>{try{await n((0,E.rejectPendingApproval)(W,(0,c.serializeError)(c.ethErrors.provider.userRejectedRequest())))}catch(e){i.default.error(e)}}),[n,W]),te=I("rejectRequestsN",[F]),ne=(null===(t=e.securityAlertResponse)||void 0===t?void 0:t.result_type)!==O.BlockaidResultType.Malicious&&z?"primary":"danger-primary";return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"signature-request-siwe"},a.default.createElement("div",{className:"request-signature__navigation"},a.default.createElement(w.default,null)),a.default.createElement(S.default,{txData:e}),a.default.createElement(P.default,{txData:e,margin:4}),Z&&a.default.createElement(k.default,{securityProviderResponse:e.securityProviderResponse}),a.default.createElement(N.default,{fromAccount:V,domain:B,isSIWEDomainValid:z,subjectMetadata:U}),a.default.createElement(j.default,{data:(0,_.formatMessageParams)($,I)}),!H&&a.default.createElement(u.BannerAlert,{severity:x.SEVERITIES.WARNING,marginLeft:4,marginRight:4,marginBottom:4},I("SIWEAddressInvalid",[$.address,V.address])),q&&a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(M.default,{showDataInstruction:!0})),!z&&a.default.createElement(u.BannerAlert,{severity:x.SEVERITIES.DANGER,marginLeft:4,marginRight:4,marginBottom:4},a.default.createElement(u.Text,{variant:x.TextVariant.bodyMdBold},I("SIWEDomainInvalidTitle"))," ",a.default.createElement(u.Text,null,I("SIWEDomainInvalidText"))),a.default.createElement(g.PageContainerFooter,{footerClassName:"signature-request-siwe__page-container-footer",onCancel:ee,onSubmit:()=>z?Q():K(!0),cancelText:I("cancel"),submitText:I("signin"),submitButtonType:ne}),F>1?a.default.createElement(f.default,{type:"link",className:"request-signature__container__reject",onClick:e=>{e.preventDefault(),(()=>{const e=F;n((0,E.showModal)({name:"REJECT_TRANSACTIONS",unapprovedTxCount:e,onSubmit:async()=>{await n((0,E.rejectAllMessages)((0,v.valuesFor)(R))),n((0,T.clearConfirmTransaction)()),r.push(G)}}))})()}},te):null,Y&&a.default.createElement(d.default,{onClose:()=>K(!1),title:I("SIWEWarningTitle"),subtitle:I("SIWEWarningSubtitle"),className:"signature-request-siwe__warning-popover",footerClassName:"signature-request-siwe__warning-popover__footer",footer:a.default.createElement(g.PageContainerFooter,{footerClassName:"signature-request-siwe__warning-popover__footer__warning-footer",onCancel:()=>K(!1),cancelText:I("cancel"),cancelButtonType:"default",onSubmit:()=>(Q(),K(!1)),submitText:I("confirm"),submitButtonType:"danger-primary",disabled:!X})},a.default.createElement("div",{className:"signature-request-siwe__warning-popover__checkbox-wrapper"},a.default.createElement(p.default,{id:"signature-request-siwe_domain-checkbox",checked:X,className:"signature-request-siwe__warning-popover__checkbox-wrapper__checkbox",onClick:()=>J((e=>!e))}),a.default.createElement("label",{className:"signature-request-siwe__warning-popover__checkbox-wrapper__label",htmlFor:"signature-request-siwe_domain-checkbox"},I("SIWEDomainWarningBody",[$.domain]))))))}D.propTypes={txData:r.default.object.isRequired}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request-siwe\\signature-request-siwe.js"}],[4870,{"./signature-request":4877},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request\\index.js"}],[4871,{"./signature-request-data":4872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-data"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request\\signature-request-data\\index.js"}],[4872,{"../../../../../../shared/modules/hexstring-utils":3962,"../../../../../components/app/name/name":4096,"../../../../../components/component-library":4330,"../../../../../helpers/constants/design-system":4661,"../../../../../helpers/utils/util":4704,"../../../../../hooks/usePetnamesEnabled":4728,"../../../../../selectors":5210,"../../transaction-decoding/components/decoding/address":4887,"@metamask/name-controller":1364,lodash:3292,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("lodash"),s=y(e("prop-types")),i=e("@metamask/name-controller"),l=e("../../../../../selectors"),c=y(e("../../transaction-decoding/components/decoding/address")),u=e("../../../../../../shared/modules/hexstring-utils"),d=e("../../../../../helpers/constants/design-system"),p=e("../../../../../helpers/utils/util"),f=e("../../../../../components/component-library"),m=e("../../../../../hooks/usePetnamesEnabled"),g=y(e("../../../../../components/app/name/name"));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function v({data:e}){const t=(0,r.useSelector)(l.getMemoizedMetaMaskInternalAccounts),n=(0,m.usePetnamesEnabled)();return a.default.createElement(f.Box,{as:"ul",className:"signature-request-data__node"},Object.entries(e).map((([e,{value:r,type:o}],s)=>a.default.createElement(f.Box,{as:"li",className:"signature-request-data__node",marginBottom:2,key:`${e}-${s}`,paddingLeft:2,display:"object"!=typeof r||null===r?d.Display.Flex:null},a.default.createElement(f.Text,{as:"div",color:d.TextColor.textDefault,marginLeft:4,fontWeight:"object"==typeof r?d.FontWeight.Bold:d.FontWeight.Normal},(0,p.sanitizeString)(e.charAt(0).toUpperCase()+e.slice(1)),":"," "),"object"==typeof r&&null!==r?a.default.createElement(v,{data:r}):a.default.createElement(f.Text,{as:"div",color:d.TextColor.textDefault,marginLeft:4,className:"signature-request-data__node__value"},"address"===o&&(0,u.isValidHexAddress)(r,{mixedCaseUseChecksum:!0})?a.default.createElement(f.Text,{variant:d.TextVariant.bodySm,as:"div",color:d.TextColor.infoDefault,className:"signature-request-data__node__value__address"},n?a.default.createElement(g.default,{value:r,type:i.NameType.ETHEREUM_ADDRESS}):a.default.createElement(c.default,{addressOnly:!0,checksummedRecipientAddress:(0,u.toChecksumHexAddress)(r),recipientName:(0,l.getAccountName)(t,r)})):(0,p.sanitizeString)(`${r}`))))))}v.propTypes={data:s.default.oneOfType([s.default.object,s.default.array]).isRequired};n.default=(0,a.memo)(v,((e,t)=>(0,o.isEqual)(e.data,t.data)))}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request\\signature-request-data\\signature-request-data.js"}],[4873,{"./signature-request-footer.component":4874},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request\\signature-request-footer\\index.js"}],[4874,{"../../../../../components/ui/page-container":4581,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../../components/ui/page-container");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{render(){const{submitButtonType:e,cancelAction:t,signAction:n,disabled:a=!1}=this.props;return r.default.createElement(s.PageContainerFooter,{cancelText:this.context.t("reject"),submitText:this.context.t("sign"),onCancel:t,onSubmit:n,disabled:a,submitButtonType:e})}}n.default=c,l(c,"propTypes",{cancelAction:o.default.func.isRequired,signAction:o.default.func.isRequired,disabled:o.default.bool,submitButtonType:o.default.string}),l(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request\\signature-request-footer\\signature-request-footer.component.js"}],[4875,{"./signature-request-message":4876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request\\signature-request-message\\index.js"}],[4876,{"../../../../../components/component-library":4330,"../../../../../components/ui/box":4499,"../../../../../contexts/i18n":4634,"../../../../../helpers/constants/design-system":4661,"../signature-request-data":4871,lodash:3292,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=e("lodash"),s=e("../../../../../contexts/i18n"),i=d(e("../../../../../components/ui/box")),l=e("../../../../../components/component-library"),c=e("../../../../../helpers/constants/design-system"),u=d(e("../signature-request-data"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({data:e,onMessageScrolled:t,setMessageRootRef:n,messageRootRef:r,messageIsScrollable:d,primaryType:p}){const f=(0,a.useContext)(s.I18nContext),[m,g]=(0,a.useState)(!1);return a.default.createElement(i.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,onScroll:(0,o.debounce)((()=>{if(!r||m)return;const{scrollTop:e,offsetHeight:n,scrollHeight:a}=r;Math.round(e)+n>=a&&(g(!0),t())}),25),className:"signature-request-message"},d?a.default.createElement(i.default,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,borderColor:c.BorderColor.borderDefault,backgroundColor:c.BackgroundColor.backgroundDefault,color:c.Color.iconDefault,onClick:()=>{g(!0),t(),null==r||r.scrollTo(0,null==r?void 0:r.scrollHeight)},className:"signature-request-message__scroll-button","data-testid":"signature-request-scroll-button"},a.default.createElement("i",{className:"fa fa-arrow-down","aria-label":f("scrollDown")})):null,a.default.createElement(i.default,{backgroundColor:c.BackgroundColor.backgroundDefault,paddingBottom:3,paddingTop:3,paddingRight:3,margin:2,borderRadius:c.BorderRadius.XL,borderColor:c.BorderColor.borderMuted,className:"signature-request-message__root",ref:n},a.default.createElement(l.Text,{fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault,marginLeft:4},p),a.default.createElement(u.default,{data:e.value})))}f.propTypes={data:r.default.object.isRequired,onMessageScrolled:r.default.func,setMessageRootRef:r.default.func,messageRootRef:r.default.object,messageIsScrollable:r.default.bool,primaryType:r.default.string}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request\\signature-request-message\\signature-request-message.js"}],[4877,{"../../../../../shared/constants/metametrics":3930,"../../../../../shared/constants/security-provider":3935,"../../../../components/component-library":4330,"../../../../contexts/metametrics":4635,"../../../../ducks/metamask/metamask":4653,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/util":4704,"../../../../hooks/useI18nContext":4721,"../../../../selectors":5210,"../../../../store/actions":5217,"../../hooks/useRejectTransactionModal":4949,"../confirm-page-container":4806,"../contract-details-modal":4814,"../ledger-instruction-field":4843,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":4848,"../security-provider-banner-message":4851,"../signature-request-header/signature-request-header":4856,"./signature-request-footer":4873,"./signature-request-message":4875,"eth-rpc-errors":2641,lodash:3292,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=P(e("prop-types")),s=e("lodash"),i=e("eth-rpc-errors"),l=e("../../../../store/actions"),c=e("../../../../selectors"),u=e("../../../../ducks/metamask/metamask"),d=e("../../../../helpers/utils/util"),p=e("../../../../hooks/useI18nContext"),f=e("../../hooks/useRejectTransactionModal"),m=e("../confirm-page-container"),g=P(e("../signature-request-header/signature-request-header")),y=P(e("../security-provider-banner-message")),h=P(e("../ledger-instruction-field")),v=P(e("../contract-details-modal")),b=e("../../../../contexts/metametrics"),_=e("../../../../../shared/constants/metametrics"),T=e("../../../../../shared/constants/security-provider"),x=e("../../../../helpers/constants/design-system"),E=e("../../../../components/component-library"),k=P(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),w=P(e("./signature-request-message")),C=P(e("./signature-request-footer"));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const S=({txData:e})=>{var t,n,o;const P=(0,a.useContext)(b.MetaMetricsContext),M=(0,r.useDispatch)(),S=(0,p.useI18nContext)(),[O,N]=(0,a.useState)(!1),[j,I]=(0,a.useState)(!1),[A,D]=(0,a.useState)(null),[F,R]=(0,a.useState)(!1),{id:G,type:L,msgParams:{from:B,data:$,origin:W,version:q}}=e,V=(0,r.useSelector)((e=>(0,c.doesAddressRequireLedgerHidConnection)(e,B))),{chainId:U,rpcPrefs:H}=(0,r.useSelector)(u.getProviderConfig),z=(0,r.useSelector)(c.getTotalUnapprovedMessagesCount),Y=(0,r.useSelector)(c.getSubjectMetadata),K=(0,r.useSelector)((e=>(0,u.isAddressLedger)(e,B))),{handleCancelAll:X}=(0,f.useRejectTransactionModal)();(0,a.useEffect)((()=>{R((null==A?void 0:A.scrollHeight)>(null==A?void 0:A.clientHeight))}),[A]);const J=(null==Y?void 0:Y[W])||null,Z=(0,s.memoize)((e=>{const{message:t,domain:n={},primaryType:a,types:r}=JSON.parse(e);return{sanitizedMessage:(0,d.sanitizeMessage)(t,a,r),domain:n,primaryType:a}})),Q=(null===(t=e.securityAlertResponse)||void 0===t?void 0:t.result_type)===T.BlockaidResultType.Malicious?"danger-primary":"primary",{sanitizedMessage:ee,domain:{verifyingContract:te},primaryType:ne}=Z($);return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"signature-request"},a.default.createElement(m.ConfirmPageContainerNavigation,null),a.default.createElement("div",{className:"request-signature__account","data-testid":"request-signature-account"},a.default.createElement(g.default,{txData:e})),a.default.createElement("div",{className:"signature-request-content"},a.default.createElement(k.default,{txData:e,marginLeft:4,marginRight:4,marginBottom:4}),(null==e||null===(n=e.securityProviderResponse)||void 0===n?void 0:n.flagAsDangerous)!==undefined&&(null==e||null===(o=e.securityProviderResponse)||void 0===o?void 0:o.flagAsDangerous)!==T.SECURITY_PROVIDER_MESSAGE_SEVERITY.NOT_MALICIOUS||null!=e&&e.securityProviderResponse&&0===Object.keys(e.securityProviderResponse).length?a.default.createElement(y.default,{securityProviderResponse:e.securityProviderResponse}):null,a.default.createElement("div",{className:"signature-request__origin"},a.default.createElement(E.TagUrl,{label:W,labelProps:{color:x.TextColor.textAlternative},src:null==J?void 0:J.iconUrl})),a.default.createElement(E.Text,{className:"signature-request__content__title",variant:x.TextVariant.headingLg,marginTop:4},S("sigRequest")),a.default.createElement(E.Text,{className:"request-signature__content__subtitle",variant:x.TextVariant.bodySm,color:x.TextColor.textAlternative,textAlign:x.TextAlign.Center,marginLeft:12,marginRight:12,marginTop:4,as:"h6"},S("signatureRequestGuidance")),te?a.default.createElement("div",null,a.default.createElement(E.Button,{variant:E.ButtonVariant.Link,onClick:()=>I(!0),className:"signature-request-content__verify-contract-details","data-testid":"verify-contract-details"},a.default.createElement(E.Text,{variant:x.TextVariant.bodySm,color:x.TextColor.primaryDefault,as:"h6"},S("verifyContractDetails")))):null),K?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(h.default,{showDataInstruction:!0})):null,a.default.createElement(w.default,{data:ee,onMessageScrolled:()=>N(!0),setMessageRootRef:D,messageRootRef:A,messageIsScrollable:F,primaryType:ne}),a.default.createElement(C.default,{cancelAction:async()=>{await M((0,l.rejectPendingApproval)(G,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest()))),P({category:_.MetaMetricsEventCategory.Transactions,event:"Cancel",properties:{action:"Sign Request",legacy_event:!0,type:L,version:q}})},signAction:()=>(async()=>{await M((0,l.resolvePendingApproval)(G)),(0,l.completedTx)(G),P({category:_.MetaMetricsEventCategory.Transactions,event:"Confirm",properties:{action:"Sign Request",legacy_event:!0,type:L,version:q}})})(),disabled:V||F&&!O,submitButtonType:Q}),j&&a.default.createElement(v.default,{toAddress:te,chainId:U,rpcPrefs:H,onClose:()=>I(!1),isContractRequestingSignature:!0}),z>1?a.default.createElement(E.ButtonLink,{size:x.Size.inherit,className:"signature-request__reject-all-button","data-testid":"signature-request-reject-all",onClick:X},S("rejectRequestsN",[z])):null))};S.propTypes={txData:o.default.object};n.default=S}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\signature-request\\signature-request.js"}],[4878,{"./simulation-error-message":4879},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./simulation-error-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\simulation-error-message\\index.js"}],[4879,{"../../../../../.storybook/i18n":1,"../../../../../shared/constants/metametrics":3930,"../../../../components/component-library":4330,"../../../../contexts/metametrics":4635,"../../../../helpers/constants/design-system":4661,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../../.storybook/i18n"),c=e("../../../../../shared/constants/metametrics"),u=e("../../../../contexts/metametrics");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({userAcknowledgedGasMissing:e=!1,setUserAcknowledgedGasMissing:t}){const n=(0,r.useContext)(l.I18nContext),a=(0,r.useContext)(u.MetaMetricsContext);return(0,r.useEffect)((()=>{a({category:c.MetaMetricsEventCategory.Transactions,event:c.MetaMetricsEventName.SimulationFails,properties:{ui_customizations:[c.MetaMetricsEventUiCustomization.GasEstimationFailed]}})}),[]),!0===e?r.default.createElement(s.BannerAlert,{severity:i.SEVERITIES.DANGER},n("simulationErrorMessageV2")):r.default.createElement(s.BannerAlert,{severity:i.SEVERITIES.DANGER,actionButtonLabel:n("proceedWithTransaction"),actionButtonOnClick:t},n("simulationErrorMessageV2"))}p.propTypes={userAcknowledgedGasMissing:o.default.bool,setUserAcknowledgedGasMissing:o.default.func}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\simulation-error-message\\simulation-error-message.js"}],[4880,{"../../../../components/component-library":4330,"../../../../components/ui/actionable-message":4496,"../../../../hooks/useI18nContext":4721,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("../../../../components/ui/actionable-message")),o=e("../../../../components/component-library"),s=e("../../../../hooks/useI18nContext");function i(e){return e&&e.__esModule?e:{default:e}}n.default=({message:e,learnMoreLink:t,error:n})=>{const i=(0,s.useI18nContext)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.Text,{"data-testid":"snap-account-error-message-text",style:n?{marginBottom:2}:{}},e,Boolean(t)&&a.default.createElement(a.default.Fragment,null," ",a.default.createElement("a",{"data-testid":"snap-account-error-message-learn-more-link",href:t,rel:"noopener noreferrer",target:"_blank"},i("learnMoreUpperCase")))),Boolean(n)&&a.default.createElement(r.default,{type:"danger",message:n,dataTestId:"snap-account-error-message-error"}))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\snap-account-error-message\\SnapAccountErrorMessage.tsx"}],[4881,{"./SnapAccountErrorMessage":4880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapAccountErrorMessage",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./SnapAccountErrorMessage"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\snap-account-error-message\\index.tsx"}],[4882,{"../../../../components/component-library":4330,"../../../../hooks/useI18nContext":4721,"../../../remove-snap-account":5054,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../components/component-library"),s=e("../../../../hooks/useI18nContext"),i=e("../../../remove-snap-account");n.default=({message:e,address:t,learnMoreLink:n})=>{const a=(0,s.useI18nContext)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.SnapAccountCard,{address:t}),r.default.createElement(o.Text,{"data-testid":"snap-account-success-message-text"},e,Boolean(n)&&r.default.createElement(r.default.Fragment,null," ",r.default.createElement("a",{"data-testid":"snap-account-success-message-learn-more-link",href:n,rel:"noopener noreferrer",target:"_blank"},a("learnMoreUpperCase")))))}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\snap-account-success-message\\SnapAccountSuccessMessage.tsx"}],[4883,{"./SnapAccountSuccessMessage":4882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapAccountSuccessMessage",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./SnapAccountSuccessMessage"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\snap-account-success-message\\index.tsx"}],[4884,{"./transaction-alerts":4885},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-alerts"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-alerts\\index.js"}],[4885,{"../../../../../shared/constants/gas":3925,"../../../../../shared/lib/metamask-controller-utils":3946,"../../../../../shared/modules/security-provider.utils":3969,"../../../../../shared/modules/transaction.utils":3973,"../../../../components/component-library":4330,"../../../../contexts/gasFee":4633,"../../../../ducks/metamask/metamask":4653,"../../../../helpers/constants/design-system":4661,"../../../../helpers/constants/zendesk-url":4673,"../../../../hooks/useI18nContext":4721,"../../../../selectors":5210,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":4848,"../security-provider-banner-message/security-provider-banner-message":4852,"../simulation-error-message":4878,"@metamask/transaction-controller":1692,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=T(e("react")),r=T(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../../shared/constants/gas"),l=e("../../../../selectors"),c=e("../../../../contexts/gasFee"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../components/component-library"),p=T(e("../simulation-error-message")),f=e("../../../../helpers/constants/design-system"),m=T(e("../../../../helpers/constants/zendesk-url")),g=e("../../../../../shared/modules/security-provider.utils"),y=T(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),h=T(e("../security-provider-banner-message/security-provider-banner-message")),v=e("../../../../ducks/metamask/metamask"),b=e("../../../../../shared/modules/transaction.utils"),_=e("../../../../../shared/lib/metamask-controller-utils");function T(e){return e&&e.__esModule?e:{default:e}}const x=({userAcknowledgedGasMissing:e,setUserAcknowledgedGasMissing:t,tokenSymbol:n,txData:r,isUsingPaymaster:T})=>{const{estimateUsed:x,hasSimulationError:E,supportsEIP1559:k,isNetworkBusy:w}=(0,c.useGasFeeContext)(),C=(0,o.useSelector)(l.submittedPendingTransactionsSelector),P=(0,u.useI18nContext)(),M=(0,o.useSelector)(v.getNativeCurrency),S=r.txParams.data,O=n||M;let N;if(r.type===s.TransactionType.simpleSend&&(N=r.txParams.value),r.type===s.TransactionType.tokenMethodTransfer){const e=(0,b.parseStandardTokenTransactionData)(S);N=(0,_.getTokenValueParam)(e)}const j=(r.type===s.TransactionType.simpleSend||r.type===s.TransactionType.tokenMethodTransfer)&&("0x0"===N||"0"===N);return a.default.createElement("div",{className:"transaction-alerts"},a.default.createElement(y.default,{txData:r}),(0,g.isSuspiciousResponse)(null==r?void 0:r.securityProviderResponse)&&a.default.createElement(h.default,{securityProviderResponse:r.securityProviderResponse}),k&&E&&a.default.createElement(p.default,{userAcknowledgedGasMissing:e,setUserAcknowledgedGasMissing:t}),k&&(null==C?void 0:C.length)>0&&a.default.createElement(d.BannerAlert,{severity:f.SEVERITIES.WARNING},a.default.createElement(d.Text,{as:"p"},a.default.createElement("strong",null,1===(null==C?void 0:C.length)?P("pendingTransactionSingle",[null==C?void 0:C.length]):P("pendingTransactionMultiple",[null==C?void 0:C.length]))," ",P("pendingTransactionInfo"),P("learnCancelSpeeedup",[a.default.createElement(d.ButtonLink,{key:"cancelSpeedUpInfo",href:m.default.SPEEDUP_CANCEL,rel:"noopener noreferrer",target:"_blank"},P("cancelSpeedUp"))]))),x===i.PriorityLevels.low&&a.default.createElement(d.BannerAlert,{"data-testid":"low-gas-fee-alert",severity:f.SEVERITIES.WARNING},P("lowPriorityMessage")),k&&w?a.default.createElement(d.BannerAlert,{severity:f.SEVERITIES.WARNING},P("networkIsBusy")):null,j&&a.default.createElement(d.BannerAlert,{severity:f.SEVERITIES.WARNING},P("sendingZeroAmount",[O])),T&&a.default.createElement(d.BannerAlert,{"data-testid":"paymaster-alert",severity:f.SEVERITIES.INFO},P("paymasterInUse")))};x.propTypes={userAcknowledgedGasMissing:r.default.bool,setUserAcknowledgedGasMissing:r.default.func,tokenSymbol:r.default.string,txData:r.default.object,isUsingPaymaster:r.default.bool};n.default=x}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-alerts\\transaction-alerts.js"}],[4886,{"../../../../../../../../shared/constants/copy":3923,"../../../../../../../components/app/modals/nickname-popovers":4079,"../../../../../../../components/ui/identicon":4553,"../../../../../../../helpers/utils/util":4704,"../../../../../../../hooks/useI18nContext":4721,"../../../../../../../selectors":5210,"copy-to-clipboard":2459,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=f(e("prop-types")),s=f(e("copy-to-clipboard")),i=e("../../../../../../../helpers/utils/util"),l=f(e("../../../../../../../components/ui/identicon")),c=e("../../../../../../../hooks/useI18nContext"),u=e("../../../../../../../selectors"),d=f(e("../../../../../../../components/app/modals/nickname-popovers")),p=e("../../../../../../../../shared/constants/copy");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g=({checksummedRecipientAddress:e,onRecipientClick:t,addressOnly:n,recipientEns:o,recipientName:f})=>{const m=(0,c.useI18nContext)(),[g,y]=(0,a.useState)(!1),h=(0,r.useSelector)(u.getMemoizedAddressBook).find((t=>t.address.toLowerCase()===e.toLowerCase())),v=null==h?void 0:h.name,b=(0,r.useSelector)((t=>(0,u.getMemoizedMetadataContractName)(t,e))),_=n?f||v||b||o||(0,i.shortenAddress)(e):f||v||b||o||m("newContract");return a.default.createElement("div",{className:"tx-insight tx-insight-component tx-insight-component-address",onClick:()=>{(0,s.default)(e,p.COPY_OPTIONS),t&&t()}},a.default.createElement("div",{className:"tx-insight-component-address__sender-icon"},a.default.createElement(l.default,{address:e,diameter:18})),a.default.createElement("div",{className:"tx-insight-component-address__name",onClick:()=>y(!0)},_),g?a.default.createElement(d.default,{onClose:()=>y(!1),address:e}):null)};g.propTypes={checksummedRecipientAddress:o.default.string,recipientName:o.default.string,recipientEns:o.default.string,addressOnly:o.default.bool,onRecipientClick:o.default.func};n.default=g}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-decoding\\components\\decoding\\address\\address.component.js"}],[4887,{"./address.component":4886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./address.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-decoding\\components\\decoding\\address\\index.js"}],[4888,{"../../../../../../../components/component-library":4330,"../../../../../../../components/ui/tooltip/tooltip":4623,"../../../../../../../contexts/i18n":4634,"../../../../../../../helpers/constants/design-system":4661,"../../../../../../../hooks/useCopyToClipboard":4713,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=u(e("../../../../../../../components/ui/tooltip/tooltip")),s=e("../../../../../../../contexts/i18n"),i=e("../../../../../../../hooks/useCopyToClipboard"),l=e("../../../../../../../components/component-library"),c=e("../../../../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({data:e})=>{const t=(0,a.useContext)(s.I18nContext),[n,r]=(0,i.useCopyToClipboard)();return a.default.createElement("div",{className:"copy-raw-data"},a.default.createElement(o.default,{position:"right",title:n?t("copiedExclamation"):""},a.default.createElement("button",{onClick:()=>{r(e)},className:"copy-raw-data__button"},a.default.createElement("div",{className:"copy-raw-data__icon"},a.default.createElement(l.Icon,{name:n?l.IconName.CopySuccess:l.IconName.Copy,color:c.IconColor.iconDefault})),a.default.createElement("div",{className:"copy-raw-data__label"},t("copyRawTransactionData")))))};p.propTypes={data:r.default.string.isRequired};n.default=p}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-decoding\\components\\ui\\copy-raw-data\\copy-raw-data.component.js"}],[4889,{"./copy-raw-data.component":4888},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./copy-raw-data.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-decoding\\components\\ui\\copy-raw-data\\index.js"}],[4890,{"./transaction-detail-item.component":4891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-detail-item.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-detail-item\\index.js"}],[4891,{"../../../../components/component-library":4330,"../../../../helpers/constants/design-system":4661,classnames:2418,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library");function l(e){return e&&e.__esModule?e:{default:e}}function c({"data-testid":e,detailTitle:t="",detailText:n,detailTitleColor:r=s.Color.textDefault,detailTotal:l="",subTitle:c="",subText:u="",boldHeadings:d=!0,flexWidthValues:p=!1}){return a.default.createElement("div",{className:"transaction-detail-item","data-testid":e},a.default.createElement("div",{className:"transaction-detail-item__row"},a.default.createElement(i.Text,{as:"h6",color:r,fontWeight:d?s.FontWeight.Bold:s.FontWeight.Normal,display:s.Display.Flex,flexWrap:s.FlexWrap.NoWrap,alignItems:s.AlignItems.center},t),a.default.createElement("div",{className:(0,o.default)("transaction-detail-item__detail-values",{"transaction-detail-item__detail-values--flex-width":p})},n&&a.default.createElement(i.Text,{as:"h6",color:s.Color.textAlternative},n),a.default.createElement(i.Text,{as:"h6",color:s.Color.textDefault,fontWeight:d?s.FontWeight.Bold:s.FontWeight.Normal,marginLeft:1,textAlign:s.TextAlign.Right},l))),a.default.createElement("div",{className:"transaction-detail-item__row"},a.default.isValidElement(c)?a.default.createElement("div",null,c):a.default.createElement(i.Text,{as:"h6",variant:s.TextVariant.bodySm,color:s.Color.textAlternative},c),a.default.createElement(i.Text,{as:"h6",variant:s.TextVariant.bodySm,color:s.Color.textAlternative,textAlign:s.TextAlign.End,className:"transaction-detail-item__row-subText"},u)))}c.propTypes={"data-testid":r.default.string,detailTitle:r.default.oneOfType([r.default.string,r.default.node]),detailTitleColor:r.default.string,detailText:r.default.oneOfType([r.default.string,r.default.node]),detailTotal:r.default.oneOfType([r.default.string,r.default.node]),subTitle:r.default.oneOfType([r.default.string,r.default.node]),subText:r.default.oneOfType([r.default.string,r.default.node]),boldHeadings:r.default.bool,flexWidthValues:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-detail-item\\transaction-detail-item.component.js"}],[4892,{"./transaction-detail.component":4893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-detail.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-detail\\index.js"}],[4893,{"../../../../components/ui/box":4499,"../../../../contexts/gasFee":4633,"../../../../hooks/useI18nContext":4721,"../edit-gas-fee-button":4823,"../transaction-detail-item/transaction-detail-item.component":4891,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../contexts/gasFee"),s=e("../../../../hooks/useI18nContext"),i=u(e("../../../../components/ui/box")),l=u(e("../edit-gas-fee-button")),c=u(e("../transaction-detail-item/transaction-detail-item.component"));function u(e){return e&&e.__esModule?e:{default:e}}function d({rows:e=[],onEdit:t,userAcknowledgedGasMissing:n=!1,disableEditGasFeeButton:r=!1}){const c=(0,s.useI18nContext)(),{supportsEIP1559:u}=(0,o.useGasFeeContext)();return a.default.createElement("div",{className:"transaction-detail"},u&&!r&&a.default.createElement(i.default,{display:"flex",justifyContent:"flex-end",paddingTop:5},a.default.createElement(l.default,{userAcknowledgedGasMissing:n})),!u&&t&&a.default.createElement("div",{className:"transaction-detail-edit"},a.default.createElement("button",{onClick:t},c("edit"))),a.default.createElement("div",{className:"transaction-detail-rows"},e))}d.propTypes={rows:r.default.arrayOf(c.default).isRequired,onEdit:r.default.func,userAcknowledgedGasMissing:r.default.bool,disableEditGasFeeButton:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\components\\transaction-detail\\transaction-detail.component.js"}],[4894,{"../../../../../shared/constants/copy":3923,"../../../../../shared/constants/network":3931,"../../../../../shared/constants/transaction":3943,"../../../../../shared/modules/security-provider.utils":3969,"../../../../components/app/user-preferenced-currency-display":4249,"../../../../components/component-library":4330,"../../../../components/ui/button":4503,"../../../../components/ui/url-icon":4631,"../../../../helpers/constants/common":4659,"../../../../helpers/constants/design-system":4661,"../../../../helpers/utils/confirm-tx.util":4686,"../../../../helpers/utils/util":4704,"../../components/confirm-gas-display":4790,"../../components/confirm-page-container/confirm-page-container-content":4800,"../../components/contract-details-modal/contract-details-modal":4813,"../../components/custom-nonce":4817,"../../components/fee-details-component/fee-details-component":4839,"../../components/ledger-instruction-field":4843,"../../components/multilayer-fee-message":4845,"../../components/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":4848,"../../components/security-provider-banner-message/security-provider-banner-message":4852,"../../components/simulation-error-message":4878,"../../components/transaction-detail-item/transaction-detail-item.component":4891,"@metamask/etherscan-link":1196,classnames:2418,"copy-to-clipboard":2459,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=N(e("prop-types")),o=N(e("classnames")),s=N(e("copy-to-clipboard")),i=e("@metamask/etherscan-link"),l=N(e("../../../../components/ui/url-icon")),c=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/confirm-tx.util"),d=N(e("../../../../components/ui/button")),p=N(e("../../components/simulation-error-message")),f=N(e("../../components/multilayer-fee-message")),m=N(e("../../components/security-provider-banner-message/security-provider-banner-message")),g=e("../../../../helpers/constants/design-system"),y=e("../../components/confirm-page-container/confirm-page-container-content"),h=N(e("../../components/ledger-instruction-field")),v=N(e("../../components/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),b=e("../../../../../shared/modules/security-provider.utils"),_=e("../../../../../shared/constants/transaction"),T=e("../../../../../shared/constants/network"),x=N(e("../../components/contract-details-modal/contract-details-modal")),E=e("../../../../components/component-library"),k=N(e("../../components/transaction-detail-item/transaction-detail-item.component")),w=N(e("../../../../components/app/user-preferenced-currency-display")),C=e("../../../../helpers/constants/common"),P=e("../../components/confirm-gas-display"),M=N(e("../../components/custom-nonce")),S=e("../../../../../shared/constants/copy"),O=N(e("../../components/fee-details-component/fee-details-component"));function N(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends a.Component{constructor(...e){super(...e),I(this,"state",{showFullTxDetails:!1,copied:!1,setShowContractDetails:!1})}renderApproveContentCard({showHeader:e=!0,symbol:t,title:n,content:r,footer:s,noBorder:i,showFeeDetails:l=!1}){const{supportsEIP1559:c,txData:u,useCurrencyRateCheck:d}=this.props,{t:p}=this.context;return a.default.createElement("div",{className:(0,o.default)({"confirm-approve-content__card":!i,"confirm-approve-content__card--no-border":i})},e&&a.default.createElement("div",{className:"confirm-approve-content__card-header"},c&&n===p("transactionFee")?null:a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-approve-content__card-header__symbol"},t),a.default.createElement("div",{className:"confirm-approve-content__card-header__title"},n))),a.default.createElement("div",{className:"confirm-approve-content__card-content"},r),l&&a.default.createElement(E.Box,{marginBottom:4},a.default.createElement(O.default,{txData:u,useCurrencyRateCheck:d})),s)}renderTransactionDetailsContent(){const{t:e}=this.context,{currentCurrency:t,nativeCurrency:n,ethTransactionTotal:r,fiatTransactionTotal:o,hexTransactionTotal:s,hexMinimumTransactionFee:i,txData:l,isMultiLayerFeeNetwork:c,supportsEIP1559:d,userAcknowledgedGasMissing:p,renderSimulationFailureWarning:m,useCurrencyRateCheck:g,useNativeCurrencyAsPrimaryCurrency:y}=this.props;return c||!d||m?a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content"},c?a.default.createElement("div",{className:"confirm-approve-content__transaction-details-extra-content"},a.default.createElement(k.default,{key:"confirm-approve-content-min-tx-fee",detailTitle:e("transactionDetailLayer2GasHeading"),detailTotal:a.default.createElement(w.default,{type:C.PRIMARY,value:i,hideLabel:!y,numberOfDecimals:18}),detailText:a.default.createElement(w.default,{type:C.SECONDARY,value:i,hideLabel:Boolean(y)}),noBold:!0,flexWidthValues:!0}),a.default.createElement(f.default,{transaction:l,layer2fee:s,nativeCurrency:n,plainStyle:!0})):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-approve-content__small-text"},e("feeAssociatedRequest")),a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__fee"},a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__primary-fee"},g&&(0,u.formatCurrency)(o,t)),a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__secondary-fee"},`${r} ${n}`)))):a.default.createElement(P.ConfirmGasDisplay,{userAcknowledgedGasMissing:p})}renderERC721OrERC1155PermissionContent(){const{t:e}=this.context,{origin:t,toAddress:n,isContract:r,isSetApproveForAll:o,tokenSymbol:i}=this.props,l=this.getTitleTokenDescription(),u=e(i?"allOfYour":"allYourNFTsOf",[l]),d=r?`${e("contract")} (${(0,c.addressSummary)(n)})`:(0,c.addressSummary)(n);return a.default.createElement("div",{className:"flex-column"},a.default.createElement("div",{className:"confirm-approve-content__small-text"},e("accessAndSpendNoticeNFT",[t])),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("approvedAsset"),":"),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},o?u:l)),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("grantedToWithColon")),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},d),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},a.default.createElement(E.ButtonIcon,{ariaLabel:"copy",onClick:()=>(0,s.default)(n,S.COPY_OPTIONS),color:g.IconColor.iconDefault,iconName:this.state.copied?E.IconName.CopySuccess:E.IconName.Copy,title:this.state.copied?e("copiedExclamation"):e("copyToClipboard")}))))}renderDataContent(){const{t:e}=this.context,{data:t,isSetApproveForAll:n,isApprovalOrRejection:r}=this.props;return a.default.createElement(E.Box,{className:"flex-column"},a.default.createElement(E.Text,{className:"confirm-approve-content__small-text"},e(n?"functionSetApprovalForAll":"functionApprove")),n&&r!==undefined?a.default.createElement(a.default.Fragment,null,a.default.createElement(E.Text,{className:"confirm-approve-content__small-text"},`${e("parameters")}: ${r}`)):null,a.default.createElement(E.Text,{className:"confirm-approve-content__small-text confirm-approve-content__data__data-block"},t))}renderFullDetails(){const{t:e}=this.context,{assetStandard:t}=this.props;return t===_.TokenStandard.ERC721||t===_.TokenStandard.ERC1155?a.default.createElement("div",{className:"confirm-approve-content__full-tx-content"},a.default.createElement("div",{className:"confirm-approve-content__permission"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fas fa-user-check"}),title:e("permissionRequest"),content:this.renderERC721OrERC1155PermissionContent(),showEdit:!1})),a.default.createElement("div",{className:"confirm-approve-content__data"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-file"}),title:e("data"),content:this.renderDataContent(),noBorder:!0}))):null}getTokenName(){const{tokenId:e,assetName:t,assetStandard:n,tokenSymbol:a}=this.props,{t:r}=this.context;let o=r("token");return(n===_.TokenStandard.ERC721||n===_.TokenStandard.ERC1155||t&&e||a&&e)&&(o=t||a?`${t??a}`:r("thisCollection")),o}getTitleTokenDescription(){const{tokenId:e,tokenAddress:t,rpcPrefs:n,chainId:r,userAddress:o}=this.props,l=(null==n?void 0:n.blockExplorerUrl)||[...T.TEST_CHAINS,T.CHAIN_IDS.MAINNET,T.CHAIN_IDS.LINEA_MAINNET].includes(r),c=this.getTokenName(),u=e?` (#${e})`:"";if(l){const e=(0,i.getTokenTrackerLink)(t,r,null,o,{blockExplorerUrl:(null==n?void 0:n.blockExplorerUrl)??null});return a.default.createElement(a.default.Fragment,null,a.default.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",title:t,className:"confirm-approve-content__approval-asset-link"},c),u&&a.default.createElement("span",null,u))}return a.default.createElement(a.default.Fragment,null,a.default.createElement("span",{className:"confirm-approve-content__approval-asset-title",onClick:()=>{(0,s.default)(t,S.COPY_OPTIONS)},title:t},c),u&&a.default.createElement("span",null,u))}renderTitle(){const{t:e}=this.context,{assetName:t,tokenId:n,tokenSymbol:a,assetStandard:r,isSetApproveForAll:o,isApprovalOrRejection:s}=this.props,i=this.getTitleTokenDescription();let l;return o?a?(l=e("approveAllTokensTitle",[i]),!1===s&&(l=e("revokeAllTokensTitle",[i]))):(l=e("approveAllTokensTitleWithoutSymbol",[i]),!1===s&&(l=e("revokeAllTokensTitleWithoutSymbol",[i]))):(r===_.TokenStandard.ERC721||r===_.TokenStandard.ERC1155||t&&n||a&&n)&&(l=e("approveTokenTitle",[i])),l||e("allowSpendToken",[i])}renderDescription(){const{t:e}=this.context,{assetStandard:t,assetName:n,tokenId:a,tokenSymbol:r,isContract:o,isSetApproveForAll:s,isApprovalOrRejection:i}=this.props,l=o?e("contract").toLowerCase():e("account").toLowerCase();let c=e("trustSiteApprovePermission",[l]);return s&&!1===i?c=e(r?"revokeApproveForAllDescription":"revokeApproveForAllDescriptionWithoutSymbol",[this.getTitleTokenDescription()]):(s||t===_.TokenStandard.ERC721||t===_.TokenStandard.ERC1155||n&&a||r&&a)&&(c=r?e("approveTokenDescription"):e("approveTokenDescriptionWithoutSymbol",[this.getTitleTokenDescription()])),c}render(){var e;const{t:t}=this.context,{siteImage:n,origin:r,tokenSymbol:s,useNonceField:i,warning:c,txData:u,fromAddressIsLedger:f,toAddress:_,chainId:T,rpcPrefs:k,assetStandard:w,tokenId:C,tokenAddress:P,assetName:S,userAcknowledgedGasMissing:O,setUserAcknowledgedGasMissing:N,renderSimulationFailureWarning:j,nextNonce:I,getNextNonce:A,customNonceValue:D,updateCustomNonce:F,showCustomizeNonceModal:R}=this.props,{showFullTxDetails:G,setShowContractDetails:L}=this.state;return a.default.createElement("div",{className:(0,o.default)("confirm-approve-content",{"confirm-approve-content--full":G})},a.default.createElement(v.default,{txData:u,margin:4}),(0,b.isSuspiciousResponse)(null==u?void 0:u.securityProviderResponse)&&a.default.createElement(m.default,{securityProviderResponse:u.securityProviderResponse}),c&&a.default.createElement("div",{className:"confirm-approve-content__custom-nonce-warning"},a.default.createElement(y.ConfirmPageContainerWarning,{warning:c})),a.default.createElement(E.Box,{display:g.DISPLAY.FLEX,className:"confirm-approve-content__icon-display-content"},a.default.createElement(E.Box,{display:g.DISPLAY.FLEX,alignItems:g.AlignItems.center},a.default.createElement(l.default,{className:"confirm-approve-content__siteimage-identicon",fallbackClassName:"confirm-approve-content__siteimage-identicon",name:r,url:n}),a.default.createElement(E.Text,{variant:g.TextVariant.bodySm,as:"h6",color:g.TextColor.textAlternative,marginLeft:1},r))),a.default.createElement("div",{className:"confirm-approve-content__title","data-testid":"confirm-approve-title"},this.renderTitle()),a.default.createElement("div",{className:"confirm-approve-content__description"},this.renderDescription()),a.default.createElement(E.Box,{marginBottom:4,marginTop:2},a.default.createElement(d.default,{type:"link",className:"confirm-approve-content__verify-contract-details",onClick:()=>this.setState({setShowContractDetails:!0})},t("verifyContractDetails")),L&&a.default.createElement(x.default,{onClose:()=>this.setState({setShowContractDetails:!1}),tokenName:s,tokenAddress:P,toAddress:_,chainId:T,rpcPrefs:k,tokenId:C,assetName:S,assetStandard:w})),a.default.createElement("div",{className:"confirm-approve-content__card-wrapper"},j&&a.default.createElement(E.Box,{paddingTop:0,paddingRight:6,paddingBottom:4,paddingLeft:6},a.default.createElement(p.default,{userAcknowledgedGasMissing:O,setUserAcknowledgedGasMissing:()=>N(!0)})),this.renderApproveContentCard({symbol:a.default.createElement(E.Icon,{name:E.IconName.Tag}),title:t("transactionFee"),showEdit:!0,showAdvanceGasFeeOptions:!0,showFeeDetails:!0,content:this.renderTransactionDetailsContent(),noBorder:i||!G,footer:!i&&a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button-wrapper",onClick:()=>this.setState({showFullTxDetails:!this.state.showFullTxDetails})},a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button cursor-pointer"},a.default.createElement("div",{className:"confirm-approve-content__small-blue-text"},this.state.showFullTxDetails?t("hideFullTransactionDetails"):t("viewFullTransactionDetails")),a.default.createElement("i",{className:(0,o.default)({"fa fa-caret-up":G,"fa fa-caret-down":!G})})))}),i&&this.renderApproveContentCard({showHeader:!1,content:a.default.createElement(M.default,{nextNonce:I,customNonceValue:D,showCustomizeNonceModal:()=>{R({nextNonce:I,customNonceValue:D,updateCustomNonce:F,getNextNonce:A})}}),useNonceField:i,noBorder:!G,footer:a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button-wrapper",onClick:()=>this.setState({showFullTxDetails:!this.state.showFullTxDetails})},a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button cursor-pointer"},a.default.createElement("div",{className:"confirm-approve-content__small-blue-text"},this.state.showFullTxDetails?t("hideFullTransactionDetails"):t("viewFullTransactionDetails")),a.default.createElement("i",{className:(0,o.default)({"fa fa-caret-up":G,"fa fa-caret-down":!G})})))})),f?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(h.default,{showDataInstruction:Boolean(null===(e=u.txParams)||void 0===e?void 0:e.data)})):null,G?this.renderFullDetails():null)}}n.default=A,I(A,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),I(A,"propTypes",{tokenSymbol:r.default.string,siteImage:r.default.string,origin:r.default.string,data:r.default.string,toAddress:r.default.string,currentCurrency:r.default.string,nativeCurrency:r.default.string,fiatTransactionTotal:r.default.string,ethTransactionTotal:r.default.string,useNonceField:r.default.bool,customNonceValue:r.default.string,updateCustomNonce:r.default.func,getNextNonce:r.default.func,nextNonce:r.default.number,showCustomizeNonceModal:r.default.func,warning:r.default.string,txData:r.default.object,fromAddressIsLedger:r.default.bool,chainId:r.default.string,tokenAddress:r.default.string,rpcPrefs:r.default.object,isContract:r.default.bool,hexTransactionTotal:r.default.string,hexMinimumTransactionFee:r.default.string,isMultiLayerFeeNetwork:r.default.bool,supportsEIP1559:r.default.bool,assetName:r.default.string,tokenId:r.default.string,assetStandard:r.default.string,isSetApproveForAll:r.default.bool,isApprovalOrRejection:r.default.bool,userAddress:r.default.string,userAcknowledgedGasMissing:r.default.bool,setUserAcknowledgedGasMissing:r.default.func,renderSimulationFailureWarning:r.default.bool,useCurrencyRateCheck:r.default.bool,useNativeCurrencyAsPrimaryCurrency:r.default.bool})}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-approve\\confirm-approve-content\\confirm-approve-content.component.js"}],[4895,{"./confirm-approve-content.component":4894},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-approve-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-approve\\confirm-approve-content\\index.js"}],[4896,{"../../../../shared/constants/gas":3925,"../../../../shared/constants/transaction":3943,"../../../../shared/lib/transactions-controller-utils":3951,"../../../../shared/modules/contract-utils":3956,"../../../../shared/modules/transaction.utils":3973,"../../../components/ui/loading-screen":4562,"../../../contexts/gasFee":4633,"../../../contexts/transaction-modal":4639,"../../../ducks/metamask/metamask":4653,"../../../helpers/utils/token-util":4701,"../../../selectors":5210,"../../../store/actions":5217,"../components/advanced-gas-fee-popover":4782,"../components/edit-gas-fee-popover":4831,"../components/edit-gas-popover/edit-gas-popover.component":4837,"../confirm-contract-interaction":4900,"../confirm-transaction-base":4913,"../hooks/useApproveTransaction":4939,"../hooks/useSimulationFailureWarning":4951,"../token-allowance/token-allowance":4996,"./confirm-approve-content":4895,"./confirm-approve.util":4897,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=N;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=M(e("prop-types")),o=e("react-redux"),s=M(e("../confirm-transaction-base")),i=e("../../../../shared/constants/gas"),l=e("../../../store/actions"),c=e("../../../helpers/utils/token-util"),u=e("../../../../shared/modules/contract-utils"),d=e("../../../contexts/gasFee"),p=e("../../../contexts/transaction-modal"),f=e("../../../ducks/metamask/metamask"),m=M(e("../confirm-contract-interaction")),g=e("../../../selectors"),y=e("../hooks/useApproveTransaction"),h=e("../hooks/useSimulationFailureWarning"),v=M(e("../components/advanced-gas-fee-popover")),b=M(e("../components/edit-gas-fee-popover")),_=M(e("../components/edit-gas-popover/edit-gas-popover.component")),T=M(e("../../../components/ui/loading-screen")),x=e("../../../../shared/modules/transaction.utils"),E=e("../../../../shared/constants/transaction"),k=e("../../../../shared/lib/transactions-controller-utils"),w=M(e("../token-allowance/token-allowance")),C=e("./confirm-approve.util"),P=M(e("./confirm-approve-content"));function M(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const O=e=>t=>(0,f.isAddressLedger)(t,e);function N({assetStandard:e,assetName:t,userBalance:n,tokenSymbol:r,decimals:M,tokenImage:S,tokenAmount:N,tokenId:j,userAddress:I,toAddress:A,tokenAddress:D,transaction:F,ethTransactionTotal:R,fiatTransactionTotal:G,hexTransactionTotal:L,hexMinimumTransactionFee:B,isSetApproveForAll:$}){const W=(0,o.useDispatch)(),{txParams:{data:q}={}}=F,V=(0,o.useSelector)(g.getCurrentCurrency),U=(0,o.useSelector)(f.getNativeCurrency),H=(0,o.useSelector)(g.getSubjectMetadata),z=(0,o.useSelector)(g.getUseNonceField),Y=(0,o.useSelector)(g.getNextSuggestedNonce),K=(0,o.useSelector)(g.getCustomNonceValue),X=(0,o.useSelector)(g.getCurrentChainId),J=(0,o.useSelector)(g.getRpcPrefsForCurrentProvider),Z=(0,o.useSelector)(g.getIsMultiLayerFeeNetwork),Q=(0,o.useSelector)(g.checkNetworkAndAccountSupports1559),ee=(0,o.useSelector)(O(I)),te=(0,o.useSelector)(g.getUseCurrencyRateCheck),{useNativeCurrencyAsPrimaryCurrency:ne}=(0,o.useSelector)(g.getPreferences),[ae,re]=(0,a.useState)(""),[oe,se]=(0,a.useState)(""),[ie,le]=(0,a.useState)(!1),[ce,ue]=(0,a.useState)(!1),de=Q,pe=(0,a.useRef)(N),{approveTransaction:fe,showCustomizeGasPopover:me,closeCustomizeGasPopover:ge}=(0,y.useApproveTransaction)(),ye=(0,h.useSimulationFailureWarning)(ce);(0,a.useEffect)((()=>{ae&&pe.current!==N&&re(N),pe.current=N}),[ae,N]);const he=(0,a.useRef)(Y),ve=(0,a.useRef)(K);(0,a.useEffect)((()=>{he.current===Y&&ve.current===K||se(null!==Y&&K>Y?`Nonce is higher than suggested nonce of ${Y}`:""),ve.current=K,he.current=Y}),[K,Y]);const be=(0,a.useCallback)((async()=>{const{isContractAddress:e}=await(0,u.readAddressAsContract)(global.eth,A);le(e)}),[le,A]);(0,a.useEffect)((()=>{be()}),[be]);const{origin:_e}=F,Te=_e||"",{iconUrl:xe=""}=H[_e]||{};let Ee;e!==E.TokenStandard.ERC721&&e!==E.TokenStandard.ERC1155||(Ee=t);const ke=n?(0,k.calcTokenAmount)(n,M).toString(10):"",we=ae?(0,C.getCustomTxParamsData)(q,{customPermissionAmount:ae,decimals:M}):null,Ce=(0,x.parseStandardTokenTransactionData)(q),Pe=(0,c.getTokenApprovedParam)(Ce);if(r===undefined&&t===undefined)return a.default.createElement(T.default,null);if(e===undefined)return a.default.createElement(m.default,null);return e===E.TokenStandard.ERC20?a.default.createElement(d.GasFeeContextProvider,{transaction:F},a.default.createElement(p.TransactionModalContextProvider,null,a.default.createElement(w.default,{origin:Te,siteImage:xe,showCustomizeGasModal:fe,useNonceField:z,currentCurrency:V,nativeCurrency:U,ethTransactionTotal:R,fiatTransactionTotal:G,hexTransactionTotal:L,hexMinimumTransactionFee:B,txData:F,isMultiLayerFeeNetwork:Z,supportsEIP1559:de,userAddress:I,tokenAddress:D,data:q,isSetApproveForAll:$,isApprovalOrRejection:Pe,dappProposedTokenAmount:N,currentTokenBalance:ke,toAddress:A,tokenSymbol:r,decimals:M,fromAddressIsLedger:ee,warning:oe}),me&&!de&&a.default.createElement(_.default,{onClose:ge,mode:i.EditGasModes.modifyInPlace,transaction:F}),de&&a.default.createElement(a.default.Fragment,null,a.default.createElement(b.default,null),a.default.createElement(v.default,null)))):a.default.createElement(d.GasFeeContextProvider,{transaction:F},a.default.createElement(s.default,{toAddress:A,identiconAddress:A,showAccountInHeader:!0,title:Ee,tokenAddress:D,customTokenAmount:String(ae),dappProposedTokenAmount:N,currentTokenBalance:ke,isApprovalOrRejection:Pe,contentComponent:a.default.createElement(p.TransactionModalContextProvider,null,a.default.createElement(P.default,{userAddress:I,isSetApproveForAll:$,isApprovalOrRejection:Pe,siteImage:xe,origin:Te,tokenSymbol:r,tokenImage:S,tokenId:j,assetName:t,assetStandard:e,tokenAddress:D,data:we||q,toAddress:A,currentCurrency:V,nativeCurrency:U,ethTransactionTotal:R,fiatTransactionTotal:G,hexTransactionTotal:L,hexMinimumTransactionFee:B,useNonceField:z,nextNonce:Y,customNonceValue:K,userAcknowledgedGasMissing:ce,setUserAcknowledgedGasMissing:ue,renderSimulationFailureWarning:ye,updateCustomNonce:e=>{W((0,l.updateCustomNonce)(e))},getNextNonce:()=>W((0,l.getNextNonce)()),showCustomizeNonceModal:({useNonceField:e,nextNonce:t,customNonceValue:n,updateCustomNonce:a,getNextNonce:r})=>W((0,l.showModal)({name:"CUSTOMIZE_NONCE",useNonceField:e,nextNonce:t,customNonceValue:n,updateCustomNonce:a,getNextNonce:r})),warning:oe,txData:F,fromAddressIsLedger:ee,chainId:X,rpcPrefs:J,isContract:ie,isMultiLayerFeeNetwork:Z,supportsEIP1559:de,useCurrencyRateCheck:te,useNativeCurrencyAsPrimaryCurrency:ne}),me&&!de&&a.default.createElement(_.default,{onClose:ge,mode:i.EditGasModes.modifyInPlace,transaction:F}),de&&a.default.createElement(a.default.Fragment,null,a.default.createElement(b.default,null),a.default.createElement(v.default,null))),hideSenderToRecipient:!0,customTxParamsData:we,assetStandard:e,displayAccountBalanceHeader:!0}))}N.propTypes={assetStandard:r.default.string,assetName:r.default.string,tokenAddress:r.default.string,userBalance:r.default.string,tokenSymbol:r.default.string,decimals:r.default.string,tokenImage:r.default.string,tokenAmount:r.default.string,tokenId:r.default.string,userAddress:r.default.string,toAddress:r.default.string,transaction:r.default.shape({origin:r.default.string,txParams:r.default.shape({data:r.default.string,to:r.default.string,from:r.default.string})}),ethTransactionTotal:r.default.string,fiatTransactionTotal:r.default.string,hexTransactionTotal:r.default.string,hexMinimumTransactionFee:r.default.string,isSetApproveForAll:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-approve\\confirm-approve.js"}],[4897,{"../../../../shared/lib/swaps-utils":3948,"../../../../shared/modules/conversion.utils":3957,"../../../../shared/modules/transaction.utils":3973,"../../../helpers/utils/token-util":4701,"@metamask/transaction-controller":1692},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCustomTxParamsData=function(e,{customPermissionAmount:t,decimals:n}){const l=(0,o.parseStandardTokenTransactionData)(e);if(!l)throw new Error("Invalid data");if(l.name!==a.TransactionType.tokenMethodApprove)throw new Error(`Invalid data; should be 'approve' method, but instead is '${l.name}'`);let c=(0,s.getTokenAddressParam)(l);c.startsWith("0x")&&(c=c.substring(2));const[u,d]=e.split(c);if(!u||!d)throw new Error("Invalid data");if(64!==d.length)throw new Error("Invalid token value; should be exactly 64 hex digits long (u256)");let p=(0,i.decimalToHex)((0,r.calcTokenValue)(t,n));if(p.length>64)throw new Error("Custom value is larger than u256");p=p.padStart(d.length,"0");return`${u}${c}${p}`};var a=e("@metamask/transaction-controller"),r=e("../../../../shared/lib/swaps-utils"),o=e("../../../../shared/modules/transaction.utils"),s=e("../../../helpers/utils/token-util"),i=e("../../../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-approve\\confirm-approve.util.js"}],[4898,{"./confirm-approve":4896},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-approve"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-approve\\index.js"}],[4899,{"../../../../shared/constants/transaction":3943,"../../../ducks/confirm-transaction/confirm-transaction.duck":4645,"../../../ducks/send":4655,"../../../helpers/constants/routes":4666,"../confirm-transaction-base":4913,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useDispatch)(),t=(0,o.useHistory)(),n=n=>{(async({txData:t})=>{const{id:n}=t;await e((0,l.editExistingTransaction)(u.AssetType.native,n.toString())),e((0,c.clearConfirmTransaction)())})(n).then((()=>{t.push(i.SEND_ROUTE)}))};return a.default.createElement(s.default,{actionKey:"confirm",onEdit:e=>n(e)})};var a=d(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=d(e("../confirm-transaction-base")),i=e("../../../helpers/constants/routes"),l=e("../../../ducks/send"),c=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../../../shared/constants/transaction");function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-contract-interaction\\confirm-contract-interaction.js"}],[4900,{"./confirm-contract-interaction":4899},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-contract-interaction"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-contract-interaction\\index.js"}],[4901,{"../../../../shared/modules/buffer-utils":3955,"../../../components/component-library":4330,"../../../components/ui/box":4499,"../../../helpers/constants/design-system":4661,"../confirm-transaction-base":4913,"prop-types":3451,react:3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=u(e("../confirm-transaction-base")),s=e("../../../../shared/modules/buffer-utils"),i=u(e("../../../components/ui/box")),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{renderData(){const{t:e}=this.context,{txData:{origin:t,txParams:{data:n}={}}={}}=this.props;return a.default.createElement(i.default,{color:c.Color.textAlternative,padding:4},a.default.createElement(i.default,{backgroundColor:c.Color.backgroundAlternative,padding:4,variant:c.TextVariant.bodySm},a.default.createElement(i.default,{display:c.DISPLAY.FLEX},a.default.createElement(l.Text,{backgroundColor:c.Color.backgroundAlternative,marginBottom:1,paddingRight:4,variant:c.TextVariant.bodySmBold},`${e("origin")}:`),a.default.createElement(l.Text,{overflowWrap:c.OVERFLOW_WRAP.BREAK_WORD,variant:c.TextVariant.bodySm},t)),a.default.createElement(i.default,{display:c.DISPLAY.FLEX},a.default.createElement(l.Text,{backgroundColor:c.Color.backgroundAlternative,paddingRight:4,variant:c.TextVariant.bodySmBold},`${e("bytes")}:`),a.default.createElement(l.Text,{variant:c.TextVariant.bodySm},(0,s.toBuffer)(n).length))),a.default.createElement(l.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:c.TEXT_TRANSFORM.UPPERCASE,variant:c.TextVariant.bodySm},`${e("hexData")}:`),a.default.createElement(l.Text,{backgroundColor:c.Color.backgroundAlternative,overflowWrap:c.OVERFLOW_WRAP.BREAK_WORD,padding:4,variant:c.TextVariant.bodySm},n))}render(){return a.default.createElement(o.default,{actionKey:"contractDeployment",dataHexComponent:this.renderData()})}}n.default=f,p(f,"contextTypes",{t:r.default.func}),p(f,"propTypes",{txData:r.default.object})}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-deploy-contract\\confirm-deploy-contract.component.js"}],[4902,{"./confirm-deploy-contract.component":4901,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=(a=e("./confirm-deploy-contract.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)((e=>{const{confirmTransaction:{txData:t}={}}=e;return{txData:t}}))(o.default)}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-deploy-contract\\confirm-deploy-contract.container.js"}],[4903,{"./confirm-deploy-contract.container":4902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-deploy-contract.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-deploy-contract\\index.js"}],[4904,{"../../../../shared/constants/transaction":3943,"../../../ducks/confirm-transaction/confirm-transaction.duck":4645,"../../../ducks/send":4655,"../../../helpers/constants/routes":4666,"../confirm-transaction-base":4913,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../../shared/constants/transaction"),i=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),l=e("../../../ducks/send"),c=e("../../../helpers/constants/routes"),u=d(e("../confirm-transaction-base"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,r.useDispatch)(),t=(0,o.useHistory)(),n=({txData:n})=>{(async t=>{const{id:n}=t;await e((0,l.editExistingTransaction)(s.AssetType.native,n.toString())),e((0,i.clearConfirmTransaction)())})(n).then((()=>{t.push(c.SEND_ROUTE)}))};return a.default.createElement(u.default,{actionKey:"confirm",onEdit:e=>n(e)})}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-send-ether\\confirm-send-ether.js"}],[4905,{"./confirm-send-ether":4904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-send-ether"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-send-ether\\index.js"}],[4906,{"../../../../shared/constants/transaction":3943,"../../../ducks/confirm-transaction/confirm-transaction.duck":4645,"../../../ducks/metamask/metamask":4653,"../../../ducks/send":4655,"../../../helpers/constants/routes":4666,"../../../selectors":5210,"../../../store/actions":5217,"../confirm-token-transaction-base/confirm-token-transaction-base":4909,"prop-types":3451,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=g(e("react")),r=g(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=g(e("../confirm-token-transaction-base/confirm-token-transaction-base")),l=e("../../../helpers/constants/routes"),c=e("../../../ducks/send"),u=e("../../../selectors"),d=e("../../../ducks/metamask/metamask"),p=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),f=e("../../../store/actions"),m=e("../../../../shared/constants/transaction");function g(e){return e&&e.__esModule?e:{default:e}}function y({assetStandard:e,toAddress:t,tokenAddress:n,assetName:r,tokenSymbol:g,tokenAmount:y,tokenId:h,transaction:v,image:b,ethTransactionTotal:_,fiatTransactionTotal:T,hexMaximumTransactionFee:x}){const E=(0,o.useDispatch)(),k=(0,s.useHistory)(),w=(0,o.useSelector)(d.getConversionRate),C=(0,o.useSelector)(d.getNativeCurrency),P=(0,o.useSelector)(u.getCurrentCurrency),M=(0,o.useSelector)(u.contractExchangeRateSelector);let S,O;return e===m.TokenStandard.ERC721?(S=r,O=`#${h}`):e===m.TokenStandard.ERC20&&(S=`${y} ${g}`),a.default.createElement(i.default,{onEdit:e=>{(async({txData:e})=>{const{id:t}=e;await E((0,c.editExistingTransaction)(m.AssetType.token,t.toString())),E((0,p.clearConfirmTransaction)()),E((0,f.showSendTokenPage)())})(e).then((()=>{k.push(l.SEND_ROUTE)}))},conversionRate:w,currentCurrency:P,nativeCurrency:C,contractExchangeRate:M,title:S,subtitle:O,assetStandard:e,assetName:r,tokenSymbol:g,tokenAmount:y,tokenId:h,transaction:v,image:b,toAddress:t,tokenAddress:n,ethTransactionTotal:_,fiatTransactionTotal:T,hexMaximumTransactionFee:x})}y.propTypes={tokenAmount:r.default.string,assetStandard:r.default.string,assetName:r.default.string,tokenSymbol:r.default.string,image:r.default.string,tokenId:r.default.string,toAddress:r.default.string,tokenAddress:r.default.string,transaction:r.default.shape({origin:r.default.string,txParams:r.default.shape({data:r.default.string,to:r.default.string,from:r.default.string})}),ethTransactionTotal:r.default.string,fiatTransactionTotal:r.default.string,hexMaximumTransactionFee:r.default.string}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-send-token\\confirm-send-token.js"}],[4907,{"./confirm-send-token":4906},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-send-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-send-token\\index.js"}],[4908,{"../../../../shared/constants/app":3920,"../../../components/ui/loading-screen":4562,"../../../ducks/send":4655,"../../../helpers/utils/tx-helper":4703,"../../../selectors":5210,"../../../store/actions":5217,"../components/signature-request":4870,"../components/signature-request-original":4857,"../components/signature-request-siwe":4862,"../hooks/useRouting":4950,"@metamask/permission-controller":1436,"@metamask/transaction-controller":1692,lodash:3292,loglevel:3302,"prop-types":3451,react:3653,"react-redux":3627,"react-router-dom":3638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=E(e("prop-types")),r=x(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=E(e("loglevel")),l=e("lodash"),c=e("@metamask/permission-controller"),u=e("@metamask/transaction-controller"),d=x(e("../../../store/actions")),p=E(e("../../../helpers/utils/tx-helper")),f=E(e("../components/signature-request")),m=E(e("../components/signature-request-siwe")),g=E(e("../components/signature-request-original")),y=E(e("../../../components/ui/loading-screen")),h=e("../hooks/useRouting"),v=e("../../../selectors"),b=e("../../../../shared/constants/app"),_=e("../../../ducks/send");function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function E(e){return e&&e.__esModule?e:{default:e}}const k=({match:e})=>{var t;const n=(0,o.useDispatch)(),{navigateToMostRecentOverviewPage:a}=(0,h.useRouting)(),T=(0,o.useSelector)(v.getTotalUnapprovedSignatureRequestCount),x=(0,o.useSelector)(_.getSendTo),{identities:E,currentCurrency:k,blockGasLimit:w,signatureSecurityAlertResponses:C}=(0,o.useSelector)((e=>e.metamask)),P=(0,o.useSelector)(v.getMemoizedUnapprovedMessages),M=(0,o.useSelector)(v.getMemoizedUnapprovedPersonalMessages),S=(0,o.useSelector)(v.getMemoizedUnapprovedTypedMessages),O=(0,o.useSelector)(v.getUnapprovedTransactions),N=(0,o.useSelector)(v.getCurrentNetworkTransactions),j=(0,o.useSelector)(v.getMemoizedCurrentChainId),I=(0,o.useSelector)(v.getMemoizedTxId),[A,D]=(0,r.useState)(),F=(0,s.useHistory)();(0,r.useEffect)((()=>{0!==(0,p.default)(O||{},{},{},{},{},{},j).length||x||0!==T||a()}),[j,a,x,T,O]),(0,r.useEffect)((()=>{if(!A)return void D({index:I,unapprovedTxs:O});let t;const{params:{id:r}={}}=e;if(r)t=N.find((({id:e})=>`${e}`===r));else{const{index:e,unapprovedTxs:n}=A,a=(0,p.default)(n,{},{},{},{},{},j)[e]||{};t=N.find((({id:e})=>e===a.id))||{}}const o=(0,p.default)(O||{},{},{},{},{},{},j);t&&t.status===u.TransactionStatus.dropped?n(d.showModal({name:"TRANSACTION_CONFIRMED",onSubmit:()=>a()})):(0!==o.length||x||0!==T||a(),D({index:I,unapprovedTxs:O}))}),[]);const{params:{id:R}={}}=e,G=(0,r.useMemo)((()=>{const e=(0,p.default)(O||{},P,M,{},{},S,j);i.default.info(`rendering a combined ${e.length} unconf msgs & txs`);const t=R?e.find((({id:e})=>`${e}`===R)):e[I];return t?(0,l.cloneDeep)(t):{}}),[j,I,R,P,M,O,S]),L=null==C?void 0:C[null===(t=G.securityAlertResponse)||void 0===t?void 0:t.securityAlertId];L&&(G.securityAlertResponse=L);const B=(0,o.useSelector)((e=>{var t;return(0,v.getTargetSubjectMetadata)(e,null===(t=G.msgParams)||void 0===t?void 0:t.origin)}));if(!G.msgParams)return r.default.createElement(y.default,null);const $=((e,t)=>{const{type:n,msgParams:{version:a,siwe:r}}=e;return n!==b.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA||"V3"!==a&&"V4"!==a?null!=r&&r.isSIWEMessage&&t!==c.SubjectType.Snap?m.default:g.default:f.default})(G,B);return r.default.createElement($,{history:F,txData:G,key:G.id,identities:E,currentCurrency:k,blockGasLimit:w})};k.propTypes={match:a.default.shape({params:a.default.shape({id:a.default.string})})};n.default=(0,s.withRouter)(k)}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-signature-request\\index.js"}],[4909,{"../../../../shared/constants/common":3922,"../../../../shared/constants/network":3931,"../../../../shared/constants/transaction":3943,"../../../../shared/modules/conversion.utils":3957,"../../../components/app/user-preferenced-currency-display":4249,"../../../contexts/i18n":4634,"../../../ducks/metamask/metamask":4653,"../../../helpers/constants/common":4659,"../../../helpers/utils/confirm-tx.util":4686,"../../../selectors":5210,"../confirm-transaction-base":4913,"@metamask/etherscan-link":1196,"bignumber.js":2303,"prop-types":3451,react:3653,"react-redux":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=b(e("prop-types")),o=b(e("bignumber.js")),s=e("react-redux"),i=e("@metamask/etherscan-link"),l=e("../../../contexts/i18n"),c=b(e("../confirm-transaction-base")),u=b(e("../../../components/app/user-preferenced-currency-display")),d=e("../../../helpers/utils/confirm-tx.util"),p=e("../../../helpers/constants/common"),f=e("../../../selectors"),m=e("../../../ducks/metamask/metamask"),g=e("../../../../shared/constants/transaction"),y=e("../../../../shared/modules/conversion.utils"),h=e("../../../../shared/constants/common"),v=e("../../../../shared/constants/network");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function T({image:e="",assetName:t,toAddress:n,tokenAddress:r,tokenAmount:b="0",tokenSymbol:_,tokenId:T,assetStandard:x,onEdit:E,ethTransactionTotal:k,fiatTransactionTotal:w,hexMaximumTransactionFee:C}){const P=(0,a.useContext)(l.I18nContext),M=(0,s.useSelector)(f.contractExchangeRateSelector),S=(0,s.useSelector)(m.getNativeCurrency),O=(0,s.useSelector)(f.getCurrentCurrency),N=(0,s.useSelector)(m.getConversionRate),j=(0,s.useSelector)(f.getRpcPrefsForCurrentProvider),I=(0,s.useSelector)(f.getCurrentChainId),{address:A}=(0,s.useSelector)(f.getSelectedInternalAccount),D=(0,s.useSelector)(m.getNftContracts),F=Number((0,y.hexWEIToDecETH)(C)),R=e=>{const t=(null==j?void 0:j.blockExplorerUrl)||[...v.TEST_CHAINS,v.CHAIN_IDS.MAINNET,v.CHAIN_IDS.LINEA_MAINNET].includes(I),n=D.find((e=>e.address.toLowerCase()===r.toLowerCase())),o=_||(null==n?void 0:n.name)||P("unknownCollection");if("text"===e)return o;if(t){const e=(0,i.getTokenTrackerLink)(r,I,null,A,{blockExplorerUrl:(null==j?void 0:j.blockExplorerUrl)??null});return a.default.createElement(a.default.Fragment,null,a.default.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",title:r,className:"confirm-approve-content__approval-asset-link"},o))}return a.default.createElement(a.default.Fragment,null,a.default.createElement("span",{className:"confirm-approve-content__approval-asset-title",title:r},o))},G=e;let L,B,$;x===g.TokenStandard.ERC721||x===g.TokenStandard.ERC1155?(L=t||R(),B=`#${T}`,$=t||`${R("text")} #${T}`):x===g.TokenStandard.ERC20&&(L=`${b} ${_}`,$=`${b} ${_}`);const W=(0,a.useMemo)((()=>{if("0"===b||!M)return"0";const e=new o.default(b).times(new o.default(M?String(M):0)).toFixed();return(0,y.getWeiHexFromDecimalValue)({value:e,fromCurrency:h.EtherDenomination.ETH,fromDenomination:h.EtherDenomination.ETH})}),[b,M]),q=(0,a.useMemo)((()=>{if(void 0===M)return(0,d.formatCurrency)(w,O);const e=(0,d.convertTokenToFiat)({value:b,toCurrency:O,conversionRate:N,contractExchangeRate:M}),t=(0,d.addFiat)(e,w),n=(0,d.roundExponential)(t);return(0,d.formatCurrency)(n,O)}),[O,N,M,w,b]);return a.default.createElement(c.default,{assetStandard:x,toAddress:n,image:G,onEdit:E,tokenAddress:r,title:L,subtitleComponent:M===undefined&&B===undefined?a.default.createElement("span",null,P("noConversionRateAvailable")):B?a.default.createElement("span",null,B):a.default.createElement(u.default,{value:W,type:p.PRIMARY,showEthLogo:!0,hideLabel:!0}),primaryTotalTextOverride:`${$} + ${k} ${S}`,primaryTotalTextOverrideMaxAmount:`${$} + ${F} ${S}`,secondaryTotalTextOverride:q,tokenSymbol:_})}T.propTypes={image:r.default.string,assetName:r.default.string,toAddress:r.default.string,tokenAddress:r.default.string,tokenAmount:r.default.string,tokenSymbol:r.default.string,tokenId:r.default.string,assetStandard:r.default.string,onEdit:r.default.func,ethTransactionTotal:r.default.string,fiatTransactionTotal:r.default.string,hexMaximumTransactionFee:r.default.string}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-token-transaction-base\\confirm-token-transaction-base.js"}],[4910,{"./confirm-token-transaction-base":4909},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-token-transaction-base"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui\\pages\\confirmations\\confirm-token-transaction-base\\index.js"}]],[],{});